{"/home/travis/build/npmtest/node-npmtest-snyk/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_snyk */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-snyk/lib.npmtest_snyk.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/lib.npmtest_snyk.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":49}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":55}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_snyk */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_snyk = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_snyk = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-snyk/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":48}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":62},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-snyk && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_snyk */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_snyk","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_snyk.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_snyk.rollup.js'] =","            local.assetsDict['/assets.npmtest_snyk.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_snyk.__dirname + '/lib.npmtest_snyk.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":1,"19":1,"20":3,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0,"30":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":3,"3":0,"4":0},"fnMap":{"1":{"name":"snyk","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}}},"2":{"name":"(anonymous_2)","line":43,"loc":{"start":{"line":43,"column":7},"end":{"line":43,"column":19}}},"3":{"name":"(anonymous_3)","line":46,"loc":{"start":{"line":46,"column":7},"end":{"line":46,"column":24}}},"4":{"name":"(anonymous_4)","line":58,"loc":{"start":{"line":58,"column":8},"end":{"line":58,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}},"4":{"start":{"line":6,"column":0},"end":{"line":33,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":9,"column":3}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":17}},"7":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":33}},"9":{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},"10":{"start":{"line":16,"column":4},"end":{"line":16,"column":25}},"11":{"start":{"line":21,"column":2},"end":{"line":21,"column":42}},"12":{"start":{"line":23,"column":2},"end":{"line":30,"column":3}},"13":{"start":{"line":24,"column":4},"end":{"line":27,"column":5}},"14":{"start":{"line":25,"column":6},"end":{"line":26,"column":25}},"15":{"start":{"line":29,"column":4},"end":{"line":29,"column":27}},"16":{"start":{"line":32,"column":2},"end":{"line":32,"column":14}},"17":{"start":{"line":35,"column":0},"end":{"line":35,"column":24}},"18":{"start":{"line":37,"column":0},"end":{"line":37,"column":38}},"19":{"start":{"line":40,"column":0},"end":{"line":49,"column":3}},"20":{"start":{"line":44,"column":4},"end":{"line":44,"column":22}},"21":{"start":{"line":47,"column":4},"end":{"line":47,"column":27}},"22":{"start":{"line":51,"column":0},"end":{"line":51,"column":36}},"23":{"start":{"line":52,"column":0},"end":{"line":52,"column":35}},"24":{"start":{"line":53,"column":0},"end":{"line":53,"column":36}},"25":{"start":{"line":54,"column":0},"end":{"line":54,"column":28}},"26":{"start":{"line":55,"column":0},"end":{"line":55,"column":37}},"27":{"start":{"line":56,"column":0},"end":{"line":56,"column":23}},"28":{"start":{"line":57,"column":0},"end":{"line":61,"column":2}},"29":{"start":{"line":59,"column":4},"end":{"line":59,"column":16}},"30":{"start":{"line":64,"column":0},"end":{"line":64,"column":39}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"3":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"4":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":23,"column":2}},{"start":{"line":23,"column":2},"end":{"line":23,"column":2}}]},"5":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":21}},{"start":{"line":23,"column":25},"end":{"line":23,"column":45}}]},"6":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]}},"code":["module.exports = snyk;","","var cluster = require('cluster');","var snykConfig = require('./config');","","function snyk(options) {","  if (!options) {","    options = {};","  }","","  if (options.api) {","    snykConfig.api = options.api;","  }","","  if (options.id) {","    snyk.id = options.id;","  }","","  // FIXME add in pid + whether master + hostname + all these fields","","  snyk.config.isMaster = cluster.isMaster;","","  if (options.monitor && snyk.config.isMaster) {","    if (!snyk.api) {","      throw new Error('Snyk monitors require an authenticated account ' +","        'and API token');","    }","    // hook();","    require('./capture')();","  }","","  return snyk;","}","","snyk.id = snykConfig.id;","","var apiToken = require('./api-token');","","// make snyk.api *always* get the latest api token from the config store","Object.defineProperty(snyk, 'api', {","  enumerable: true,","  configurable: true,","  get: function () {","    return apiToken();","  },","  set: function (value) {","    snykConfig.api = value;","  },","});","","snyk.modules = require('./modules');","snyk.test = require('./snyk-test');","snyk.monitor = require('./monitor');","snyk.bus = require('./bus');","snyk.policy = require('snyk-policy');","snyk.isRequired = true; // changed to false when loaded via cli","snyk.isolate = {","  okay: function () {","    return true;","  },","};","","// this is the user config, and not the internal config","snyk.config = require('./user-config');",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"8":0,"11":0,"12":0,"15":0,"16":0,"21":0,"23":0,"24":0,"25":0,"29":0,"32":0,"35":1,"37":1,"40":1,"44":3,"47":0,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"59":0,"64":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/config.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/config.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":0,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1},"b":{"1":[0,1],"2":[0,1],"3":[1,1],"4":[1,0],"5":[0,1],"6":[1,0]},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":55}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":56}},"4":{"start":{"line":7,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":24}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":46}},"7":{"start":{"line":12,"column":0},"end":{"line":14,"column":1}},"8":{"start":{"line":13,"column":2},"end":{"line":13,"column":19}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":54}},"10":{"start":{"line":20,"column":0},"end":{"line":22,"column":1}},"11":{"start":{"line":21,"column":2},"end":{"line":21,"column":57}},"12":{"start":{"line":26,"column":0},"end":{"line":30,"column":1}},"13":{"start":{"line":27,"column":2},"end":{"line":27,"column":27}},"14":{"start":{"line":28,"column":2},"end":{"line":28,"column":37}},"15":{"start":{"line":29,"column":2},"end":{"line":29,"column":53}},"16":{"start":{"line":32,"column":0},"end":{"line":32,"column":24}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":0},"end":{"line":7,"column":0}},{"start":{"line":7,"column":0},"end":{"line":7,"column":0}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":0},"end":{"line":12,"column":0}},{"start":{"line":12,"column":0},"end":{"line":12,"column":0}}]},"3":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":22}}]},"4":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":0},"end":{"line":20,"column":0}},{"start":{"line":20,"column":0},"end":{"line":20,"column":0}}]},"5":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":30},"end":{"line":21,"column":38}},{"start":{"line":21,"column":41},"end":{"line":21,"column":56}}]},"6":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":0},"end":{"line":26,"column":0}},{"start":{"line":26,"column":0},"end":{"line":26,"column":0}}]}},"code":["var config = require('snyk-config')(__dirname + '/..');","","var DEFAULT_TIMEOUT = 5 * 60; // in seconds","","// allow user config override of the api end point","var endpoint = require('./user-config').get('endpoint');","if (endpoint) {","  config.API = endpoint;","}","","var org = require('./user-config').get('org');","if (!config.org && org) {","  config.org = org;","}","","// client request timeout","// to change, set this config key to the desired value in seconds","// invalid (non-numeric) value will fallback to the default","var timeout = require('./user-config').get('timeout');","if (!config.timeout) {","  config.timeout = +timeout ? +timeout : DEFAULT_TIMEOUT;","}","","// this is a bit of an assumption that our web site origin is the same","// as our API origin, but for now it's okay - RS 2015-10-16","if (!config.ROOT) {","  var url = require('url');","  var apiUrl = url.parse(config.API);","  config.ROOT = apiUrl.protocol + '//' + apiUrl.host;","}","","module.exports = config;",""],"l":{"1":1,"3":1,"6":1,"7":1,"8":0,"11":1,"12":1,"13":0,"19":1,"20":1,"21":1,"26":1,"27":1,"28":1,"29":1,"32":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-config/lib/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-config/lib/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":1,"10":0,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":6,"19":0,"20":0,"21":1,"22":1},"b":{"1":[0,1],"2":[0,1],"3":[0,6]},"f":{"1":1,"2":6},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":17},"end":{"line":7,"column":32}}},"2":{"name":"(anonymous_2)","line":30,"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":44}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":49}},"6":{"start":{"line":7,"column":0},"end":{"line":40,"column":2}},"7":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":13}},"9":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":66}},"11":{"start":{"line":17,"column":2},"end":{"line":17,"column":30}},"12":{"start":{"line":19,"column":2},"end":{"line":23,"column":5}},"13":{"start":{"line":24,"column":2},"end":{"line":24,"column":15}},"14":{"start":{"line":25,"column":2},"end":{"line":25,"column":72}},"15":{"start":{"line":26,"column":2},"end":{"line":26,"column":76}},"16":{"start":{"line":28,"column":2},"end":{"line":28,"column":27}},"17":{"start":{"line":30,"column":2},"end":{"line":35,"column":5}},"18":{"start":{"line":31,"column":4},"end":{"line":34,"column":5}},"19":{"start":{"line":32,"column":6},"end":{"line":32,"column":54}},"20":{"start":{"line":33,"column":6},"end":{"line":33,"column":25}},"21":{"start":{"line":37,"column":2},"end":{"line":37,"column":63}},"22":{"start":{"line":39,"column":2},"end":{"line":39,"column":16}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]}},"code":["var debug = require('debug')('snyk:config');","var nconf = require('nconf');","require('./nconf-truth');","var path = require('path');","var pathIsAbsolute = require('path-is-absolute'); // comes with 0.12.x","","module.exports = function (dir) {","  if (!dir) {","    dir = '';","  }","","  if (!pathIsAbsolute(dir)) {","    throw new Error('config requires absolute path to read from');","  }","","","  var snykMatch = /^SNYK_.*$/;","","  nconf.env({","    separator: '__',","    match: snykMatch,","    whitelist: ['NODE_ENV', 'PORT'],","  });","  nconf.argv();","  nconf.file('local', { file: path.resolve(dir, 'config.local.json') });","  nconf.file('default', { file: path.resolve(dir, 'config.default.json') });","","  var config = nconf.get();","","  Object.keys(config).forEach(function (key) {","    if (key.match(snykMatch)) {","      config[key.replace(/^SNYK_/, '')] = config[key];","      delete config[key];","    }","  });","","  debug('loading from %s', dir, JSON.stringify(config, '', 2));","","  return config;","};"],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":1,"9":0,"12":1,"13":0,"17":1,"19":1,"24":1,"25":1,"26":1,"28":1,"30":1,"31":6,"32":0,"33":0,"37":1,"39":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-config/lib/nconf-truth.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-config/lib/nconf-truth.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":267,"8":267,"9":0,"10":0,"11":0,"12":2,"13":2,"14":0,"15":2,"16":0,"17":2,"18":2,"19":0,"20":1,"21":1},"b":{"1":[267,0],"2":[267,267],"3":[267,267],"4":[0,0],"5":[0,0],"6":[0,2],"7":[0,2],"8":[2,0]},"f":{"1":1,"2":267,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":30},"end":{"line":8,"column":42}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":34},"end":{"line":12,"column":49}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":13},"end":{"line":20,"column":28}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":29}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}},"3":{"start":{"line":8,"column":0},"end":{"line":37,"column":2}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":18}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":24}},"6":{"start":{"line":12,"column":2},"end":{"line":33,"column":5}},"7":{"start":{"line":13,"column":4},"end":{"line":19,"column":5}},"8":{"start":{"line":14,"column":6},"end":{"line":14,"column":73}},"9":{"start":{"line":15,"column":11},"end":{"line":19,"column":5}},"10":{"start":{"line":16,"column":6},"end":{"line":16,"column":35}},"11":{"start":{"line":18,"column":6},"end":{"line":18,"column":74}},"12":{"start":{"line":21,"column":4},"end":{"line":21,"column":33}},"13":{"start":{"line":22,"column":4},"end":{"line":26,"column":5}},"14":{"start":{"line":23,"column":6},"end":{"line":23,"column":19}},"15":{"start":{"line":24,"column":11},"end":{"line":26,"column":5}},"16":{"start":{"line":25,"column":6},"end":{"line":25,"column":20}},"17":{"start":{"line":28,"column":4},"end":{"line":32,"column":5}},"18":{"start":{"line":29,"column":6},"end":{"line":29,"column":75}},"19":{"start":{"line":31,"column":6},"end":{"line":31,"column":27}},"20":{"start":{"line":35,"column":2},"end":{"line":35,"column":23}},"21":{"start":{"line":36,"column":2},"end":{"line":36,"column":20}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":8},"end":{"line":13,"column":18}},{"start":{"line":13,"column":22},"end":{"line":13,"column":43}}]},"3":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":13},"end":{"line":14,"column":34}},{"start":{"line":14,"column":38},"end":{"line":14,"column":72}}]},"4":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":11},"end":{"line":15,"column":11}},{"start":{"line":15,"column":11},"end":{"line":15,"column":11}}]},"5":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":13},"end":{"line":18,"column":35}},{"start":{"line":18,"column":39},"end":{"line":18,"column":73}}]},"6":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"7":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":11},"end":{"line":24,"column":11}},{"start":{"line":24,"column":11},"end":{"line":24,"column":11}}]},"8":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]}},"code":["/**"," * monkey patch nconf to support TRUE & FALSE on env & arg to port to bool"," */","","var nconf = require('nconf');","var common = require('nconf/lib/nconf/common');","","nconf.Env.prototype.loadEnv = function () {","  var self = this;","","  this.readOnly = false;","  Object.keys(process.env).filter(function (key) {","    if (self.match && self.whitelist.length) {","      return key.match(self.match) || self.whitelist.indexOf(key) !== -1;","    } else if (self.match) {","      return key.match(self.match);","    } else {","      return !self.whitelist.length || self.whitelist.indexOf(key) !== -1;","    }","  }).forEach(function (key) {","    var value = process.env[key];","    if (value === 'TRUE') {","      value = true;","    } else if (value === 'FALSE') {","      value = false;","    }","","    if (self.separator) {","      self.set(common.key.apply(common, key.split(self.separator)), value);","    } else {","      self.set(key, value);","    }","  });","","  this.readOnly = true;","  return this.store;","};"],"l":{"5":1,"6":1,"8":1,"9":1,"11":1,"12":1,"13":267,"14":267,"15":0,"16":0,"18":0,"21":2,"22":2,"23":0,"24":2,"25":0,"28":2,"29":2,"31":0,"35":1,"36":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/user-config.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/user-config.js","s":{"1":1,"2":1,"3":1,"4":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":50}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":24}}},"branchMap":{},"code":["var Configstore = require('configstore');","var pkg = require(__dirname + '/../package.json');","var config = new Configstore(pkg.name);","","module.exports = config;"],"l":{"1":1,"2":1,"3":1,"5":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/api-token.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/api-token.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":3,"10":1,"11":0,"12":0},"b":{"1":[3,3,3],"2":[0,0],"3":[0,0]},"f":{"1":3,"2":0},"fnMap":{"1":{"name":"api","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":15}}},"2":{"name":"exists","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":38}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"8":{"start":{"line":10,"column":0},"end":{"line":13,"column":1}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":61}},"10":{"start":{"line":15,"column":0},"end":{"line":18,"column":1}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":38}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":59}}},"branchMap":{"1":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":9},"end":{"line":12,"column":19}},{"start":{"line":12,"column":23},"end":{"line":12,"column":35}},{"start":{"line":12,"column":39},"end":{"line":12,"column":60}}]},"2":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":18},"end":{"line":16,"column":23}},{"start":{"line":16,"column":27},"end":{"line":16,"column":37}}]},"3":{"line":17,"type":"cond-expr","locations":[{"start":{"line":17,"column":17},"end":{"line":17,"column":34}},{"start":{"line":17,"column":37},"end":{"line":17,"column":58}}]}},"code":["module.exports = api;","module.exports.exists = exists;","","var config = require('./config');","var userConfig = require('./user-config');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var error = new Error('NO_API_TOKEN');","error.code = 'NO_API_TOKEN';","","function api() {","  // note: config.TOKEN will potentially come via the environment","  return config.api || config.TOKEN || userConfig.get('api');","}","","function exists(label) {","  error.message = label || error.code;","  return api() ? Promise.resolve() : Promise.reject(error);","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"12":3,"15":1,"16":0,"17":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/modules.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/modules.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}}},"branchMap":{},"code":["module.exports = require('snyk-resolve-deps');",""],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/index.js","s":{"1":1,"2":0,"3":0,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":41}}},"2":{"name":"(anonymous_2)","line":2,"loc":{"start":{"line":2,"column":32},"end":{"line":2,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":2}},"2":{"start":{"line":2,"column":2},"end":{"line":4,"column":5}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":37}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":42}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":44}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":67}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":68}}},"branchMap":{},"code":["module.exports = function (dir, options) {","  return physicalTree(dir).then(function (res) {","    return logicalTree(res, options);","  });","};","","// expose interal API","module.exports.walk = require('./walk');","module.exports.prune = require('./prune');","module.exports.pluck = require('./pluck');","module.exports.unique = require('./unique');","","var physicalTree = module.exports.physicalTree = require('./deps');","var logicalTree = module.exports.logicalTree = require('./logical');",""],"l":{"1":1,"2":0,"3":0,"8":1,"9":1,"10":1,"11":1,"13":1,"14":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/walk.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/walk.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"walk","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":28},"end":{"line":12,"column":44}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":6,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":14}},"5":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":29}},"7":{"start":{"line":12,"column":2},"end":{"line":17,"column":5}},"8":{"start":{"line":13,"column":4},"end":{"line":13,"column":45}},"9":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"10":{"start":{"line":15,"column":6},"end":{"line":15,"column":44}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"4":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":12}},{"start":{"line":14,"column":16},"end":{"line":14,"column":26}},{"start":{"line":14,"column":30},"end":{"line":14,"column":44}}]}},"code":["module.exports = walk;","","function walk(deps, filter) {","  if (!deps) {","    return [];","  }","","  if (deps.dependencies) {","    deps = deps.dependencies;","  }","","  Object.keys(deps).forEach(function (name) {","    var res = filter(deps[name], name, deps);","    if (!res && deps[name] && deps[name].dep) {","      walk(deps[name].dependencies, filter);","    }","  });","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"8":0,"9":0,"12":0,"13":0,"14":0,"15":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/prune.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/prune.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"prune","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":25},"end":{"line":12,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":23,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":32}},"4":{"start":{"line":5,"column":2},"end":{"line":7,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":26}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":49}},"7":{"start":{"line":11,"column":2},"end":{"line":20,"column":3}},"8":{"start":{"line":12,"column":4},"end":{"line":18,"column":14}},"9":{"start":{"line":13,"column":6},"end":{"line":16,"column":7}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":38}},"11":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"12":{"start":{"line":17,"column":6},"end":{"line":17,"column":18}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":26}},"14":{"start":{"line":22,"column":2},"end":{"line":22,"column":16}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]},"2":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":25},"end":{"line":9,"column":41}},{"start":{"line":9,"column":45},"end":{"line":9,"column":47}}]},"3":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"4":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":6},"end":{"line":13,"column":6}},{"start":{"line":13,"column":6},"end":{"line":13,"column":6}}]}},"code":["module.exports = prune;","","function prune(pkg, shouldPrune) {","  var remove = shouldPrune(pkg);","  if (!remove) {","    pkg.dependencies = {};","  }","","  var deps = Object.keys(pkg.dependencies || {});","","  if (deps.length) {","    remove = deps.filter(function (name) {","      if (prune(pkg.dependencies[name], shouldPrune)) {","        delete pkg.dependencies[name];","        return false;","      }","      return true;","    }).length;","    remove = remove === 0;","  }","","  return remove;","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"9":0,"11":0,"12":0,"13":0,"14":0,"15":0,"17":0,"19":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/pluck.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/pluck.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"pluck","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}}},"2":{"name":"getMatch","line":60,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":51}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"6":{"start":{"line":8,"column":0},"end":{"line":58,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":16}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":27}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":65}},"11":{"start":{"line":20,"column":2},"end":{"line":22,"column":3}},"12":{"start":{"line":21,"column":4},"end":{"line":21,"column":17}},"13":{"start":{"line":26,"column":2},"end":{"line":29,"column":3}},"14":{"start":{"line":28,"column":4},"end":{"line":28,"column":15}},"15":{"start":{"line":33,"column":2},"end":{"line":33,"column":32}},"16":{"start":{"line":35,"column":2},"end":{"line":35,"column":62}},"17":{"start":{"line":37,"column":2},"end":{"line":37,"column":20}},"18":{"start":{"line":38,"column":2},"end":{"line":38,"column":18}},"19":{"start":{"line":39,"column":2},"end":{"line":39,"column":20}},"20":{"start":{"line":41,"column":2},"end":{"line":55,"column":3}},"21":{"start":{"line":42,"column":4},"end":{"line":42,"column":52}},"22":{"start":{"line":43,"column":4},"end":{"line":43,"column":53}},"23":{"start":{"line":45,"column":4},"end":{"line":54,"column":5}},"24":{"start":{"line":46,"column":6},"end":{"line":46,"column":19}},"25":{"start":{"line":47,"column":6},"end":{"line":47,"column":26}},"26":{"start":{"line":48,"column":6},"end":{"line":48,"column":18}},"27":{"start":{"line":50,"column":6},"end":{"line":50,"column":28}},"28":{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},"29":{"start":{"line":52,"column":8},"end":{"line":52,"column":21}},"30":{"start":{"line":57,"column":2},"end":{"line":57,"column":43}},"31":{"start":{"line":60,"column":0},"end":{"line":85,"column":1}},"32":{"start":{"line":61,"column":2},"end":{"line":61,"column":57}},"33":{"start":{"line":62,"column":2},"end":{"line":64,"column":3}},"34":{"start":{"line":63,"column":4},"end":{"line":63,"column":17}},"35":{"start":{"line":66,"column":2},"end":{"line":66,"column":28}},"36":{"start":{"line":67,"column":2},"end":{"line":67,"column":76}},"37":{"start":{"line":69,"column":2},"end":{"line":71,"column":37}},"38":{"start":{"line":73,"column":2},"end":{"line":74,"column":31}},"39":{"start":{"line":76,"column":2},"end":{"line":82,"column":3}},"40":{"start":{"line":77,"column":4},"end":{"line":77,"column":25}},"41":{"start":{"line":78,"column":4},"end":{"line":80,"column":5}},"42":{"start":{"line":79,"column":6},"end":{"line":79,"column":22}},"43":{"start":{"line":81,"column":4},"end":{"line":81,"column":15}},"44":{"start":{"line":84,"column":2},"end":{"line":84,"column":15}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"3":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]},"4":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":6},"end":{"line":26,"column":23}},{"start":{"line":27,"column":6},"end":{"line":27,"column":70}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":4}},{"start":{"line":45,"column":4},"end":{"line":45,"column":4}}]},"6":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":6},"end":{"line":51,"column":6}},{"start":{"line":51,"column":6},"end":{"line":51,"column":6}}]},"7":{"line":57,"type":"cond-expr","locations":[{"start":{"line":57,"column":30},"end":{"line":57,"column":34}},{"start":{"line":57,"column":37},"end":{"line":57,"column":42}}]},"8":{"line":61,"type":"binary-expr","locations":[{"start":{"line":61,"column":12},"end":{"line":61,"column":29}},{"start":{"line":61,"column":33},"end":{"line":61,"column":56}}]},"9":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":2},"end":{"line":62,"column":2}},{"start":{"line":62,"column":2},"end":{"line":62,"column":2}}]},"10":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":20},"end":{"line":69,"column":44}},{"start":{"line":70,"column":4},"end":{"line":70,"column":25}},{"start":{"line":71,"column":4},"end":{"line":71,"column":36}}]},"11":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":24},"end":{"line":73,"column":49}},{"start":{"line":74,"column":4},"end":{"line":74,"column":30}}]},"12":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":2},"end":{"line":76,"column":2}},{"start":{"line":76,"column":2},"end":{"line":76,"column":2}}]},"13":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":17}},{"start":{"line":76,"column":21},"end":{"line":76,"column":36}}]},"14":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":78,"column":4}},{"start":{"line":78,"column":4},"end":{"line":78,"column":4}}]}},"code":["module.exports = pluck;","","var semver = require('semver');","var moduleToObject = require('snyk-module');","var debug = require('debug')('snyk:resolve:pluck');","var parseOptions = { loose: true };","","function pluck(root, path, name, range) {","  if (range === 'latest') {","    range = '*';","  }","","  // Cycle through the tree path via the root tree object **ala node require**.","  // note that we don't need the first item in the path (which is the root","  // package name).","  var from = path.slice(0);","  var rootPath = moduleToObject(from.shift(), parseOptions).name;","","  // if the root of the virtual tree doesn't even match our path, bail out","  if (rootPath !== root.name) {","    return false;","  }","","  // do a check to see if the last item in the path is actually the package","  // we're looking for, and if it's not, push it on","  if (from.length !== 0 &&","      moduleToObject(from.slice(-1).pop(), parseOptions).name === name) {","    from.pop();","  }","","  // then we always put the target package on the end of the chain","  // to ensure it's in exactly the right format to be used in `getMatch`","  from.push(name + '@' + range);","","  debug('using forward search %s@%s in %s', from.join(' > '));","","  var match = false;","  var leaf = root;","  var realPath = [];","","  while (from.length) {","    var pkg = moduleToObject(from[0], parseOptions);","    var test = getMatch(leaf, pkg.name, pkg.version);","","    if (test) {","      from.shift();","      realPath.push(leaf);","      leaf = test;","    } else {","      leaf = realPath.pop();","      if (!leaf) {","        return false;","      }","    }","  }","","  return leaf.name === name ? leaf : false;","}","","function getMatch(root, name, range) {","  var dep = root.dependencies && root.dependencies[name];","  if (!dep) {","    return false;","  }","","  var version = dep.version;","  debug('pluck match on name...checking version: %s ~= %s', version, range);","  // make sure it matches our range","  var semverMatch = semver.validRange(range) &&","    semver.valid(version) &&","    semver.satisfies(version, range);","","  var externalPackage = !semver.validRange(range) &&","    range.indexOf(':/') !== -1;","","  if (semverMatch || externalPackage) {","    debug('pluck match');","    if (!dep.dep) {","      dep.dep = range;","    }","    return dep;","  }","","  return false;","}"],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"16":0,"17":0,"20":0,"21":0,"26":0,"28":0,"33":0,"35":0,"37":0,"38":0,"39":0,"41":0,"42":0,"43":0,"45":0,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"57":0,"60":1,"61":0,"62":0,"63":0,"66":0,"67":0,"69":0,"73":0,"76":0,"77":0,"78":0,"79":0,"81":0,"84":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-module/lib/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-module/lib/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":1,"72":0,"73":1,"74":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,1]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"moduleToObject","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":47}}},"2":{"name":"looksLikeUrl","line":64,"loc":{"start":{"line":64,"column":0},"end":{"line":64,"column":27}}},"3":{"name":"fromGitObject","line":91,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":28}}},"4":{"name":"encode","line":116,"loc":{"start":{"line":116,"column":0},"end":{"line":116,"column":22}}},"5":{"name":"supported","line":120,"loc":{"start":{"line":120,"column":0},"end":{"line":120,"column":41}}},"6":{"name":"toString","line":161,"loc":{"start":{"line":161,"column":0},"end":{"line":161,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":14,"column":0},"end":{"line":62,"column":1}},"6":{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},"7":{"start":{"line":16,"column":4},"end":{"line":16,"column":60}},"8":{"start":{"line":19,"column":2},"end":{"line":22,"column":3}},"9":{"start":{"line":20,"column":4},"end":{"line":20,"column":22}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":19}},"11":{"start":{"line":24,"column":2},"end":{"line":27,"column":3}},"12":{"start":{"line":25,"column":4},"end":{"line":25,"column":43}},"13":{"start":{"line":26,"column":4},"end":{"line":26,"column":25}},"14":{"start":{"line":30,"column":2},"end":{"line":30,"column":36}},"15":{"start":{"line":31,"column":2},"end":{"line":34,"column":3}},"16":{"start":{"line":33,"column":4},"end":{"line":33,"column":61}},"17":{"start":{"line":36,"column":2},"end":{"line":36,"column":29}},"18":{"start":{"line":38,"column":2},"end":{"line":42,"column":3}},"19":{"start":{"line":40,"column":4},"end":{"line":40,"column":27}},"20":{"start":{"line":41,"column":4},"end":{"line":41,"column":30}},"21":{"start":{"line":45,"column":2},"end":{"line":45,"column":49}},"22":{"start":{"line":47,"column":2},"end":{"line":50,"column":3}},"23":{"start":{"line":49,"column":4},"end":{"line":49,"column":71}},"24":{"start":{"line":52,"column":2},"end":{"line":54,"column":3}},"25":{"start":{"line":53,"column":4},"end":{"line":53,"column":20}},"26":{"start":{"line":56,"column":2},"end":{"line":59,"column":4}},"27":{"start":{"line":61,"column":2},"end":{"line":61,"column":41}},"28":{"start":{"line":64,"column":0},"end":{"line":89,"column":1}},"29":{"start":{"line":65,"column":2},"end":{"line":68,"column":3}},"30":{"start":{"line":67,"column":4},"end":{"line":67,"column":27}},"31":{"start":{"line":70,"column":2},"end":{"line":84,"column":3}},"32":{"start":{"line":78,"column":4},"end":{"line":78,"column":70}},"33":{"start":{"line":79,"column":4},"end":{"line":79,"column":46}},"34":{"start":{"line":81,"column":4},"end":{"line":83,"column":5}},"35":{"start":{"line":82,"column":6},"end":{"line":82,"column":31}},"36":{"start":{"line":86,"column":2},"end":{"line":86,"column":33}},"37":{"start":{"line":88,"column":2},"end":{"line":88,"column":13}},"38":{"start":{"line":91,"column":0},"end":{"line":114,"column":1}},"39":{"start":{"line":92,"column":2},"end":{"line":92,"column":20}},"40":{"start":{"line":97,"column":2},"end":{"line":102,"column":3}},"41":{"start":{"line":99,"column":4},"end":{"line":99,"column":62},"skip":true},"42":{"start":{"line":100,"column":4},"end":{"line":100,"column":21},"skip":true},"43":{"start":{"line":101,"column":4},"end":{"line":101,"column":16},"skip":true},"44":{"start":{"line":104,"column":2},"end":{"line":107,"column":4}},"45":{"start":{"line":109,"column":2},"end":{"line":111,"column":3}},"46":{"start":{"line":110,"column":4},"end":{"line":110,"column":43}},"47":{"start":{"line":113,"column":2},"end":{"line":113,"column":16}},"48":{"start":{"line":116,"column":0},"end":{"line":118,"column":1}},"49":{"start":{"line":117,"column":2},"end":{"line":117,"column":53}},"50":{"start":{"line":120,"column":0},"end":{"line":159,"column":1}},"51":{"start":{"line":121,"column":2},"end":{"line":123,"column":3}},"52":{"start":{"line":122,"column":4},"end":{"line":122,"column":17}},"53":{"start":{"line":125,"column":2},"end":{"line":125,"column":12}},"54":{"start":{"line":127,"column":2},"end":{"line":132,"column":3}},"55":{"start":{"line":128,"column":4},"end":{"line":130,"column":5}},"56":{"start":{"line":129,"column":6},"end":{"line":129,"column":60}},"57":{"start":{"line":131,"column":4},"end":{"line":131,"column":18}},"58":{"start":{"line":134,"column":2},"end":{"line":134,"column":68}},"59":{"start":{"line":135,"column":2},"end":{"line":144,"column":3}},"60":{"start":{"line":138,"column":4},"end":{"line":138,"column":68}},"61":{"start":{"line":139,"column":4},"end":{"line":143,"column":5}},"62":{"start":{"line":140,"column":6},"end":{"line":140,"column":28}},"63":{"start":{"line":142,"column":6},"end":{"line":142,"column":79}},"64":{"start":{"line":146,"column":2},"end":{"line":149,"column":3}},"65":{"start":{"line":147,"column":4},"end":{"line":147,"column":21}},"66":{"start":{"line":148,"column":4},"end":{"line":148,"column":16}},"67":{"start":{"line":151,"column":2},"end":{"line":153,"column":3}},"68":{"start":{"line":152,"column":4},"end":{"line":152,"column":25}},"69":{"start":{"line":155,"column":2},"end":{"line":156,"column":38}},"70":{"start":{"line":158,"column":2},"end":{"line":158,"column":16}},"71":{"start":{"line":161,"column":0},"end":{"line":163,"column":1}},"72":{"start":{"line":162,"column":2},"end":{"line":162,"column":44}},"73":{"start":{"line":166,"column":0},"end":{"line":169,"column":1}},"74":{"start":{"line":168,"column":2},"end":{"line":168,"column":65},"skip":true}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"3":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":13}},{"start":{"line":19,"column":17},"end":{"line":19,"column":25}},{"start":{"line":19,"column":29},"end":{"line":19,"column":56}}]},"4":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":24,"column":2}},{"start":{"line":24,"column":2},"end":{"line":24,"column":2}}]},"5":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":13}},{"start":{"line":24,"column":17},"end":{"line":24,"column":41}}]},"6":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":31,"column":2}},{"start":{"line":31,"column":2},"end":{"line":31,"column":2}}]},"7":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"8":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":14},"end":{"line":45,"column":22}},{"start":{"line":45,"column":26},"end":{"line":45,"column":48}}]},"9":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"10":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":2},"end":{"line":52,"column":2}},{"start":{"line":52,"column":2},"end":{"line":52,"column":2}}]},"11":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]},"12":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":2},"end":{"line":70,"column":2}},{"start":{"line":70,"column":2},"end":{"line":70,"column":2}}]},"13":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":6},"end":{"line":70,"column":56}},{"start":{"line":71,"column":6},"end":{"line":71,"column":31}}]},"14":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":4}},{"start":{"line":81,"column":4},"end":{"line":81,"column":4}}]},"15":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2},"skip":true},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]},"16":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":6},"end":{"line":97,"column":18}},{"start":{"line":97,"column":22},"end":{"line":97,"column":31}}]},"17":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":2},"end":{"line":109,"column":2}},{"start":{"line":109,"column":2},"end":{"line":109,"column":2}}]},"18":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":2},"end":{"line":121,"column":2}},{"start":{"line":121,"column":2},"end":{"line":121,"column":2}}]},"19":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":2},"end":{"line":127,"column":2}},{"start":{"line":127,"column":2},"end":{"line":127,"column":2}}]},"20":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":4}},{"start":{"line":128,"column":4},"end":{"line":128,"column":4}}]},"21":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":2},"end":{"line":135,"column":2}},{"start":{"line":135,"column":2},"end":{"line":135,"column":2}}]},"22":{"line":135,"type":"binary-expr","locations":[{"start":{"line":135,"column":6},"end":{"line":135,"column":19}},{"start":{"line":136,"column":6},"end":{"line":136,"column":39}}]},"23":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":4}},{"start":{"line":139,"column":4},"end":{"line":139,"column":4}}]},"24":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":2},"end":{"line":146,"column":2}},{"start":{"line":146,"column":2},"end":{"line":146,"column":2}}]},"25":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":2},"end":{"line":151,"column":2}},{"start":{"line":151,"column":2},"end":{"line":151,"column":2}}]},"26":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":6},"end":{"line":151,"column":33}},{"start":{"line":151,"column":37},"end":{"line":151,"column":52}}]},"27":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":0},"end":{"line":166,"column":0},"skip":true},{"start":{"line":166,"column":0},"end":{"line":166,"column":0}}]}},"code":["module.exports = moduleToObject;","module.exports.encode = encode;","","var debug = require('debug')('snyk:module');","var gitHost = require('hosted-git-info');","","/**"," * Converts a string module name to an object"," * @param  {String} str     Required module name (can also include @version)"," * @param  {String} version Optional version"," * @param  {Object} options { loose: Boolean }"," * @return {Object}         Containing .name & .version properties"," */","function moduleToObject(str, version, options) {","  if (!str) {","    throw new Error('requires string to parse into module');","  }","","  if (version && !options && typeof version === 'object') {","    options = version;","    version = null;","  }","","  if (version && str.lastIndexOf('@') < 1) {","    debug('appending version onto string');","    str += '@' + version;","  }","","  // first try with regular git urls","  var gitObject = looksLikeUrl(str);","  if (gitObject) {","    // then the string looks like a url, let's try to parse it","    return supported(str, fromGitObject(gitObject), options);","  }","","  var parts = str.split('@');","","  if (str.indexOf('@') === 0) {","    // put the scoped package name back together","    parts = parts.slice(1);","    parts[0] = '@' + parts[0];","  }","","  // then as a backup, try pkg@giturl","  gitObject = parts[1] && looksLikeUrl(parts[1]);","","  if (gitObject) {","    // then the string looks like a url, let's try to parse it","    return supported(str, fromGitObject(gitObject, parts[0]), options);","  }","","  if (parts.length === 1) { // no version","    parts.push('*');","  }","","  var module = {","    name: parts[0],","    version: parts[1],","  };","","  return supported(str, module, options);","}","","function looksLikeUrl(str) {","  if (str.slice(-1) === '/') {","    // strip the trailing slash since we can't parse it properly anyway","    str = str.slice(0, -1);","  }","","  if (str.toLowerCase().indexOf('://github.com/') !== -1 &&","      str.indexOf('http') === 0) {","    // attempt to get better compat with our parser by stripping the github","    // and url parts","    // examples:","    // - https://github.com/Snyk/snyk/releases/tag/v1.14.2","    // - https://github.com/Snyk/vulndb/tree/snapshots","    // - https://github.com/Snyk/snyk/commit/75477b18","    var parts = str.replace(/https?:\\/\\/github.com\\//, '').split('/');","    str = parts.shift() + '/' + parts.shift();","","    if (parts.length) {","      str += '#' + parts.pop();","    }","  }","","  var obj = gitHost.fromUrl(str);","","  return obj;","}","","function fromGitObject(obj) {","  var error = false;","","  // debug('parsed from hosted-git-info');","","  /* istanbul ignore if */","  if (!obj.project || !obj.user) {","    // this should never actually occur","    error = new Error('not supported: failed to fully parse');","    error.code = 501;","    throw error;","  }","","  var module = {","    name: obj.project,","    version: obj.user + '/' + obj.project,","  };","","  if (obj.committish) {","    module.version += '#' + obj.committish;","  }","","  return module;","}","","function encode(name) {","  return name[0] + encodeURIComponent(name.slice(1));","}","","function supported(str, module, options) {","  if (!options) {","    options = {};","  }","","  var error;","","  if (options.packageManager === 'maven') {","    if (str.indexOf(':') === -1) {","      throw new Error('invalid Maven package name: ' + str);","    }","    return module;","  }","","  var protocolMatch = module.version.match(/^(https?:)|(git[:+])/i);","  if (protocolMatch ||","      module.name.indexOf('://') !== -1) {","    // we don't support non-npm modules atm","    debug('not supported %s@%s (ext)', module.name, module.version);","    if (options.loose) {","      delete module.version;","    } else {","      error = new Error('not supported: external module: ' + toString(module));","    }","  }","","  if (error) {","    error.code = 501; // not implemented","    throw error;","  }","","  if (module.version === 'latest' || !module.version) {","    module.version = '*';","  }","","  debug('%s => { name: \"%s\", version: \"%s\" }',","    str, module.name, module.version);","","  return module;","}","","function toString(module) {","  return module.name + '@' + module.version;","}","","/* istanbul ignore if */","if (!module.parent) {","  // support simple cli testing","  console.log(moduleToObject(process.argv[2], { loose: false }));","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"14":1,"15":0,"16":0,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"30":0,"31":0,"33":0,"36":0,"38":0,"40":0,"41":0,"45":0,"47":0,"49":0,"52":0,"53":0,"56":0,"61":0,"64":1,"65":0,"67":0,"70":0,"78":0,"79":0,"81":0,"82":0,"86":0,"88":0,"91":1,"92":0,"97":0,"99":1,"100":1,"101":1,"104":0,"109":0,"110":0,"113":0,"116":1,"117":0,"120":1,"121":0,"122":0,"125":0,"127":0,"128":0,"129":0,"131":0,"134":0,"135":0,"138":0,"139":0,"140":0,"142":0,"146":0,"147":0,"148":0,"151":0,"152":0,"155":0,"158":0,"161":1,"162":0,"166":1,"168":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/unique.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/unique.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"unique","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":22}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":13},"end":{"line":9,"column":28}}},"3":{"name":"copy","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":19}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":48}}},"5":{"name":"(anonymous_5)","line":20,"loc":{"start":{"line":20,"column":12},"end":{"line":20,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"3":{"start":{"line":5,"column":0},"end":{"line":15,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":23}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":24}},"6":{"start":{"line":9,"column":2},"end":{"line":12,"column":5}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":32}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":65}},"9":{"start":{"line":14,"column":2},"end":{"line":14,"column":13}},"10":{"start":{"line":17,"column":0},"end":{"line":24,"column":1}},"11":{"start":{"line":18,"column":2},"end":{"line":23,"column":9}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":60}},"13":{"start":{"line":21,"column":4},"end":{"line":21,"column":26}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":15}}},"branchMap":{},"code":["module.exports = unique;","","var walk = require('./walk');","","function unique(deps) {","  var res = copy(deps);","  res.dependencies = {};","","  walk(deps, function (dep) {","    var shallowCopy = copy(dep);","    res.dependencies[dep.name + '@' + dep.version] = shallowCopy;","  });","","  return res;","}","","function copy(dep) {","  return Object.keys(dep).filter(function (key) {","    return key.toLowerCase().indexOf('dependencies') === -1;","  }).reduce(function (acc, curr) {","    acc[curr] = dep[curr];","    return acc;","  }, {});","}",""],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"9":0,"10":0,"11":0,"14":0,"17":1,"18":0,"19":0,"21":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/deps.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/deps.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"loadModules","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":36}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":57},"end":{"line":16,"column":73}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":47},"end":{"line":20,"column":63}}},"4":{"name":"(anonymous_4)","line":22,"loc":{"start":{"line":22,"column":48},"end":{"line":22,"column":63}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":19},"end":{"line":26,"column":32}}},"6":{"name":"(anonymous_6)","line":36,"loc":{"start":{"line":36,"column":39},"end":{"line":36,"column":59}}},"7":{"name":"(anonymous_7)","line":37,"loc":{"start":{"line":37,"column":41},"end":{"line":37,"column":56}}},"8":{"name":"loadModulesInternal","line":50,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":56}}},"9":{"name":"(anonymous_9)","line":62,"loc":{"start":{"line":62,"column":37},"end":{"line":62,"column":52}}},"10":{"name":"(anonymous_10)","line":104,"loc":{"start":{"line":104,"column":63},"end":{"line":104,"column":79}}},"11":{"name":"(anonymous_11)","line":105,"loc":{"start":{"line":105,"column":25},"end":{"line":105,"column":40}}},"12":{"name":"(anonymous_12)","line":116,"loc":{"start":{"line":116,"column":38},"end":{"line":116,"column":54}}},"13":{"name":"(anonymous_13)","line":117,"loc":{"start":{"line":117,"column":40},"end":{"line":117,"column":61}}},"14":{"name":"(anonymous_14)","line":128,"loc":{"start":{"line":128,"column":35},"end":{"line":128,"column":50}}},"15":{"name":"(anonymous_15)","line":134,"loc":{"start":{"line":134,"column":19},"end":{"line":134,"column":40}}},"16":{"name":"(anonymous_16)","line":139,"loc":{"start":{"line":139,"column":38},"end":{"line":139,"column":59}}},"17":{"name":"(anonymous_17)","line":188,"loc":{"start":{"line":188,"column":12},"end":{"line":188,"column":31}}},"18":{"name":"(anonymous_18)","line":191,"loc":{"start":{"line":191,"column":30},"end":{"line":191,"column":45}}},"19":{"name":"(anonymous_19)","line":197,"loc":{"start":{"line":197,"column":40},"end":{"line":197,"column":55}}},"20":{"name":"(anonymous_20)","line":198,"loc":{"start":{"line":198,"column":20},"end":{"line":198,"column":35}}},"21":{"name":"(anonymous_21)","line":204,"loc":{"start":{"line":204,"column":13},"end":{"line":204,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":38}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":45}},"11":{"start":{"line":14,"column":0},"end":{"line":48,"column":1}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":27}},"13":{"start":{"line":16,"column":2},"end":{"line":46,"column":5}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":21}},"15":{"start":{"line":19,"column":4},"end":{"line":33,"column":5}},"16":{"start":{"line":20,"column":6},"end":{"line":32,"column":9}},"17":{"start":{"line":21,"column":8},"end":{"line":31,"column":9}},"18":{"start":{"line":22,"column":10},"end":{"line":30,"column":14}},"19":{"start":{"line":23,"column":12},"end":{"line":25,"column":15}},"20":{"start":{"line":27,"column":12},"end":{"line":29,"column":13}},"21":{"start":{"line":28,"column":14},"end":{"line":28,"column":27}},"22":{"start":{"line":35,"column":4},"end":{"line":43,"column":5}},"23":{"start":{"line":36,"column":6},"end":{"line":42,"column":9}},"24":{"start":{"line":37,"column":8},"end":{"line":40,"column":11}},"25":{"start":{"line":38,"column":10},"end":{"line":38,"column":50}},"26":{"start":{"line":39,"column":10},"end":{"line":39,"column":44}},"27":{"start":{"line":41,"column":8},"end":{"line":41,"column":20}},"28":{"start":{"line":45,"column":4},"end":{"line":45,"column":16}},"29":{"start":{"line":50,"column":0},"end":{"line":220,"column":1}},"30":{"start":{"line":51,"column":2},"end":{"line":53,"column":3}},"31":{"start":{"line":52,"column":4},"end":{"line":52,"column":38}},"32":{"start":{"line":55,"column":2},"end":{"line":57,"column":3}},"33":{"start":{"line":56,"column":4},"end":{"line":56,"column":69}},"34":{"start":{"line":59,"column":2},"end":{"line":59,"column":19}},"35":{"start":{"line":60,"column":2},"end":{"line":60,"column":47}},"36":{"start":{"line":62,"column":2},"end":{"line":217,"column":5}},"37":{"start":{"line":64,"column":4},"end":{"line":100,"column":5}},"38":{"start":{"line":65,"column":6},"end":{"line":65,"column":59}},"39":{"start":{"line":66,"column":6},"end":{"line":79,"column":8}},"40":{"start":{"line":83,"column":6},"end":{"line":83,"column":47}},"41":{"start":{"line":84,"column":6},"end":{"line":84,"column":30}},"42":{"start":{"line":87,"column":6},"end":{"line":91,"column":7}},"43":{"start":{"line":88,"column":8},"end":{"line":88,"column":43}},"44":{"start":{"line":89,"column":13},"end":{"line":91,"column":7}},"45":{"start":{"line":90,"column":8},"end":{"line":90,"column":34}},"46":{"start":{"line":95,"column":6},"end":{"line":97,"column":7}},"47":{"start":{"line":96,"column":8},"end":{"line":96,"column":34}},"48":{"start":{"line":99,"column":6},"end":{"line":99,"column":54}},"49":{"start":{"line":101,"column":4},"end":{"line":101,"column":30}},"50":{"start":{"line":104,"column":4},"end":{"line":216,"column":7}},"51":{"start":{"line":105,"column":6},"end":{"line":126,"column":9}},"52":{"start":{"line":107,"column":8},"end":{"line":109,"column":9}},"53":{"start":{"line":108,"column":10},"end":{"line":108,"column":22}},"54":{"start":{"line":113,"column":8},"end":{"line":121,"column":9}},"55":{"start":{"line":114,"column":10},"end":{"line":114,"column":43}},"56":{"start":{"line":115,"column":10},"end":{"line":115,"column":56}},"57":{"start":{"line":116,"column":10},"end":{"line":120,"column":13}},"58":{"start":{"line":117,"column":12},"end":{"line":119,"column":16}},"59":{"start":{"line":118,"column":14},"end":{"line":118,"column":78}},"60":{"start":{"line":124,"column":8},"end":{"line":124,"column":70}},"61":{"start":{"line":125,"column":8},"end":{"line":125,"column":31}},"62":{"start":{"line":128,"column":6},"end":{"line":187,"column":9}},"63":{"start":{"line":129,"column":8},"end":{"line":129,"column":45}},"64":{"start":{"line":134,"column":8},"end":{"line":184,"column":33}},"65":{"start":{"line":135,"column":10},"end":{"line":135,"column":22}},"66":{"start":{"line":136,"column":10},"end":{"line":136,"column":55}},"67":{"start":{"line":138,"column":10},"end":{"line":145,"column":11}},"68":{"start":{"line":139,"column":12},"end":{"line":142,"column":29}},"69":{"start":{"line":140,"column":14},"end":{"line":140,"column":50}},"70":{"start":{"line":141,"column":14},"end":{"line":141,"column":25}},"71":{"start":{"line":144,"column":12},"end":{"line":144,"column":56}},"72":{"start":{"line":147,"column":10},"end":{"line":147,"column":49}},"73":{"start":{"line":148,"column":10},"end":{"line":148,"column":52}},"74":{"start":{"line":149,"column":10},"end":{"line":149,"column":37}},"75":{"start":{"line":151,"column":10},"end":{"line":151,"column":28}},"76":{"start":{"line":152,"column":10},"end":{"line":154,"column":11}},"77":{"start":{"line":153,"column":12},"end":{"line":153,"column":60}},"78":{"start":{"line":156,"column":10},"end":{"line":156,"column":65}},"79":{"start":{"line":158,"column":10},"end":{"line":173,"column":12}},"80":{"start":{"line":175,"column":10},"end":{"line":177,"column":11}},"81":{"start":{"line":176,"column":12},"end":{"line":176,"column":68}},"82":{"start":{"line":179,"column":10},"end":{"line":181,"column":11}},"83":{"start":{"line":180,"column":12},"end":{"line":180,"column":55}},"84":{"start":{"line":183,"column":10},"end":{"line":183,"column":21}},"85":{"start":{"line":186,"column":8},"end":{"line":186,"column":23}},"86":{"start":{"line":189,"column":6},"end":{"line":189,"column":51}},"87":{"start":{"line":191,"column":6},"end":{"line":195,"column":9}},"88":{"start":{"line":192,"column":8},"end":{"line":192,"column":56}},"89":{"start":{"line":193,"column":8},"end":{"line":193,"column":58}},"90":{"start":{"line":194,"column":8},"end":{"line":194,"column":54}},"91":{"start":{"line":197,"column":6},"end":{"line":203,"column":9}},"92":{"start":{"line":198,"column":8},"end":{"line":200,"column":11}},"93":{"start":{"line":199,"column":10},"end":{"line":199,"column":73}},"94":{"start":{"line":202,"column":8},"end":{"line":202,"column":23}},"95":{"start":{"line":208,"column":6},"end":{"line":212,"column":7}},"96":{"start":{"line":210,"column":8},"end":{"line":210,"column":34}},"97":{"start":{"line":211,"column":8},"end":{"line":211,"column":23}},"98":{"start":{"line":215,"column":6},"end":{"line":215,"column":18},"skip":true},"99":{"start":{"line":219,"column":2},"end":{"line":219,"column":17}}},"branchMap":{"1":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":35},"end":{"line":16,"column":42}},{"start":{"line":16,"column":46},"end":{"line":16,"column":50}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"4":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":12}},{"start":{"line":27,"column":12},"end":{"line":27,"column":12}}]},"5":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"6":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":2},"end":{"line":51,"column":2}},{"start":{"line":51,"column":2},"end":{"line":51,"column":2}}]},"7":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":2},"end":{"line":55,"column":2}},{"start":{"line":55,"column":2},"end":{"line":55,"column":2}}]},"8":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"9":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":35},"end":{"line":65,"column":46}},{"start":{"line":65,"column":50},"end":{"line":65,"column":57}}]},"10":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":17},"end":{"line":68,"column":28}},{"start":{"line":68,"column":32},"end":{"line":68,"column":36}}]},"11":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":17},"end":{"line":69,"column":28}},{"start":{"line":69,"column":32},"end":{"line":69,"column":38}}]},"12":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":17},"end":{"line":73,"column":23}},{"start":{"line":73,"column":27},"end":{"line":73,"column":41}}]},"13":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":6},"end":{"line":87,"column":6}},{"start":{"line":87,"column":6},"end":{"line":87,"column":6}}]},"14":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":10},"end":{"line":87,"column":25}},{"start":{"line":87,"column":29},"end":{"line":87,"column":35}},{"start":{"line":87,"column":39},"end":{"line":87,"column":56}}]},"15":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":13},"end":{"line":89,"column":13}},{"start":{"line":89,"column":13},"end":{"line":89,"column":13}}]},"16":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":6},"end":{"line":95,"column":6}},{"start":{"line":95,"column":6},"end":{"line":95,"column":6}}]},"17":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":8},"end":{"line":107,"column":8}},{"start":{"line":107,"column":8},"end":{"line":107,"column":8}}]},"18":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":12},"end":{"line":107,"column":26}},{"start":{"line":107,"column":30},"end":{"line":107,"column":49}}]},"19":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":8},"end":{"line":113,"column":8}},{"start":{"line":113,"column":8},"end":{"line":113,"column":8}}]},"20":{"line":136,"type":"binary-expr","locations":[{"start":{"line":136,"column":25},"end":{"line":136,"column":37}},{"start":{"line":136,"column":41},"end":{"line":136,"column":54}}]},"21":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":10},"end":{"line":138,"column":10}},{"start":{"line":138,"column":10},"end":{"line":138,"column":10}}]},"22":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":23},"end":{"line":140,"column":40}},{"start":{"line":140,"column":44},"end":{"line":140,"column":48}}]},"23":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":24},"end":{"line":140,"column":28}},{"start":{"line":140,"column":32},"end":{"line":140,"column":34}}]},"24":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":22},"end":{"line":144,"column":43}},{"start":{"line":144,"column":47},"end":{"line":144,"column":55}}]},"25":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":23},"end":{"line":144,"column":31}},{"start":{"line":144,"column":35},"end":{"line":144,"column":37}}]},"26":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":24},"end":{"line":148,"column":36}},{"start":{"line":148,"column":40},"end":{"line":148,"column":51}}]},"27":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":10},"end":{"line":152,"column":10}},{"start":{"line":152,"column":10},"end":{"line":152,"column":10}}]},"28":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":40},"end":{"line":156,"column":52}},{"start":{"line":156,"column":56},"end":{"line":156,"column":63}}]},"29":{"line":160,"type":"binary-expr","locations":[{"start":{"line":160,"column":21},"end":{"line":160,"column":33}},{"start":{"line":160,"column":37},"end":{"line":160,"column":41}}]},"30":{"line":165,"type":"binary-expr","locations":[{"start":{"line":165,"column":21},"end":{"line":165,"column":28}},{"start":{"line":165,"column":32},"end":{"line":165,"column":38}}]},"31":{"line":166,"type":"binary-expr","locations":[{"start":{"line":166,"column":17},"end":{"line":166,"column":24}},{"start":{"line":166,"column":28},"end":{"line":166,"column":32}}]},"32":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":10},"end":{"line":175,"column":10}},{"start":{"line":175,"column":10},"end":{"line":175,"column":10}}]},"33":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":10},"end":{"line":179,"column":10}},{"start":{"line":179,"column":10},"end":{"line":179,"column":10}}]},"34":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":6},"end":{"line":208,"column":6}},{"start":{"line":208,"column":6},"end":{"line":208,"column":6},"skip":true}]}},"code":["module.exports = loadModules;","","var depTypes = require('./dep-types');","var fs = require('then-fs');","var _ = require('lodash');","var debug = require('debug')('snyk:resolve:deps');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var path = require('path');","var semver = require('semver');","var resolve = require('snyk-resolve');","var tryRequire = require('snyk-try-require');","","// FIXME only supports dependancies & dev deps not opt-deps","function loadModules(root, depType) {","  tryRequire.cache.reset(); // reset the package cache on re-run","  return loadModulesInternal(root, depType || null).then(function (tree) {","    // ensure there's no missing packages our known root deps","    var missing = [];","    if (tree.__dependencies) {","      Object.keys(tree.__dependencies).forEach(function (name) {","        if (!tree.dependencies[name]) {","          missing.push(resolve(name, root).then(function (dir) {","            return loadModulesInternal(dir, depTypes.PROD, {","              __from: [tree.name + '@' + tree.version, name],","            });","          }).catch(function (e) {","            if (e.code === 'NO_PACKAGE_FOUND') {","              return false;","            }","          }));","        }","      });","    }","","    if (missing.length) {","      return Promise.all(missing).then(function (packages) {","        packages.filter(Boolean).forEach(function (pkg) {","          pkg.dep = tree.__dependencies[pkg.name];","          tree.dependencies[pkg.name] = pkg;","        });","        return tree;","      });","    }","","    return tree;","  });","","}","","function loadModulesInternal(root, rootDepType, parent) {","  if (!rootDepType) {","    rootDepType = depTypes.EXTRANEOUS;","  }","","  if (typeof root !== 'string') {","    return Promise.reject(new Error('module path must be a string'));","  }","","  var modules = {};","  var dir = path.resolve(root, 'package.json');","  // 1. read package.json for written deps","  var promise = tryRequire(dir).then(function (pkg) {","    // if there's a package found, collect this information too","    if (pkg) {","      var full = pkg.name + '@' + (pkg.version || '0.0.0');","      modules = {","        name: pkg.name,","        version: pkg.version || null,","        license: pkg.license || 'none',","        depType: rootDepType,","        hasDevDependencies: !!pkg.devDependencies,","        full: full,","        __from: (parent || { __from: [] }).__from,","        __devDependencies: pkg.devDependencies,","        __dependencies: pkg.dependencies,","        __optionalDependencies: pkg.optionalDependencies,","        __bundleDependencies: pkg.bundleDependencies,","        __filename: pkg.__filename,","      };","","      // allows us to add to work out the full path that the package was","      // introduced via","      pkg.__from = modules.__from.concat(full);","      pkg.full = modules.full;","","      // flag and track where a shrinkwrapped package comes from","      if (!pkg.shrinkwrap && parent && parent.shrinkwrap) {","        pkg.shrinkwrap = parent.shrinkwrap;","      } else if (pkg.shrinkwrap) {","        pkg.shrinkwrap = pkg.full;","      }","","      // this is a special case for the root package to get a consistent","      // __from path, so that the complete path (including it's own pkg name)","      if (modules.__from.length === 0) {","        modules.__from.push(full);","      }","    } else {","      throw new Error(dir + ' is not a node project');","    }","    modules.dependencies = {};","","    // 2. check actual installed deps","    return fs.readdir(path.resolve(root, 'node_modules')).then(function (dirs) {","      var res = dirs.map(function (dir) {","        // completely ignore `.bin` npm helper dir","        if (dir === '.bin' || dir === '.DS_Store') {","          return null;","        }","","        // this is a scoped namespace, and we'd expect to find directories","        // inside *this* `dir`, so treat differently","        if (dir.indexOf('@') === 0) {","          debug('scoped reset on %s', dir);","          dir = path.resolve(root, 'node_modules', dir);","          return fs.readdir(dir).then(function (dirs) {","            return Promise.all(dirs.map(function (scopedDir) {","              return tryRequire(path.resolve(dir, scopedDir, 'package.json'));","            }));","          });","        }","","        // otherwise try to load a package.json from this node_module dir","        dir = path.resolve(root, 'node_modules', dir, 'package.json');","        return tryRequire(dir);","      });","","      return Promise.all(res).then(function (res) {","        res = _.flatten(res).filter(Boolean);","","        // if res.length === 0 we used to throw MISSING_NODE_MODULES but we're","        // not doing that now, and I think it's okay.","","        res.reduce(function (acc, curr) {","          var license;","          var licenses = curr.license || curr.licenses;","","          if (Array.isArray(licenses)) {","            license = licenses.reduce(function (acc, curr) {","              acc.push((curr || {}).type || curr);","              return acc;","            }, []).join('/');","          } else {","            license = (licenses || {}).type || licenses;","          }","","          var depInfo = depTypes(curr.name, pkg);","          var depType = depInfo.type || rootDepType;","          var depFrom = depInfo.from;","","          var valid = false;","          if (depFrom) {","            valid = semver.satisfies(curr.version, depFrom);","          }","","          var full = curr.name + '@' + (curr.version || '0.0.0');","","          acc[curr.name] = {","            name: curr.name,","            version: curr.version || null,","            full: full,","            valid: valid,","            depType: depType,","            snyk: curr.snyk,","            license: license || 'none',","            dep: depFrom || null,","            __from: pkg.__from.concat(full),","            __devDependencies: curr.devDependencies,","            __dependencies: curr.dependencies,","            __optionalDependencies: curr.optionalDependencies,","            __bundleDependencies: curr.bundleDependencies,","            __filename: curr.__filename,","          };","","          if (depInfo.bundled) {","            acc[curr.name].bundled = acc[curr.name].__from.slice(0);","          }","","          if (pkg.shrinkwrap) {","            acc[curr.name].shrinkwrap = pkg.shrinkwrap;","          }","","          return acc;","        }, modules.dependencies);","","        return modules;","      });","    }).then(function (modules) {","      var deps = Object.keys(modules.dependencies);","","      var promises = deps.map(function (dep) {","        var depType = modules.dependencies[dep].depType;","        var dir = path.resolve(root, 'node_modules', dep);","        return loadModulesInternal(dir, depType, pkg);","      });","","      return Promise.all(promises).then(function (res) {","        res.forEach(function (mod) {","          modules.dependencies[mod.name].dependencies = mod.dependencies;","        });","","        return modules;","      });","    }).catch(function (error) {","      // TODO decide whether it's okay that we keep throwing errors","      // will this process get faster without it? (possibly...)","      /* istanbul ignore else  */","      if (error.code === 'ENOENT') {","        // there's no node_modules directory, that's fine, there's no deps","        modules.dependencies = {};","        return modules;","      }","","      /* istanbul ignore next */","      throw error;","    });","  });","","  return promise;","}"],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"14":1,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"27":0,"28":0,"35":0,"36":0,"37":0,"38":0,"39":0,"41":0,"45":0,"50":1,"51":0,"52":0,"55":0,"56":0,"59":0,"60":0,"62":0,"64":0,"65":0,"66":0,"83":0,"84":0,"87":0,"88":0,"89":0,"90":0,"95":0,"96":0,"99":0,"101":0,"104":0,"105":0,"107":0,"108":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"124":0,"125":0,"128":0,"129":0,"134":0,"135":0,"136":0,"138":0,"139":0,"140":0,"141":0,"144":0,"147":0,"148":0,"149":0,"151":0,"152":0,"153":0,"156":0,"158":0,"175":0,"176":0,"179":0,"180":0,"183":0,"186":0,"189":0,"191":0,"192":0,"193":0,"194":0,"197":0,"198":0,"199":0,"202":0,"208":0,"210":0,"211":0,"215":1,"219":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/dep-types.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/dep-types.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":1,"17":1,"18":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":32},"end":{"line":4,"column":56}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":32,"column":2}},"2":{"start":{"line":5,"column":2},"end":{"line":5,"column":18}},"3":{"start":{"line":6,"column":2},"end":{"line":6,"column":23}},"4":{"start":{"line":8,"column":2},"end":{"line":11,"column":3}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":24}},"6":{"start":{"line":10,"column":4},"end":{"line":10,"column":40}},"7":{"start":{"line":13,"column":2},"end":{"line":16,"column":3}},"8":{"start":{"line":14,"column":4},"end":{"line":14,"column":29}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":45}},"10":{"start":{"line":19,"column":2},"end":{"line":22,"column":3}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":25}},"12":{"start":{"line":21,"column":4},"end":{"line":21,"column":37}},"13":{"start":{"line":24,"column":2},"end":{"line":25,"column":52}},"14":{"start":{"line":27,"column":2},"end":{"line":31,"column":4}},"15":{"start":{"line":34,"column":0},"end":{"line":34,"column":41}},"16":{"start":{"line":35,"column":0},"end":{"line":35,"column":37}},"17":{"start":{"line":36,"column":0},"end":{"line":36,"column":29}},"18":{"start":{"line":37,"column":0},"end":{"line":37,"column":27}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":25}},{"start":{"line":8,"column":29},"end":{"line":8,"column":57}}]},"3":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"4":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":6},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":67}}]},"5":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"6":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":22}},{"start":{"line":19,"column":26},"end":{"line":19,"column":51}}]},"7":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":19},"end":{"line":24,"column":41}},{"start":{"line":25,"column":4},"end":{"line":25,"column":50}}]}},"code":["// Dependency types.","// We don't call out all of them, only the ones relevant to our behavior.","// extraneous means not found in package.json files, prod means not dev ATM","var depTypes = module.exports = function (depName, pkg) {","  var type = null;","  var from = 'unknown';","","  if (pkg.devDependencies && pkg.devDependencies[depName]) {","    type = depTypes.DEV;","    from = pkg.devDependencies[depName];","  }","","  if (pkg.optionalDependencies && pkg.optionalDependencies[depName]) {","    type = depTypes.OPTIONAL;","    from = pkg.optionalDependencies[depName];","  }","","  // production deps trump all","  if (pkg.dependencies && pkg.dependencies[depName]) {","    type = depTypes.PROD;","    from = pkg.dependencies[depName];","  }","","  var bundled = !!(pkg.bundleDependencies &&","    pkg.bundleDependencies.indexOf(depName) !== -1);","","  return {","    type: type,","    from: from,","    bundled: bundled,","  };","};","","module.exports.EXTRANEOUS = 'extraneous';","module.exports.OPTIONAL = 'optional';","module.exports.PROD = 'prod';","module.exports.DEV = 'dev';",""],"l":{"4":1,"5":0,"6":0,"8":0,"9":0,"10":0,"13":0,"14":0,"15":0,"19":0,"20":0,"21":0,"24":0,"27":0,"34":1,"35":1,"36":1,"37":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve/lib/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve/lib/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"resolvePkg","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":32},"end":{"line":15,"column":48}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":28}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":10},"end":{"line":27,"column":25}}},"5":{"name":"sync","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":29}}},"6":{"name":"(anonymous_6)","line":46,"loc":{"start":{"line":46,"column":15},"end":{"line":46,"column":31}}},"7":{"name":"isRoot","line":74,"loc":{"start":{"line":74,"column":0},"end":{"line":74,"column":21}}},"8":{"name":"parse","line":80,"loc":{"start":{"line":80,"column":0},"end":{"line":80,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"6":{"start":{"line":8,"column":0},"end":{"line":36,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":28}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":77}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":34}},"11":{"start":{"line":15,"column":2},"end":{"line":35,"column":5}},"12":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"13":{"start":{"line":17,"column":6},"end":{"line":17,"column":36}},"14":{"start":{"line":20,"column":4},"end":{"line":20,"column":76}},"15":{"start":{"line":21,"column":4},"end":{"line":26,"column":5}},"16":{"start":{"line":22,"column":6},"end":{"line":22,"column":23}},"17":{"start":{"line":23,"column":6},"end":{"line":23,"column":53}},"18":{"start":{"line":24,"column":6},"end":{"line":24,"column":38}},"19":{"start":{"line":25,"column":6},"end":{"line":25,"column":18}},"20":{"start":{"line":28,"column":4},"end":{"line":31,"column":5}},"21":{"start":{"line":29,"column":6},"end":{"line":29,"column":42}},"22":{"start":{"line":30,"column":6},"end":{"line":30,"column":17}},"23":{"start":{"line":33,"column":4},"end":{"line":33,"column":36}},"24":{"start":{"line":34,"column":4},"end":{"line":34,"column":57}},"25":{"start":{"line":38,"column":0},"end":{"line":72,"column":1}},"26":{"start":{"line":39,"column":2},"end":{"line":41,"column":3}},"27":{"start":{"line":40,"column":4},"end":{"line":40,"column":28}},"28":{"start":{"line":43,"column":2},"end":{"line":43,"column":77}},"29":{"start":{"line":44,"column":2},"end":{"line":44,"column":34}},"30":{"start":{"line":46,"column":2},"end":{"line":56,"column":4}},"31":{"start":{"line":47,"column":4},"end":{"line":47,"column":13}},"32":{"start":{"line":48,"column":4},"end":{"line":54,"column":5}},"33":{"start":{"line":49,"column":6},"end":{"line":49,"column":31}},"34":{"start":{"line":51,"column":6},"end":{"line":53,"column":7}},"35":{"start":{"line":52,"column":8},"end":{"line":52,"column":21}},"36":{"start":{"line":55,"column":4},"end":{"line":55,"column":42}},"37":{"start":{"line":58,"column":2},"end":{"line":61,"column":3}},"38":{"start":{"line":59,"column":4},"end":{"line":59,"column":45}},"39":{"start":{"line":60,"column":4},"end":{"line":60,"column":34}},"40":{"start":{"line":63,"column":2},"end":{"line":68,"column":3}},"41":{"start":{"line":64,"column":4},"end":{"line":64,"column":63}},"42":{"start":{"line":65,"column":4},"end":{"line":65,"column":55}},"43":{"start":{"line":66,"column":4},"end":{"line":66,"column":36}},"44":{"start":{"line":67,"column":4},"end":{"line":67,"column":16}},"45":{"start":{"line":70,"column":2},"end":{"line":70,"column":34}},"46":{"start":{"line":71,"column":2},"end":{"line":71,"column":49}},"47":{"start":{"line":74,"column":0},"end":{"line":77,"column":1}},"48":{"start":{"line":75,"column":2},"end":{"line":75,"column":26}},"49":{"start":{"line":76,"column":2},"end":{"line":76,"column":52}},"50":{"start":{"line":80,"column":0},"end":{"line":95,"column":1}},"51":{"start":{"line":83,"column":2},"end":{"line":93,"column":3}},"52":{"start":{"line":84,"column":4},"end":{"line":84,"column":27}},"53":{"start":{"line":86,"column":4},"end":{"line":86,"column":36},"skip":true},"54":{"start":{"line":87,"column":4},"end":{"line":87,"column":35},"skip":true},"55":{"start":{"line":88,"column":4},"end":{"line":92,"column":6},"skip":true}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]},"5":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":2}},{"start":{"line":39,"column":2},"end":{"line":39,"column":2}}]},"6":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":6},"end":{"line":51,"column":6}},{"start":{"line":51,"column":6},"end":{"line":51,"column":6}}]},"7":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":10},"end":{"line":51,"column":15}},{"start":{"line":51,"column":19},"end":{"line":51,"column":42}}]},"8":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":11},"end":{"line":55,"column":24}},{"start":{"line":55,"column":28},"end":{"line":55,"column":41}}]},"9":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":2},"end":{"line":58,"column":2}},{"start":{"line":58,"column":2},"end":{"line":58,"column":2}}]},"10":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":2},"end":{"line":63,"column":2}},{"start":{"line":63,"column":2},"end":{"line":63,"column":2}}]},"11":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":9},"end":{"line":76,"column":35}},{"start":{"line":76,"column":39},"end":{"line":76,"column":51}}]},"12":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":2},"end":{"line":83,"column":2}},{"start":{"line":83,"column":2},"end":{"line":83,"column":2},"skip":true}]}},"code":["module.exports = resolvePkg;","module.exports.sync = sync;","","var fs = require('then-fs');","var path = require('path');","var debug = require('debug')('snyk:resolve');","","function resolvePkg(name, basedir) {","  if (!basedir) {","    basedir = process.cwd();","  }","","  var filename = path.resolve(basedir, 'node_modules', name, 'package.json');","  debug('%s: %s', name, filename);","  return fs.stat(filename).then(function (stat) {","    if (stat.isFile()) {","      return path.dirname(filename);","    }","  }).catch(function (error) {","    debug('%s: not found on %s (root? %s)', name, basedir, isRoot(basedir));","    if (isRoot(basedir)) {","      debug('at root');","      error = new Error('package not found ' + name);","      error.code = 'NO_PACKAGE_FOUND';","      throw error;","    }","  }).then(function (dir) {","    if (dir) {","      debug('%s: FOUND AT %s', name, dir);","      return dir;","    }","","    debug('%s: cycling down', name);","    return resolvePkg(name, path.resolve(basedir, '..'));","  });","}","","function sync(name, basedir) {","  if (!basedir) {","    basedir = process.cwd();","  }","","  var filename = path.resolve(basedir, 'node_modules', name, 'package.json');","  debug('%s: %s', name, filename);","","  var isFile = function (file) {","    var stat;","    try {","      stat = fs.statSync(file);","    } catch (error) {","      if (error && error.code === 'ENOENT') {","        return false;","      }","    }","    return stat.isFile() || stat.isFIFO();","  };","","  if (isFile(filename)) {","    debug('%s: FOUND AT %s', name, filename);","    return path.dirname(filename);","  }","","  if (isRoot(basedir)) {","    debug('%s: not found on %s (now at root)', name, filename);","    var error = new Error('package not found ' + name);","    error.code = 'NO_PACKAGE_FOUND';","    throw error;","  }","","  debug('%s: cycling down', name);","  return sync(name, path.resolve(basedir, '..'));","}","","function isRoot(dir) {","  var parsed = parse(dir);","  return parsed.root === parsed.dir && !parsed.base;","}","","// FIXME determine whether this would work properly on windows in 0.10","function parse(dir) {","  /* istanbul ignore else  */","  // jscs:disable requireEarlyReturn","  if (path.parse) {","    return path.parse(dir);","  } else {","    var split = dir.split(path.sep);","    var root = split[0] + path.sep;","    return {","      base: split[1],","      root: root,","      dir: dir,","    };","  }","  // jscs:enable requireEarlyReturn","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"13":0,"14":0,"15":0,"16":0,"17":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"28":0,"29":0,"30":0,"33":0,"34":0,"38":1,"39":0,"40":0,"43":0,"44":0,"46":0,"47":0,"48":0,"49":0,"51":0,"52":0,"55":0,"58":0,"59":0,"60":0,"63":0,"64":0,"65":0,"66":0,"67":0,"70":0,"71":0,"74":1,"75":0,"76":0,"80":1,"83":0,"84":0,"86":1,"87":1,"88":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-try-require/lib/try-require.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-try-require/lib/try-require.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":1,"50":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,1]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"tryRequire","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"2":{"name":"(anonymous_2)","line":25,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":28}}},"3":{"name":"(anonymous_3)","line":31,"loc":{"start":{"line":31,"column":11},"end":{"line":31,"column":24}}},"4":{"name":"(anonymous_4)","line":35,"loc":{"start":{"line":35,"column":10},"end":{"line":35,"column":25}}},"5":{"name":"(anonymous_5)","line":62,"loc":{"start":{"line":62,"column":40},"end":{"line":62,"column":55}}},"6":{"name":"(anonymous_6)","line":77,"loc":{"start":{"line":77,"column":10},"end":{"line":77,"column":25}}},"7":{"name":"(anonymous_7)","line":83,"loc":{"start":{"line":83,"column":11},"end":{"line":83,"column":23}}},"8":{"name":"(anonymous_8)","line":85,"loc":{"start":{"line":85,"column":12},"end":{"line":85,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":57}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":51}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":29}},"11":{"start":{"line":14,"column":0},"end":{"line":81,"column":1}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":35}},"13":{"start":{"line":16,"column":2},"end":{"line":23,"column":3}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":32}},"15":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}},"16":{"start":{"line":20,"column":6},"end":{"line":20,"column":26}},"17":{"start":{"line":22,"column":4},"end":{"line":22,"column":32}},"18":{"start":{"line":24,"column":2},"end":{"line":80,"column":7}},"19":{"start":{"line":26,"column":6},"end":{"line":26,"column":35}},"20":{"start":{"line":27,"column":6},"end":{"line":27,"column":47}},"21":{"start":{"line":28,"column":6},"end":{"line":28,"column":48}},"22":{"start":{"line":29,"column":6},"end":{"line":29,"column":17}},"23":{"start":{"line":32,"column":6},"end":{"line":32,"column":60}},"24":{"start":{"line":33,"column":6},"end":{"line":33,"column":18}},"25":{"start":{"line":36,"column":6},"end":{"line":38,"column":7}},"26":{"start":{"line":37,"column":8},"end":{"line":37,"column":19}},"27":{"start":{"line":41,"column":6},"end":{"line":43,"column":7}},"28":{"start":{"line":42,"column":8},"end":{"line":42,"column":33}},"29":{"start":{"line":45,"column":6},"end":{"line":47,"column":7}},"30":{"start":{"line":46,"column":8},"end":{"line":46,"column":30}},"31":{"start":{"line":49,"column":6},"end":{"line":51,"column":7}},"32":{"start":{"line":50,"column":8},"end":{"line":50,"column":57}},"33":{"start":{"line":53,"column":6},"end":{"line":53,"column":32}},"34":{"start":{"line":56,"column":6},"end":{"line":56,"column":39}},"35":{"start":{"line":57,"column":6},"end":{"line":60,"column":8}},"36":{"start":{"line":62,"column":6},"end":{"line":75,"column":9}},"37":{"start":{"line":63,"column":8},"end":{"line":65,"column":9}},"38":{"start":{"line":64,"column":10},"end":{"line":64,"column":37}},"39":{"start":{"line":66,"column":8},"end":{"line":68,"column":9}},"40":{"start":{"line":67,"column":10},"end":{"line":67,"column":25}},"41":{"start":{"line":70,"column":8},"end":{"line":72,"column":9}},"42":{"start":{"line":71,"column":10},"end":{"line":71,"column":32}},"43":{"start":{"line":74,"column":8},"end":{"line":74,"column":19}},"44":{"start":{"line":78,"column":6},"end":{"line":78,"column":31}},"45":{"start":{"line":79,"column":6},"end":{"line":79,"column":28}},"46":{"start":{"line":83,"column":0},"end":{"line":87,"column":2}},"47":{"start":{"line":84,"column":2},"end":{"line":86,"column":4}},"48":{"start":{"line":85,"column":26},"end":{"line":85,"column":39}},"49":{"start":{"line":90,"column":0},"end":{"line":95,"column":1}},"50":{"start":{"line":91,"column":2},"end":{"line":94,"column":24},"skip":true}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":16,"column":2}},{"start":{"line":16,"column":2},"end":{"line":16,"column":2}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4},"skip":true}]},"3":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":6},"end":{"line":36,"column":6}},{"start":{"line":36,"column":6},"end":{"line":36,"column":6}}]},"4":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":6},"end":{"line":41,"column":6}},{"start":{"line":41,"column":6},"end":{"line":41,"column":6}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":6},"end":{"line":45,"column":6}},{"start":{"line":45,"column":6},"end":{"line":45,"column":6}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":6},"end":{"line":49,"column":6}},{"start":{"line":49,"column":6},"end":{"line":49,"column":6}}]},"7":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"8":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"9":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":8}},{"start":{"line":70,"column":8},"end":{"line":70,"column":8}}]},"10":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":0},"end":{"line":90,"column":0},"skip":true},{"start":{"line":90,"column":0},"end":{"line":90,"column":0}}]}},"code":["module.exports = tryRequire;","","var fs = require('then-fs');","var path = require('path');","var debug = require('debug')('snyk:resolve:try-require');","var cloneDeep = require('lodash.clonedeep');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var lru = require('lru-cache');","var options = { max: 100, maxAge: 1000 * 60 * 60 };","var cache = lru(options);","","module.exports.cache = cache; // allows for a reset","","function tryRequire(filename) {","  var cached = cache.get(filename);","  if (cached) {","    var res = cloneDeep(cached);","    /* istanbul ignore else */","    if (process.env.TAP) {","      res.__cached = true;","    }","    return Promise.resolve(res);","  }","  return fs.readFile(filename, 'utf8')","    .then(function (pkgStr) {","      var pkg = JSON.parse(pkgStr);","      pkg.leading = pkgStr.match(/^(\\s*){/)[1];","      pkg.trailing = pkgStr.match(/}(\\s*)$/)[1];","      return pkg;","    })","    .catch(function (e) {","      debug('tryRequire silently failing on %s', e.message);","      return null;","    })","    .then(function (pkg) {","      if (!pkg) {","        return pkg;","      }","","      // fixes potential issues later on","      if (!pkg.devDependencies) {","        pkg.devDependencies = {};","      }","","      if (!pkg.dependencies) {","        pkg.dependencies = {};","      }","","      if (!pkg.name) {","        pkg.name = path.basename(path.dirname(filename));","      }","","      pkg.__filename = filename;","","      // test for npm-shrinkwrap and find a .snyk policy file whilst we're at it","      var dir = path.dirname(filename);","      var promises = [","        fs.stat(path.resolve(dir, '.snyk')).catch(pass),","        fs.stat(path.resolve(dir, 'npm-shrinkwrap.json')).catch(pass),","      ];","","      return Promise.all(promises).then(function (res) {","        if (!pkg.snyk) {","          pkg.snyk = res[0].isFile();","        }","        if (pkg.snyk) {","          pkg.snyk = dir;","        }","","        if (res[1].isFile()) {","          pkg.shrinkwrap = true;","        }","","        return pkg;","      });","    })","    .then(function (pkg) {","      cache.set(filename, pkg);","      return cloneDeep(pkg);","    });","}","","var pass = function () {","  return {","    isFile: function () { return false; },","  };","};","","/* istanbul ignore if */","if (!module.parent) {","  tryRequire(process.argv[2])","    .then(JSON.stringify)","    .then(console.log)","    .catch(console.log);","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"14":1,"15":0,"16":0,"17":0,"19":0,"20":0,"22":0,"24":0,"26":0,"27":0,"28":0,"29":0,"32":0,"33":0,"36":0,"37":0,"41":0,"42":0,"45":0,"46":0,"49":0,"50":0,"53":0,"56":0,"57":0,"62":0,"63":0,"64":0,"66":0,"67":0,"70":0,"71":0,"74":0,"78":0,"79":0,"83":1,"84":0,"85":0,"90":1,"91":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/logical.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-resolve-deps/lib/logical.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"logicalTree","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":40}}},"2":{"name":"(anonymous_2)","line":47,"loc":{"start":{"line":47,"column":47},"end":{"line":47,"column":63}}},"3":{"name":"(anonymous_3)","line":62,"loc":{"start":{"line":62,"column":30},"end":{"line":62,"column":45}}},"4":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":40},"end":{"line":66,"column":56}}},"5":{"name":"(anonymous_5)","line":83,"loc":{"start":{"line":83,"column":30},"end":{"line":83,"column":45}}},"6":{"name":"insertLeaf","line":102,"loc":{"start":{"line":102,"column":0},"end":{"line":102,"column":38}}},"7":{"name":"(anonymous_7)","line":104,"loc":{"start":{"line":104,"column":43},"end":{"line":104,"column":58}}},"8":{"name":"walkDeps","line":116,"loc":{"start":{"line":116,"column":0},"end":{"line":116,"column":36}}},"9":{"name":"walkDepsPicker","line":127,"loc":{"start":{"line":127,"column":34},"end":{"line":127,"column":69}}},"10":{"name":"copy","line":163,"loc":{"start":{"line":163,"column":0},"end":{"line":163,"column":26}}},"11":{"name":"copyIterator","line":168,"loc":{"start":{"line":168,"column":37},"end":{"line":168,"column":70}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":29}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":38}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":44}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":53}},"13":{"start":{"line":14,"column":0},"end":{"line":14,"column":18}},"14":{"start":{"line":34,"column":0},"end":{"line":100,"column":1}},"15":{"start":{"line":35,"column":2},"end":{"line":37,"column":3}},"16":{"start":{"line":36,"column":4},"end":{"line":36,"column":17}},"17":{"start":{"line":39,"column":2},"end":{"line":39,"column":16}},"18":{"start":{"line":40,"column":2},"end":{"line":40,"column":58}},"19":{"start":{"line":41,"column":2},"end":{"line":41,"column":58}},"20":{"start":{"line":43,"column":2},"end":{"line":43,"column":24}},"21":{"start":{"line":45,"column":2},"end":{"line":58,"column":3}},"22":{"start":{"line":47,"column":4},"end":{"line":57,"column":7}},"23":{"start":{"line":48,"column":6},"end":{"line":48,"column":44}},"24":{"start":{"line":50,"column":6},"end":{"line":56,"column":7}},"25":{"start":{"line":53,"column":8},"end":{"line":53,"column":38}},"26":{"start":{"line":54,"column":8},"end":{"line":54,"column":50}},"27":{"start":{"line":55,"column":8},"end":{"line":55,"column":15}},"28":{"start":{"line":60,"column":2},"end":{"line":60,"column":38}},"29":{"start":{"line":62,"column":2},"end":{"line":89,"column":5}},"30":{"start":{"line":63,"column":4},"end":{"line":63,"column":38}},"31":{"start":{"line":64,"column":4},"end":{"line":88,"column":5}},"32":{"start":{"line":65,"column":6},"end":{"line":65,"column":55}},"33":{"start":{"line":66,"column":6},"end":{"line":68,"column":16}},"34":{"start":{"line":67,"column":8},"end":{"line":67,"column":43}},"35":{"start":{"line":70,"column":6},"end":{"line":72,"column":7}},"36":{"start":{"line":71,"column":8},"end":{"line":71,"column":21}},"37":{"start":{"line":74,"column":6},"end":{"line":74,"column":27}},"38":{"start":{"line":76,"column":6},"end":{"line":77,"column":69}},"39":{"start":{"line":78,"column":6},"end":{"line":78,"column":30}},"40":{"start":{"line":79,"column":6},"end":{"line":79,"column":27}},"41":{"start":{"line":80,"column":6},"end":{"line":80,"column":29}},"42":{"start":{"line":81,"column":6},"end":{"line":81,"column":41}},"43":{"start":{"line":82,"column":6},"end":{"line":82,"column":50}},"44":{"start":{"line":83,"column":6},"end":{"line":86,"column":9}},"45":{"start":{"line":84,"column":8},"end":{"line":84,"column":30}},"46":{"start":{"line":85,"column":8},"end":{"line":85,"column":42}},"47":{"start":{"line":87,"column":6},"end":{"line":87,"column":48}},"48":{"start":{"line":91,"column":2},"end":{"line":93,"column":11}},"49":{"start":{"line":95,"column":2},"end":{"line":95,"column":49}},"50":{"start":{"line":96,"column":2},"end":{"line":96,"column":54}},"51":{"start":{"line":97,"column":2},"end":{"line":97,"column":43}},"52":{"start":{"line":99,"column":2},"end":{"line":99,"column":21}},"53":{"start":{"line":102,"column":0},"end":{"line":114,"column":1}},"54":{"start":{"line":104,"column":2},"end":{"line":106,"column":5}},"55":{"start":{"line":105,"column":4},"end":{"line":105,"column":36}},"56":{"start":{"line":107,"column":2},"end":{"line":107,"column":32}},"57":{"start":{"line":108,"column":2},"end":{"line":112,"column":3}},"58":{"start":{"line":109,"column":4},"end":{"line":111,"column":5}},"59":{"start":{"line":110,"column":6},"end":{"line":110,"column":42}},"60":{"start":{"line":113,"column":2},"end":{"line":113,"column":26}},"61":{"start":{"line":116,"column":0},"end":{"line":161,"column":1}},"62":{"start":{"line":117,"column":2},"end":{"line":119,"column":3}},"63":{"start":{"line":118,"column":4},"end":{"line":118,"column":23}},"64":{"start":{"line":122,"column":2},"end":{"line":123,"column":68}},"65":{"start":{"line":125,"column":2},"end":{"line":125,"column":53}},"66":{"start":{"line":127,"column":2},"end":{"line":160,"column":9}},"67":{"start":{"line":129,"column":4},"end":{"line":157,"column":5}},"68":{"start":{"line":130,"column":6},"end":{"line":130,"column":31}},"69":{"start":{"line":131,"column":6},"end":{"line":131,"column":56}},"70":{"start":{"line":133,"column":6},"end":{"line":137,"column":7}},"71":{"start":{"line":134,"column":8},"end":{"line":135,"column":29}},"72":{"start":{"line":136,"column":8},"end":{"line":136,"column":19}},"73":{"start":{"line":139,"column":6},"end":{"line":156,"column":7}},"74":{"start":{"line":140,"column":8},"end":{"line":140,"column":67}},"75":{"start":{"line":141,"column":8},"end":{"line":141,"column":26}},"76":{"start":{"line":142,"column":8},"end":{"line":147,"column":11}},"77":{"start":{"line":149,"column":8},"end":{"line":149,"column":32}},"78":{"start":{"line":150,"column":8},"end":{"line":150,"column":28}},"79":{"start":{"line":151,"column":8},"end":{"line":153,"column":9}},"80":{"start":{"line":152,"column":10},"end":{"line":152,"column":51}},"81":{"start":{"line":155,"column":8},"end":{"line":155,"column":57}},"82":{"start":{"line":159,"column":4},"end":{"line":159,"column":15}},"83":{"start":{"line":163,"column":0},"end":{"line":181,"column":1}},"84":{"start":{"line":164,"column":2},"end":{"line":166,"column":3}},"85":{"start":{"line":165,"column":4},"end":{"line":165,"column":23}},"86":{"start":{"line":168,"column":2},"end":{"line":175,"column":9}},"87":{"start":{"line":169,"column":4},"end":{"line":173,"column":5}},"88":{"start":{"line":170,"column":6},"end":{"line":172,"column":7}},"89":{"start":{"line":171,"column":8},"end":{"line":171,"column":31}},"90":{"start":{"line":174,"column":4},"end":{"line":174,"column":15}},"91":{"start":{"line":177,"column":2},"end":{"line":177,"column":27}},"92":{"start":{"line":178,"column":2},"end":{"line":178,"column":35}},"93":{"start":{"line":180,"column":2},"end":{"line":180,"column":13}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":35,"column":2}},{"start":{"line":35,"column":2},"end":{"line":35,"column":2}}]},"2":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]},"3":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":6},"end":{"line":50,"column":6}},{"start":{"line":50,"column":6},"end":{"line":50,"column":6}}]},"4":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"5":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":6},"end":{"line":70,"column":6}},{"start":{"line":70,"column":6},"end":{"line":70,"column":6}}]},"6":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":14},"end":{"line":104,"column":18}},{"start":{"line":104,"column":22},"end":{"line":104,"column":24}}]},"7":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":4}},{"start":{"line":109,"column":4},"end":{"line":109,"column":4}}]},"8":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":2},"end":{"line":117,"column":2}},{"start":{"line":117,"column":2},"end":{"line":117,"column":2}}]},"9":{"line":123,"type":"cond-expr","locations":[{"start":{"line":123,"column":39},"end":{"line":123,"column":61}},{"start":{"line":123,"column":64},"end":{"line":123,"column":66}}]},"10":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":4},"end":{"line":123,"column":15}},{"start":{"line":123,"column":19},"end":{"line":123,"column":36}}]},"11":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":4},"end":{"line":129,"column":4}},{"start":{"line":129,"column":4},"end":{"line":129,"column":4}}]},"12":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":6},"end":{"line":133,"column":6}},{"start":{"line":133,"column":6},"end":{"line":133,"column":6}}]},"13":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":6},"end":{"line":139,"column":6}},{"start":{"line":139,"column":6},"end":{"line":139,"column":6}}]},"14":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":8},"end":{"line":151,"column":8}},{"start":{"line":151,"column":8},"end":{"line":151,"column":8}}]},"15":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":2},"end":{"line":164,"column":2}},{"start":{"line":164,"column":2},"end":{"line":164,"column":2}}]},"16":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":4}},{"start":{"line":169,"column":4},"end":{"line":169,"column":4}}]},"17":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":8},"end":{"line":169,"column":32}},{"start":{"line":169,"column":36},"end":{"line":169,"column":60}}]},"18":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":6},"end":{"line":170,"column":6}},{"start":{"line":170,"column":6},"end":{"line":170,"column":6}}]}},"code":["module.exports = logicalTree;","","var Promise = require('es6-promise').Promise; // jshint ignore:line","var pluck = require('./pluck');","var walk = require('./walk');","var unique = require('./unique');","var path = require('path');","var depTypes = require('./dep-types');","var colour = require('ansicolors');","var moduleToObject = require('snyk-module');","var _ = require('lodash');","var format = require('util').format;","var ext = colour.bgBlack(colour.green('extraneous'));","var problems = [];","","/**"," * This code will build up the logical tree representation of a node package"," * and it's dependencies. This is based initially on reading the directory"," * structure and the package.json files found in each directory."," *"," * After which, we parse the tree and read the `__dependencies` looking for"," * their actual location on disk (or if it's missing, etc) - marking as we"," * go along that the leaf has been used."," *"," * After that, we need to search for the original tree for unused leafs, and"," * these will be marked as extraneous and carried through to the logical"," * tree at the same depth."," *"," * Important: some extraneous modules will actually be from devDependencies"," * from the root level, so we need to handle these carefully."," */","","","function logicalTree(fileTree, options) {","  if (!options) {","    options = {};","  }","","  problems = [];","  var logicalRoot = copy(fileTree, fileTree.__from, true);","  logicalRoot.dependencies = walkDeps(fileTree, fileTree);","","  var removedPaths = [];","","  if (!options.dev) {","    // do a shallow pass on the deps and strip out dev deps","    Object.keys(fileTree.dependencies).forEach(function (name) {","      var dep = fileTree.dependencies[name];","      // if we're not interested in devDeps, then strip them out","      if (dep.depType === depTypes.DEV) {","        // since dev deps are only ever on the root, we know we can remove it","        // directly from the logicalRoot.dependencies","        removedPaths.push(dep.__from);","        delete logicalRoot.dependencies[dep.name];","        return;","      }","    });","  }","","  logicalRoot.numFileDependencies = 0;","","  walk(fileTree.dependencies, function (dep) {","    logicalRoot.numFileDependencies++;","    if (!dep.__used) {","      var deppath = dep.__from.slice(0, -1).toString();","      var removed = removedPaths.filter(function (path) {","        return deppath.indexOf(path) === 0;","      }).length;","","      if (removed) {","        return false; // this was from a dev dep, so let's lose it","      }","","      var leaf = copy(dep);","","      var issue = format('%s: %s@%s (from %s) > %s', ext, leaf.name,","        leaf.version, leaf.dep, path.relative('.', leaf.__filename));","      leaf.problems = [issue];","      problems.push(issue);","      leaf.extraneous = true;","      leaf.depType = depTypes.EXTRANEOUS;","      leaf.dependencies = walkDeps(fileTree, dep);","      walk(leaf.dependencies, function (dep) {","        dep.extraneous = true;","        dep.depType = depTypes.EXTRANEOUS;","      });","      insertLeaf(logicalRoot, leaf, dep.__from);","    }","  });","","  logicalRoot.numDependencies = Object.keys(","    unique(logicalRoot).dependencies","  ).length;","","  logicalRoot.pluck = pluck.bind(null, fileTree);","  logicalRoot.unique = unique.bind(null, logicalRoot);","  logicalRoot.problems = problems.slice(0);","","  return logicalRoot;","}","","function insertLeaf(tree, leaf, from) {","  // remove the root of the path and covert to names only","  var path = (from || []).slice(1, -1).map(function (pkg) {","    return moduleToObject(pkg).name;","  });","  var entry = tree.dependencies;","  for (var i = 0; i < path.length; i++) {","    if (entry[path[i]]) {","      entry = entry[path[i]].dependencies;","    }","  }","  entry[leaf.name] = leaf;","}","","function walkDeps(root, tree, from) {","  if (!from) {","    from = tree.__from;","  }","","  // only include the devDeps on the root level package","  var deps = _.extend({}, tree.__dependencies,","    tree.__from && from.length === 1 ? tree.__devDependencies : {});","","  deps = _.extend(deps, tree.__optionalDependencies);","","  return Object.keys(deps).reduce(function walkDepsPicker(acc, curr) {","    // only attempt to walk this dep if it's not in our path already","    if (tree.__from.indexOf(curr) === -1) {","      var version = deps[curr];","      var dep = pluck(root, tree.__from, curr, version);","","      if (!dep) {","        problems.push(format('missing: %s@%s, required by %s', curr, version,","          from.join(' > ')));","        return acc;","      }","","      if (from.indexOf(dep.full) === -1) {","        var pkg = acc[dep.name] = copy(dep, from.concat(dep.full));","        dep.__used = true;","        var info = depTypes(dep.name, {","          dependencies: tree.__dependencies,","          devDependencies: tree.__devDependencies,","          optionalDependencies: tree.__optionalDependencies,","          bundleDependencies: tree.__bundleDependencies,","        });","","        pkg.depType = info.type;","        pkg.dep = info.from;","        if (tree.bundled) { // carry the bundled flag down from the parent","          dep.bundled = pkg.bundled = tree.bundled;","        }","","        pkg.dependencies = walkDeps(root, dep, pkg.from);","      }","    }","","    return acc;","  }, {});","}","","function copy(leaf, from) {","  if (!from) {","    from = leaf.__from;","  }","","  var res = Object.keys(leaf).reduce(function copyIterator(acc, curr) {","    if (leaf[curr] !== undefined && curr.indexOf('__') !== 0) {","      if (curr !== 'dependencies') {","        acc[curr] = leaf[curr];","      }","    }","    return acc;","  }, {});","","  res.from = from.slice(0);","  res.__filename = leaf.__filename;","","  return res;","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"34":1,"35":0,"36":0,"39":0,"40":0,"41":0,"43":0,"45":0,"47":0,"48":0,"50":0,"53":0,"54":0,"55":0,"60":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"70":0,"71":0,"74":0,"76":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"87":0,"91":0,"95":0,"96":0,"97":0,"99":0,"102":1,"104":0,"105":0,"107":0,"108":0,"109":0,"110":0,"113":0,"116":1,"117":0,"118":0,"122":0,"125":0,"127":0,"129":0,"130":0,"131":0,"133":0,"134":0,"136":0,"139":0,"140":0,"141":0,"142":0,"149":0,"150":0,"151":0,"152":0,"155":0,"159":0,"163":1,"164":0,"165":0,"168":0,"169":0,"170":0,"171":0,"174":0,"177":0,"178":0,"180":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/snyk-test/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/snyk-test/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"test","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":32}}},"3":{"name":"executeTest","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":36}}},"4":{"name":"(anonymous_4)","line":31,"loc":{"start":{"line":31,"column":10},"end":{"line":31,"column":25}}},"5":{"name":"run","line":40,"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"5":{"start":{"line":7,"column":0},"end":{"line":23,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":11,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":23}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":17}},"9":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":17}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":43}},"12":{"start":{"line":17,"column":2},"end":{"line":21,"column":3}},"13":{"start":{"line":18,"column":4},"end":{"line":20,"column":23}},"14":{"start":{"line":19,"column":6},"end":{"line":19,"column":26}},"15":{"start":{"line":22,"column":2},"end":{"line":22,"column":17}},"16":{"start":{"line":25,"column":0},"end":{"line":38,"column":1}},"17":{"start":{"line":26,"column":2},"end":{"line":37,"column":3}},"18":{"start":{"line":27,"column":4},"end":{"line":28,"column":49}},"19":{"start":{"line":29,"column":4},"end":{"line":29,"column":44}},"20":{"start":{"line":30,"column":4},"end":{"line":34,"column":7}},"21":{"start":{"line":32,"column":6},"end":{"line":32,"column":42}},"22":{"start":{"line":33,"column":6},"end":{"line":33,"column":17}},"23":{"start":{"line":36,"column":4},"end":{"line":36,"column":33}},"24":{"start":{"line":40,"column":0},"end":{"line":49,"column":1}},"25":{"start":{"line":41,"column":2},"end":{"line":41,"column":46}},"26":{"start":{"line":42,"column":2},"end":{"line":44,"column":3}},"27":{"start":{"line":43,"column":4},"end":{"line":43,"column":43}},"28":{"start":{"line":45,"column":2},"end":{"line":47,"column":3}},"29":{"start":{"line":46,"column":4},"end":{"line":46,"column":70}},"30":{"start":{"line":48,"column":2},"end":{"line":48,"column":48}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"4":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":25},"end":{"line":27,"column":47}},{"start":{"line":28,"column":6},"end":{"line":28,"column":48}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":2},"end":{"line":42,"column":2}},{"start":{"line":42,"column":2},"end":{"line":42,"column":2}}]},"6":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]}},"code":["module.exports = test;","","var Promise = require('es6-promise').Promise; // jshint ignore:line","var detect = require('../detect');","var runTest = require('./run-test');","","function test(root, options, callback) {","  if (typeof options === 'function') {","    callback = options;","    options = {};","  }","  if (!options) {","    options = {};","  }","","  var promise = executeTest(root, options);","  if (callback) {","    promise.then(function (res) {","      callback(null, res);","    }).catch(callback);","  }","  return promise;","}","","function executeTest(root, options) {","  try {","    var packageManager = options.packageManager ||","      detect.detectPackageManager(root, options);","    options.packageManager = packageManager;","    return run(root, options)","    .then(function (res) {","      res.packageManager = packageManager;","      return res;","    });","  } catch (error) {","    return Promise.reject(error);","  }","}","","function run(root, options) {","  var packageManager = options.packageManager;","  if (new Set(['npm', 'yarn']).has(packageManager)) {","    return require('./npm')(root, options);","  }","  if (!new Set(['rubygems', 'maven']).has(packageManager)) {","    throw new Error('Unsupported package manager: ' + packageManager);","  }","  return runTest(packageManager, root, options);","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"12":0,"13":0,"16":0,"17":0,"18":0,"19":0,"22":0,"25":1,"26":0,"27":0,"29":0,"30":0,"32":0,"33":0,"36":0,"40":1,"41":0,"42":0,"43":0,"45":0,"46":0,"48":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/detect.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/detect.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":1,"20":0,"21":1,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"detectPackageManager","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":45}}},"2":{"name":"localFileSuppliedButNotFound","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":50}}},"3":{"name":"isCodeTest","line":48,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":26}}},"4":{"name":"isRepo","line":52,"loc":{"start":{"line":52,"column":0},"end":{"line":52,"column":22}}},"5":{"name":"detectPackageFile","line":56,"loc":{"start":{"line":56,"column":0},"end":{"line":56,"column":33}}},"6":{"name":"detectPackageManagerFromFile","line":66,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":44}}},"7":{"name":"detectPackageManagerFromRegistry","line":77,"loc":{"start":{"line":77,"column":0},"end":{"line":77,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":2}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"5":{"start":{"line":10,"column":0},"end":{"line":16,"column":2}},"6":{"start":{"line":18,"column":0},"end":{"line":25,"column":2}},"7":{"start":{"line":27,"column":0},"end":{"line":40,"column":1}},"8":{"start":{"line":28,"column":2},"end":{"line":28,"column":21}},"9":{"start":{"line":29,"column":2},"end":{"line":38,"column":3}},"10":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"11":{"start":{"line":31,"column":6},"end":{"line":31,"column":57}},"12":{"start":{"line":33,"column":4},"end":{"line":33,"column":73}},"13":{"start":{"line":34,"column":4},"end":{"line":34,"column":56}},"14":{"start":{"line":36,"column":4},"end":{"line":36,"column":45}},"15":{"start":{"line":37,"column":4},"end":{"line":37,"column":64}},"16":{"start":{"line":39,"column":2},"end":{"line":39,"column":24}},"17":{"start":{"line":43,"column":0},"end":{"line":46,"column":1}},"18":{"start":{"line":44,"column":2},"end":{"line":45,"column":45}},"19":{"start":{"line":48,"column":0},"end":{"line":50,"column":1}},"20":{"start":{"line":49,"column":2},"end":{"line":49,"column":45}},"21":{"start":{"line":52,"column":0},"end":{"line":54,"column":1}},"22":{"start":{"line":53,"column":2},"end":{"line":53,"column":43}},"23":{"start":{"line":56,"column":0},"end":{"line":64,"column":1}},"24":{"start":{"line":57,"column":2},"end":{"line":62,"column":3}},"25":{"start":{"line":58,"column":4},"end":{"line":58,"column":35}},"26":{"start":{"line":59,"column":4},"end":{"line":61,"column":5}},"27":{"start":{"line":60,"column":6},"end":{"line":60,"column":18}},"28":{"start":{"line":63,"column":2},"end":{"line":63,"column":14}},"29":{"start":{"line":66,"column":0},"end":{"line":75,"column":1}},"30":{"start":{"line":67,"column":2},"end":{"line":67,"column":32}},"31":{"start":{"line":68,"column":2},"end":{"line":70,"column":3}},"32":{"start":{"line":69,"column":4},"end":{"line":69,"column":21}},"33":{"start":{"line":71,"column":2},"end":{"line":73,"column":3}},"34":{"start":{"line":72,"column":4},"end":{"line":72,"column":74}},"35":{"start":{"line":74,"column":2},"end":{"line":74,"column":42}},"36":{"start":{"line":77,"column":0},"end":{"line":79,"column":1}},"37":{"start":{"line":78,"column":2},"end":{"line":78,"column":18}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":2},"end":{"line":29,"column":2}},{"start":{"line":29,"column":2},"end":{"line":29,"column":2}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"3":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":15},"end":{"line":33,"column":27}},{"start":{"line":33,"column":31},"end":{"line":33,"column":54}},{"start":{"line":33,"column":58},"end":{"line":33,"column":72}}]},"4":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":19},"end":{"line":36,"column":35}},{"start":{"line":36,"column":39},"end":{"line":36,"column":44}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":9},"end":{"line":44,"column":13}},{"start":{"line":44,"column":17},"end":{"line":44,"column":36}},{"start":{"line":45,"column":4},"end":{"line":45,"column":44}}]},"6":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":9},"end":{"line":49,"column":21}},{"start":{"line":49,"column":25},"end":{"line":49,"column":44}}]},"7":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":4}},{"start":{"line":59,"column":4},"end":{"line":59,"column":4}}]},"8":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":2},"end":{"line":68,"column":2}},{"start":{"line":68,"column":2},"end":{"line":68,"column":2}}]},"9":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":2},"end":{"line":71,"column":2}},{"start":{"line":71,"column":2},"end":{"line":71,"column":2}}]}},"code":["module.exports = {","  detectPackageManager: detectPackageManager,","  detectPackageFile: detectPackageFile,","};","","var Promise = require('es6-promise').Promise; // jshint ignore:line","var fs = require('then-fs');","var path = require('path');","","var DETECTABLE_FILES = [","  'yarn.lock',","  'package.json',","  'Gemfile',","  'Gemfile.lock',","  'pom.xml',","];","","var DETECTABLE_PACKAGE_MANAGERS = {","  Gemfile: 'rubygems',","  'Gemfile.lock': 'rubygems',","  '.gemspec': 'rubygems',","  'package.json': 'npm',","  'pom.xml': 'maven',","  'yarn.lock': 'yarn',","};","","function detectPackageManager(root, options) {","  var packageManager;","  if (isCodeTest(root)) {","    if (localFileSuppliedButNotFound(root, options.file)) {","      throw new Error('File not found: ' + options.file);","    }","    var file = options.file || detectPackageFile(root) || 'package.json';","    packageManager = detectPackageManagerFromFile(file);","  } else {","    var registry = options.registry || 'npm';","    packageManager = detectPackageManagerFromRegistry(registry);","  }","  return packageManager;","}","","// User supplied a \"local\" file, but that file doesn't exist","function localFileSuppliedButNotFound(root, file) {","  return file && fs.existsSync(root) &&","    !fs.existsSync(path.resolve(root, file));","}","","function isCodeTest(root) {","  return isRepo(root) || fs.existsSync(root);","}","","function isRepo(root) {","  return root.indexOf('github.com') !== -1;","}","","function detectPackageFile(root) {","  for (var i = 0; i < DETECTABLE_FILES.length; i++) {","    var file = DETECTABLE_FILES[i];","    if (fs.existsSync(path.resolve(root, file))) {","      return file;","    }","  }","  return null;","}","","function detectPackageManagerFromFile(file) {","  var key = path.basename(file);","  if (/\\.gemspec$/.test(key)) {","    key = '.gemspec';","  }","  if (!(key in DETECTABLE_PACKAGE_MANAGERS)) {","    throw new Error('Could not detect package manager for file: ' + file);","  }","  return DETECTABLE_PACKAGE_MANAGERS[key];","}","","function detectPackageManagerFromRegistry(registry) {","  return registry;","}",""],"l":{"1":1,"6":1,"7":1,"8":1,"10":1,"18":1,"27":1,"28":0,"29":0,"30":0,"31":0,"33":0,"34":0,"36":0,"37":0,"39":0,"43":1,"44":0,"48":1,"49":0,"52":1,"53":0,"56":1,"57":0,"58":0,"59":0,"60":0,"63":0,"66":1,"67":0,"68":0,"69":0,"71":0,"72":0,"74":0,"77":1,"78":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/snyk-test/run-test.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/snyk-test/run-test.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"runTest","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":48}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":32},"end":{"line":18,"column":44}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":10},"end":{"line":24,"column":29}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":52}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":25},"end":{"line":26,"column":53}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":12},"end":{"line":55,"column":27}}},"7":{"name":"(anonymous_7)","line":59,"loc":{"start":{"line":59,"column":12},"end":{"line":59,"column":30}}},"8":{"name":"(anonymous_8)","line":61,"loc":{"start":{"line":61,"column":9},"end":{"line":61,"column":26}}},"9":{"name":"(anonymous_9)","line":67,"loc":{"start":{"line":67,"column":14},"end":{"line":67,"column":29}}},"10":{"name":"(anonymous_10)","line":73,"loc":{"start":{"line":73,"column":53},"end":{"line":73,"column":74}}},"11":{"name":"assemblePayload","line":87,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":57}}},"12":{"name":"assembleLocalPayload","line":95,"loc":{"start":{"line":95,"column":0},"end":{"line":95,"column":62}}},"13":{"name":"(anonymous_13)","line":97,"loc":{"start":{"line":97,"column":8},"end":{"line":97,"column":26}}},"14":{"name":"assembleRemotePayload","line":119,"loc":{"start":{"line":119,"column":0},"end":{"line":119,"column":46}}},"15":{"name":"vulnUrl","line":141,"loc":{"start":{"line":141,"column":0},"end":{"line":141,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":46}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":36}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":26}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":36}},"13":{"start":{"line":17,"column":0},"end":{"line":85,"column":1}},"14":{"start":{"line":18,"column":2},"end":{"line":84,"column":5}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":33}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":35}},"17":{"start":{"line":21,"column":4},"end":{"line":21,"column":53}},"18":{"start":{"line":22,"column":4},"end":{"line":83,"column":32}},"19":{"start":{"line":25,"column":6},"end":{"line":54,"column":9}},"20":{"start":{"line":26,"column":8},"end":{"line":53,"column":11}},"21":{"start":{"line":27,"column":10},"end":{"line":29,"column":11}},"22":{"start":{"line":28,"column":12},"end":{"line":28,"column":33}},"23":{"start":{"line":31,"column":10},"end":{"line":50,"column":11}},"24":{"start":{"line":32,"column":12},"end":{"line":34,"column":30}},"25":{"start":{"line":39,"column":12},"end":{"line":43,"column":13}},"26":{"start":{"line":40,"column":14},"end":{"line":40,"column":50}},"27":{"start":{"line":42,"column":14},"end":{"line":42,"column":40}},"28":{"start":{"line":45,"column":12},"end":{"line":47,"column":13}},"29":{"start":{"line":46,"column":14},"end":{"line":46,"column":48}},"30":{"start":{"line":49,"column":12},"end":{"line":49,"column":31}},"31":{"start":{"line":52,"column":10},"end":{"line":52,"column":24}},"32":{"start":{"line":56,"column":6},"end":{"line":56,"column":68}},"33":{"start":{"line":57,"column":6},"end":{"line":57,"column":27}},"34":{"start":{"line":58,"column":6},"end":{"line":82,"column":9}},"35":{"start":{"line":60,"column":8},"end":{"line":60,"column":40}},"36":{"start":{"line":63,"column":8},"end":{"line":65,"column":9}},"37":{"start":{"line":64,"column":10},"end":{"line":64,"column":21}},"38":{"start":{"line":66,"column":8},"end":{"line":66,"column":20}},"39":{"start":{"line":68,"column":8},"end":{"line":68,"column":59}},"40":{"start":{"line":71,"column":8},"end":{"line":71,"column":28}},"41":{"start":{"line":72,"column":8},"end":{"line":72,"column":22}},"42":{"start":{"line":73,"column":8},"end":{"line":79,"column":14}},"43":{"start":{"line":74,"column":10},"end":{"line":77,"column":11}},"44":{"start":{"line":75,"column":12},"end":{"line":75,"column":33}},"45":{"start":{"line":76,"column":12},"end":{"line":76,"column":18}},"46":{"start":{"line":78,"column":10},"end":{"line":78,"column":21}},"47":{"start":{"line":81,"column":8},"end":{"line":81,"column":19}},"48":{"start":{"line":87,"column":0},"end":{"line":93,"column":1}},"49":{"start":{"line":88,"column":2},"end":{"line":88,"column":34}},"50":{"start":{"line":89,"column":2},"end":{"line":89,"column":32}},"51":{"start":{"line":90,"column":2},"end":{"line":90,"column":58}},"52":{"start":{"line":91,"column":2},"end":{"line":92,"column":43}},"53":{"start":{"line":95,"column":0},"end":{"line":117,"column":1}},"54":{"start":{"line":96,"column":2},"end":{"line":116,"column":5}},"55":{"start":{"line":98,"column":4},"end":{"line":98,"column":54}},"56":{"start":{"line":99,"column":4},"end":{"line":99,"column":46}},"57":{"start":{"line":100,"column":4},"end":{"line":100,"column":52}},"58":{"start":{"line":101,"column":4},"end":{"line":101,"column":65}},"59":{"start":{"line":102,"column":4},"end":{"line":111,"column":6}},"60":{"start":{"line":112,"column":4},"end":{"line":114,"column":5}},"61":{"start":{"line":113,"column":6},"end":{"line":113,"column":38}},"62":{"start":{"line":115,"column":4},"end":{"line":115,"column":19}},"63":{"start":{"line":119,"column":0},"end":{"line":139,"column":1}},"64":{"start":{"line":120,"column":2},"end":{"line":120,"column":36}},"65":{"start":{"line":121,"column":2},"end":{"line":121,"column":66}},"66":{"start":{"line":122,"column":2},"end":{"line":122,"column":75}},"67":{"start":{"line":123,"column":2},"end":{"line":123,"column":44}},"68":{"start":{"line":124,"column":2},"end":{"line":124,"column":50}},"69":{"start":{"line":125,"column":2},"end":{"line":125,"column":63}},"70":{"start":{"line":126,"column":2},"end":{"line":134,"column":4}},"71":{"start":{"line":135,"column":2},"end":{"line":137,"column":3}},"72":{"start":{"line":136,"column":4},"end":{"line":136,"column":36}},"73":{"start":{"line":138,"column":2},"end":{"line":138,"column":34}},"74":{"start":{"line":141,"column":0},"end":{"line":143,"column":1}},"75":{"start":{"line":142,"column":2},"end":{"line":142,"column":48}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":10},"end":{"line":27,"column":10}},{"start":{"line":27,"column":10},"end":{"line":27,"column":10}}]},"2":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":10},"end":{"line":31,"column":10}},{"start":{"line":31,"column":10},"end":{"line":31,"column":10}}]},"3":{"line":32,"type":"cond-expr","locations":[{"start":{"line":33,"column":14},"end":{"line":33,"column":24}},{"start":{"line":34,"column":14},"end":{"line":34,"column":28}}]},"4":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":32},"end":{"line":32,"column":36}},{"start":{"line":32,"column":40},"end":{"line":32,"column":50}}]},"5":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":12}},{"start":{"line":39,"column":12},"end":{"line":39,"column":12}}]},"6":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":16},"end":{"line":39,"column":38}},{"start":{"line":39,"column":42},"end":{"line":39,"column":60}}]},"7":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":12},"end":{"line":45,"column":12}},{"start":{"line":45,"column":12},"end":{"line":45,"column":12}}]},"8":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"9":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":10},"end":{"line":74,"column":10}},{"start":{"line":74,"column":10},"end":{"line":74,"column":10}}]},"10":{"line":91,"type":"cond-expr","locations":[{"start":{"line":91,"column":17},"end":{"line":91,"column":69}},{"start":{"line":92,"column":6},"end":{"line":92,"column":42}}]},"11":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":4},"end":{"line":112,"column":4}},{"start":{"line":112,"column":4},"end":{"line":112,"column":4}}]},"12":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":2},"end":{"line":135,"column":2}},{"start":{"line":135,"column":2},"end":{"line":135,"column":2}}]}},"code":["module.exports = runTest;","","var debug = require('debug')('snyk');","var fs = require('then-fs');","var moduleToOjbect = require('snyk-module');","var Promise = require('es6-promise').Promise; // jshint ignore:line","","var analytics = require('../analytics');","var config = require('../config');","var getModuleInfo = require('../module-info');","var isCI = require('../is-ci');","var request = require('../request');","var snyk = require('../');","var spinner = require('../spinner');","","","function runTest(packageManager, root, options) {","  return Promise.resolve().then(function () {","    var policyLocations = [root];","    var hasDevDependencies = false;","    var lbl = 'Querying vulnerabilities database...';","    return assemblePayload(root, options, policyLocations)","    .then(spinner(lbl))","    .then(function (payload) {","      return new Promise(function (resolve, reject) {","        request(payload, function (error, res, body) {","          if (error) {","            return reject(error);","          }","","          if (res.statusCode !== 200) {","            var err = new Error(body && body.error ?","              body.error :","              res.statusCode);","","            // this is the case where a local module has been tested, but","            // doesn't have any production deps, but we've noted that they","            // have dep deps, so we'll error with a more useful message","            if (res.statusCode === 404 && hasDevDependencies) {","              err.code = 'NOT_FOUND_HAS_DEV_DEPS';","            } else {","              err.code = res.statusCode;","            }","","            if (res.statusCode === 500) {","              debug('Server error', body.stack);","            }","","            return reject(err);","          }","","          resolve(body);","        });","      });","    }).then(function (res) {","      analytics.add('vulns-pre-policy', res.vulnerabilities.length);","      options.loose = true; // allows merge without root policy","      return snyk.policy.load(policyLocations, options)","      .then(function (policy) {","        return policy.filter(res, root);","      }, function (error) { // note: inline catch, to handle error from .load","        // the .snyk file wasn't found, which is fine, so we'll return the vulns","        if (error.code === 'ENOENT') {","          return res;","        }","        throw error;","      }).then(function (res) {","        analytics.add('vulns', res.vulnerabilities.length);","","        // add the unique count of vulnerabilities found","        res.uniqueCount = 0;","        var seen = {};","        res.uniqueCount = res.vulnerabilities.reduce(function (acc, curr) {","          if (!seen[curr.id]) {","            seen[curr.id] = true;","            acc++;","          }","          return acc;","        }, 0);","","        return res;","      });","    }).then(spinner.clear(lbl));","  });","}","","function assemblePayload(root, options, policyLocations) {","  var local = fs.existsSync(root);","  analytics.add('local', local);","  analytics.add('packageManager', options.packageManager);","  return local ? assembleLocalPayload(root, options, policyLocations)","    : assembleRemotePayload(root, options);","}","","function assembleLocalPayload(root, options, policyLocations) {","  return getModuleInfo(options.packageManager, root, options)","  .then(function (module) {","    analytics.add('policies', policyLocations.length);","    analytics.add('packageName', module.name);","    analytics.add('packageVersion', module.version);","    analytics.add('package', module.name + '@' + module.version);","    var payload = {","      method: 'POST',","      url: vulnUrl(options.packageManager),","      json: true,","      headers: {","        'x-is-ci': isCI,","        authorization: 'token ' + snyk.api,","      },","      body: module,","    };","    if (options.org) {","      payload.qs = {org: options.org};","    }","    return payload;","  });","}","","function assembleRemotePayload(root, options) {","  var module = moduleToOjbect(root);","  debug('testing remote: %s', module.name + '@' + module.version);","  var encodedName = encodeURIComponent(module.name + '@' + module.version);","  analytics.add('packageName', module.name);","  analytics.add('packageVersion', module.version);","  analytics.add('package', module.name + '@' + module.version);","  var payload = {","    method: 'GET',","    url: vulnUrl(options.packageManager) + '/' + encodedName,","    json: true,","    headers: {","      'x-is-ci': isCI,","      authorization: 'token ' + snyk.api,","    },","  };","  if (options.org) {","    payload.qs = {org: options.org};","  }","  return Promise.resolve(payload);","}","","function vulnUrl(packageManager) {","  return config.API + '/vuln/' + packageManager;","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"25":0,"26":0,"27":0,"28":0,"31":0,"32":0,"39":0,"40":0,"42":0,"45":0,"46":0,"49":0,"52":0,"56":0,"57":0,"58":0,"60":0,"63":0,"64":0,"66":0,"68":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"78":0,"81":0,"87":1,"88":0,"89":0,"90":0,"91":0,"95":1,"96":0,"98":0,"99":0,"100":0,"101":0,"102":0,"112":0,"113":0,"115":0,"119":1,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"135":0,"136":0,"138":0,"141":1,"142":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/analytics.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/analytics.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":0,"19":1,"20":1,"21":1,"22":0,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":0,"38":1,"39":1,"40":1,"41":0,"42":1,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":1,"53":1,"54":2,"55":0,"56":0,"57":2,"58":1,"59":1,"60":1,"61":1},"b":{"1":[1,0],"2":[0,1],"3":[1,0],"4":[1,0],"5":[0,1],"6":[0,1],"7":[1,1],"8":[1,0],"9":[0,1],"10":[0,0],"11":[0,0],"12":[0,2],"13":[2,0],"14":[1,1],"15":[1,0],"16":[1,1]},"f":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":2},"fnMap":{"1":{"name":"analytics","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}}},"2":{"name":"postAnalytics","line":37,"loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":29}}},"3":{"name":"(anonymous_3)","line":47,"loc":{"start":{"line":47,"column":24},"end":{"line":47,"column":43}}},"4":{"name":"(anonymous_4)","line":74,"loc":{"start":{"line":74,"column":11},"end":{"line":74,"column":28}}},"5":{"name":"(anonymous_5)","line":79,"loc":{"start":{"line":79,"column":18},"end":{"line":79,"column":30}}},"6":{"name":"(anonymous_6)","line":83,"loc":{"start":{"line":83,"column":16},"end":{"line":83,"column":38}}},"7":{"name":"getMAC","line":97,"loc":{"start":{"line":97,"column":0},"end":{"line":97,"column":18}}},"8":{"name":"(anonymous_8)","line":99,"loc":{"start":{"line":99,"column":47},"end":{"line":99,"column":68}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":23}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":32}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":69}},"13":{"start":{"line":14,"column":0},"end":{"line":14,"column":31}},"14":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}},"15":{"start":{"line":17,"column":0},"end":{"line":17,"column":18}},"16":{"start":{"line":19,"column":0},"end":{"line":35,"column":1}},"17":{"start":{"line":20,"column":2},"end":{"line":22,"column":3}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":14}},"19":{"start":{"line":25,"column":2},"end":{"line":28,"column":3}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":47}},"21":{"start":{"line":30,"column":2},"end":{"line":32,"column":3}},"22":{"start":{"line":31,"column":4},"end":{"line":31,"column":29}},"23":{"start":{"line":34,"column":2},"end":{"line":34,"column":29}},"24":{"start":{"line":37,"column":0},"end":{"line":77,"column":1}},"25":{"start":{"line":40,"column":2},"end":{"line":43,"column":3}},"26":{"start":{"line":41,"column":4},"end":{"line":41,"column":32}},"27":{"start":{"line":42,"column":4},"end":{"line":42,"column":29}},"28":{"start":{"line":47,"column":2},"end":{"line":76,"column":5}},"29":{"start":{"line":48,"column":4},"end":{"line":48,"column":27}},"30":{"start":{"line":49,"column":4},"end":{"line":49,"column":50}},"31":{"start":{"line":50,"column":4},"end":{"line":50,"column":39}},"32":{"start":{"line":52,"column":4},"end":{"line":52,"column":36}},"33":{"start":{"line":53,"column":4},"end":{"line":53,"column":43}},"34":{"start":{"line":54,"column":4},"end":{"line":54,"column":47}},"35":{"start":{"line":56,"column":4},"end":{"line":56,"column":21}},"36":{"start":{"line":57,"column":4},"end":{"line":59,"column":5}},"37":{"start":{"line":58,"column":6},"end":{"line":58,"column":50}},"38":{"start":{"line":61,"column":4},"end":{"line":61,"column":19}},"39":{"start":{"line":63,"column":4},"end":{"line":63,"column":16}},"40":{"start":{"line":65,"column":4},"end":{"line":73,"column":7}},"41":{"start":{"line":75,"column":4},"end":{"line":75,"column":17}},"42":{"start":{"line":79,"column":0},"end":{"line":81,"column":2}},"43":{"start":{"line":80,"column":2},"end":{"line":80,"column":16}},"44":{"start":{"line":83,"column":0},"end":{"line":93,"column":2}},"45":{"start":{"line":84,"column":2},"end":{"line":84,"column":27}},"46":{"start":{"line":85,"column":2},"end":{"line":92,"column":3}},"47":{"start":{"line":86,"column":4},"end":{"line":88,"column":5}},"48":{"start":{"line":87,"column":6},"end":{"line":87,"column":38}},"49":{"start":{"line":89,"column":4},"end":{"line":89,"column":30}},"50":{"start":{"line":91,"column":4},"end":{"line":91,"column":26}},"51":{"start":{"line":97,"column":0},"end":{"line":114,"column":1}},"52":{"start":{"line":98,"column":2},"end":{"line":98,"column":11}},"53":{"start":{"line":99,"column":2},"end":{"line":113,"column":9}},"54":{"start":{"line":100,"column":4},"end":{"line":103,"column":5}},"55":{"start":{"line":101,"column":6},"end":{"line":101,"column":18}},"56":{"start":{"line":102,"column":6},"end":{"line":102,"column":41}},"57":{"start":{"line":105,"column":4},"end":{"line":107,"column":5}},"58":{"start":{"line":106,"column":6},"end":{"line":106,"column":17}},"59":{"start":{"line":109,"column":4},"end":{"line":112,"column":5}},"60":{"start":{"line":110,"column":6},"end":{"line":110,"column":18}},"61":{"start":{"line":111,"column":6},"end":{"line":111,"column":41}}},"branchMap":{"1":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":17},"end":{"line":13,"column":39}},{"start":{"line":13,"column":43},"end":{"line":13,"column":68}}]},"2":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"3":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"4":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":37}},{"start":{"line":27,"column":41},"end":{"line":27,"column":43}}]},"5":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":2},"end":{"line":30,"column":2}},{"start":{"line":30,"column":2},"end":{"line":30,"column":2}}]},"6":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":2},"end":{"line":40,"column":2}},{"start":{"line":40,"column":2},"end":{"line":40,"column":2}}]},"7":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":6},"end":{"line":40,"column":42}},{"start":{"line":40,"column":46},"end":{"line":40,"column":70}}]},"8":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":22}},{"start":{"line":52,"column":26},"end":{"line":52,"column":35}}]},"9":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"10":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":2},"end":{"line":85,"column":2}},{"start":{"line":85,"column":2},"end":{"line":85,"column":2}}]},"11":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]},"12":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":100,"column":4}},{"start":{"line":100,"column":4},"end":{"line":100,"column":4}}]},"13":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":32}},{"start":{"line":100,"column":36},"end":{"line":100,"column":61}}]},"14":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":4}},{"start":{"line":105,"column":4},"end":{"line":105,"column":4}}]},"15":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":4}},{"start":{"line":109,"column":4},"end":{"line":109,"column":4}}]},"16":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":8},"end":{"line":109,"column":33}},{"start":{"line":109,"column":37},"end":{"line":109,"column":60}}]}},"code":["module.exports = analytics;","module.exports.single = postAnalytics;","","var Promise = require('es6-promise').Promise; // jshint ignore:line","var snyk = require('./');","var config = require('./config');","var version = require('./version');","var request = require('./request');","var isCI = require('./is-ci');","var debug = require('debug')('snyk');","var os = require('os');","var osName = require('os-name');","var interfaces = os.networkInterfaces() || os.getNetworkInterfaces();","var crypto = require('crypto');","var uuid = require('uuid');","","var metadata = {};","","function analytics(data) {","  if (!data) {","    data = {};","  }","","  // merge any new data with data we picked up along the way","  if (Array.isArray(data.args)) {","    // this is an overhang from the cli/args.js and we don't want it","    delete (data.args.slice(-1).pop() || {})._;","  }","","  if (Object.keys(metadata).length) {","    data.metadata = metadata;","  }","","  return postAnalytics(data);","}","","function postAnalytics(data) {","  // if the user opt'ed out of analytics, then let's bail out early","  // ths applies to all sending to protect user's privacy","  if (snyk.config.get('disable-analytics') || config.DISABLE_ANALYTICS) {","    debug('analytics disabled');","    return Promise.resolve();","  }","","  // get fingerprint from mac address","  // snyk version","  return version().then(function (version) {","    data.version = version;","    data.os = osName(os.platform(), os.release());","    data.nodeVersion = process.version;","","    var mac = getMAC() || uuid.v4();","    var shasum = crypto.createHash('sha1');","    data.id = shasum.update(mac).digest('hex');","","    var headers = {};","    if (snyk.api) {","      headers.authorization = 'token ' + snyk.api;","    }","","    data.ci = isCI;","","    debug(data);","","    return request({","      body: {","        data: data,","      },","      url: config.API + '/analytics/cli',","      json: true,","      method: 'post',","      headers: headers,","    });","  }).catch(function (error) {","    debug(error); // this swallows the analytics error","  });","}","","analytics.reset = function () {","  metadata = {};","};","","analytics.add = function (key, value) {","  debug('add', key, value);","  if (metadata[key]) {","    if (!Array.isArray(metadata[key])) {","      metadata[key] = [metadata[key]];","    }","    metadata[key].push(value);","  } else {","    metadata[key] = value;","  }","};","","// via http://git.io/v0Xze","// because we can't just pick the first mac address :-\\","function getMAC() {","  var name;","  return Object.keys(interfaces).sort().reduce(function (acc, curr) {","    if (curr.indexOf('en') === 0 && name.indexOf('en') === -1) {","      name = curr;","      return interfaces[curr][0].address;","    }","","    if (acc) {","      return acc;","    }","","    if (curr.indexOf('lo') === -1 && interfaces[curr].length) {","      name = curr;","      return interfaces[curr][0].address;","    }","  }, '');","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"17":1,"19":1,"20":1,"21":0,"25":1,"27":1,"30":1,"31":0,"34":1,"37":1,"40":1,"41":0,"42":0,"47":1,"48":1,"49":1,"50":1,"52":1,"53":1,"54":1,"56":1,"57":1,"58":0,"61":1,"63":1,"65":1,"75":0,"79":1,"80":0,"83":1,"84":0,"85":0,"86":0,"87":0,"89":0,"91":0,"97":1,"98":1,"99":1,"100":2,"101":0,"102":0,"105":2,"106":1,"109":1,"110":1,"111":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/version.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/version.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":0,"25":1,"26":0},"b":{"1":[1,0],"2":[1,1],"3":[0,0]},"f":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":29}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":21},"end":{"line":7,"column":40}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":40},"end":{"line":23,"column":52}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":27}}},"5":{"name":"commit","line":40,"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":18}}},"6":{"name":"branch","line":44,"loc":{"start":{"line":44,"column":0},"end":{"line":44,"column":18}}},"7":{"name":"dirty","line":48,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":17}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":38,"column":2}},"6":{"start":{"line":7,"column":2},"end":{"line":37,"column":5}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":54}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":44}},"9":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"10":{"start":{"line":12,"column":6},"end":{"line":12,"column":30}},"11":{"start":{"line":17,"column":4},"end":{"line":21,"column":6}},"12":{"start":{"line":23,"column":4},"end":{"line":36,"column":8}},"13":{"start":{"line":25,"column":6},"end":{"line":25,"column":34}},"14":{"start":{"line":27,"column":6},"end":{"line":27,"column":26}},"15":{"start":{"line":28,"column":6},"end":{"line":28,"column":26}},"16":{"start":{"line":29,"column":6},"end":{"line":29,"column":44}},"17":{"start":{"line":30,"column":6},"end":{"line":30,"column":40}},"18":{"start":{"line":31,"column":6},"end":{"line":33,"column":7}},"19":{"start":{"line":32,"column":8},"end":{"line":32,"column":52}},"20":{"start":{"line":35,"column":6},"end":{"line":35,"column":18}},"21":{"start":{"line":40,"column":0},"end":{"line":42,"column":1}},"22":{"start":{"line":41,"column":2},"end":{"line":41,"column":45}},"23":{"start":{"line":44,"column":0},"end":{"line":46,"column":1}},"24":{"start":{"line":45,"column":2},"end":{"line":45,"column":58}},"25":{"start":{"line":48,"column":0},"end":{"line":51,"column":1}},"26":{"start":{"line":49,"column":2},"end":{"line":50,"column":40}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":8},"end":{"line":11,"column":15}},{"start":{"line":11,"column":19},"end":{"line":11,"column":38}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":6}},{"start":{"line":31,"column":6},"end":{"line":31,"column":6}}]}},"code":["var path = require('path');","var command = require('./exec');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var root = path.resolve(__dirname, '..');","","module.exports = function () {","  return new Promise(function (resolve) {","    var filename = path.resolve(root, 'package.json');","    var version = require(filename).version;","","    if (version && version !== '0.0.0') {","      return resolve(version);","    }","","    // else we're in development, give the commit out","    // get the last commit and whether the working dir is dirty","    var promises = [","      branch(),","      commit(),","      dirty(),","    ];","","    resolve(Promise.all(promises).catch(function () {","      // handle any point where the git based lookup fails","      return ['unknown', '', '0'];","    }).then(function (res) {","      var branch = res[0];","      var commit = res[1];","      var dirtyCount = parseInt(res[2], 10);","      var curr = branch + ': ' + commit;","      if (dirtyCount !== 0) {","        curr += ' (' + dirtyCount + ' dirty files)';","      }","","      return curr;","    }));","  });","};","","function commit() {","  return command('git rev-parse HEAD', root);","}","","function branch() {","  return command('git rev-parse --abbrev-ref HEAD', root);","}","","function dirty() {","  return command('expr $(git status --porcelain 2>/dev/null| ' +","      'egrep \"^(M| M)\" | wc -l)', root);","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":1,"8":1,"9":1,"11":1,"12":1,"17":0,"23":0,"25":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"35":0,"40":1,"41":0,"44":1,"45":0,"48":1,"49":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/exec.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/exec.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"command","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":21},"end":{"line":6,"column":48}}},"3":{"name":"(anonymous_3)","line":7,"loc":{"start":{"line":7,"column":29},"end":{"line":7,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"3":{"start":{"line":5,"column":0},"end":{"line":15,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":14,"column":5}},"5":{"start":{"line":7,"column":4},"end":{"line":13,"column":7}},"6":{"start":{"line":8,"column":6},"end":{"line":8,"column":32}},"7":{"start":{"line":9,"column":6},"end":{"line":11,"column":7}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":54}},"9":{"start":{"line":12,"column":6},"end":{"line":12,"column":43}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":6},"end":{"line":9,"column":6}},{"start":{"line":9,"column":6},"end":{"line":9,"column":6}}]}},"code":["var exec = require('child_process').exec;","","module.exports = command;","","function command(cmd, root) {","  return new Promise(function (resolve, reject) {","    exec(cmd, { cwd: root }, function (err, stdout, stderr) {","      var error = stderr.trim();","      if (error) {","        return reject(new Error(error + ' / ' + cmd));","      }","      resolve(stdout.split('\\n').join(''));","    });","  });","}","",""],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/request.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/request.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":1,"26":1,"27":1,"28":0,"29":0,"30":0,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":0,"39":1,"40":1,"41":1,"42":1,"43":0,"44":0,"45":1},"b":{"1":[1,0],"2":[1,0],"3":[0,1],"4":[0,1],"5":[1,0],"6":[1,0],"7":[1,0],"8":[0,1],"9":[1,0],"10":[0,1]},"f":{"1":1,"2":1,"3":1,"4":0},"fnMap":{"1":{"name":"makeRequest","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":28},"end":{"line":13,"column":55}}},"3":{"name":"(anonymous_3)","line":52,"loc":{"start":{"line":52,"column":31},"end":{"line":52,"column":59}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":17},"end":{"line":69,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":41}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":33}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":27}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":33}},"10":{"start":{"line":12,"column":0},"end":{"line":75,"column":1}},"11":{"start":{"line":13,"column":2},"end":{"line":65,"column":5}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":28}},"13":{"start":{"line":15,"column":4},"end":{"line":15,"column":19}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":24}},"15":{"start":{"line":19,"column":4},"end":{"line":36,"column":5}},"16":{"start":{"line":21,"column":6},"end":{"line":21,"column":41}},"17":{"start":{"line":22,"column":6},"end":{"line":22,"column":38}},"18":{"start":{"line":23,"column":6},"end":{"line":23,"column":28}},"19":{"start":{"line":24,"column":6},"end":{"line":24,"column":28}},"20":{"start":{"line":26,"column":6},"end":{"line":26,"column":50}},"21":{"start":{"line":27,"column":6},"end":{"line":29,"column":7}},"22":{"start":{"line":28,"column":8},"end":{"line":28,"column":43}},"23":{"start":{"line":31,"column":6},"end":{"line":33,"column":7}},"24":{"start":{"line":32,"column":8},"end":{"line":32,"column":29}},"25":{"start":{"line":35,"column":6},"end":{"line":35,"column":51}},"26":{"start":{"line":38,"column":4},"end":{"line":38,"column":33}},"27":{"start":{"line":40,"column":4},"end":{"line":44,"column":5}},"28":{"start":{"line":41,"column":6},"end":{"line":41,"column":44}},"29":{"start":{"line":42,"column":6},"end":{"line":42,"column":30}},"30":{"start":{"line":43,"column":6},"end":{"line":43,"column":32}},"31":{"start":{"line":47,"column":4},"end":{"line":49,"column":5}},"32":{"start":{"line":48,"column":6},"end":{"line":48,"column":46}},"33":{"start":{"line":51,"column":4},"end":{"line":51,"column":56}},"34":{"start":{"line":52,"column":4},"end":{"line":60,"column":7}},"35":{"start":{"line":53,"column":6},"end":{"line":53,"column":19}},"36":{"start":{"line":54,"column":6},"end":{"line":54,"column":77}},"37":{"start":{"line":55,"column":6},"end":{"line":57,"column":7}},"38":{"start":{"line":56,"column":8},"end":{"line":56,"column":29}},"39":{"start":{"line":59,"column":6},"end":{"line":59,"column":40}},"40":{"start":{"line":62,"column":4},"end":{"line":64,"column":5}},"41":{"start":{"line":63,"column":6},"end":{"line":63,"column":51}},"42":{"start":{"line":68,"column":2},"end":{"line":72,"column":3}},"43":{"start":{"line":69,"column":4},"end":{"line":71,"column":23}},"44":{"start":{"line":70,"column":6},"end":{"line":70,"column":40}},"45":{"start":{"line":74,"column":2},"end":{"line":74,"column":17}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":6}},{"start":{"line":27,"column":6},"end":{"line":27,"column":6}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":6}},{"start":{"line":31,"column":6},"end":{"line":31,"column":6}}]},"4":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":4}},{"start":{"line":40,"column":4},"end":{"line":40,"column":4}}]},"5":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":8},"end":{"line":40,"column":32}},{"start":{"line":40,"column":36},"end":{"line":40,"column":64}}]},"6":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":4}},{"start":{"line":47,"column":4},"end":{"line":47,"column":4}}]},"7":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":32},"end":{"line":54,"column":35}},{"start":{"line":54,"column":39},"end":{"line":54,"column":41}}]},"8":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":6},"end":{"line":55,"column":6}},{"start":{"line":55,"column":6},"end":{"line":55,"column":6}}]},"9":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]},"10":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":2},"end":{"line":68,"column":2}},{"start":{"line":68,"column":2},"end":{"line":68,"column":2}}]}},"code":["module.exports = makeRequest;","","var debug = require('debug')('snyk:req');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var request = require('request');","var stream = require('stream');","var parse = require('url').parse;","var format = require('url').format;","var zlib = require('zlib');","var config = require('./config');","","function makeRequest(payload, callback) {","  var promise = new Promise(function (resolve, reject) {","    var body = payload.body;","    var bodyStream;","","    delete payload.body;","","    if (body) {","      // always compress going upstream","      bodyStream = new stream.Readable();","      var json = JSON.stringify(body);","      bodyStream.push(json);","      bodyStream.push(null);","","      debug('compressing body (%s)', json.length);","      if (json.length < 1e4) {","        debug(JSON.stringify(body, '', 2));","      }","","      if (!payload.headers) {","        payload.headers = {};","      }","","      payload.headers['content-encoding'] = 'gzip';","    }","","    var url = parse(payload.url);","","    if (url.protocol === 'http:' && url.hostname !== 'localhost') {","      debug('forcing api request to https');","      url.protocol = 'https:';","      payload.url = format(url);","    }","","    // prefer config timeout unless payload specified","    if (!payload.hasOwnProperty('timeout')) {","      payload.timeout = config.timeout * 1000; // s -> ms","    }","","    debug('request payload: ', JSON.stringify(payload));","    var req = request(payload, function (error, res, body) {","      debug(error);","      debug('response (%s): ', (res || {}).statusCode, JSON.stringify(body));","      if (error) {","        return reject(error);","      }","","      resolve({ res: res, body: body });","    });","","    if (body) {","      bodyStream.pipe(zlib.createGzip()).pipe(req);","    }","  });","","  // make callbacks and promises work","  if (callback) {","    promise.then(function (res) {","      callback(null, res.res, res.body);","    }).catch(callback);","  }","","  return promise;","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"13":1,"14":1,"15":1,"17":1,"19":1,"21":1,"22":1,"23":1,"24":1,"26":1,"27":1,"28":1,"31":1,"32":0,"35":1,"38":1,"40":1,"41":0,"42":0,"43":0,"47":1,"48":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":0,"59":1,"62":1,"63":1,"68":1,"69":0,"70":0,"74":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/is-ci.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/is-ci.js","s":{"1":1,"2":1,"3":267},"b":{},"f":{"1":267},"fnMap":{"1":{"name":"(anonymous_1)","line":19,"loc":{"start":{"line":19,"column":51},"end":{"line":19,"column":66}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":17,"column":2}},"2":{"start":{"line":19,"column":0},"end":{"line":21,"column":10}},"3":{"start":{"line":20,"column":2},"end":{"line":20,"column":36}}},"branchMap":{},"code":["var ciEnvs = [","  'SNYK_CI',","  'CI',","  'CONTINUOUS_INTEGRATION',","  'BUILD_ID',","  'BUILD_NUMBER',","  'TEAMCITY_VERSION',","  'TRAVIS',","  'CIRCLECI',","  'JENKINS_URL',","  'HUDSON_URL',","  'bamboo.buildKey',","  'PHPCI',","  'GOCD_SERVER_HOST',","  'BUILDKITE',","  'TF_BUILD',","];","","module.exports = !!Object.keys(process.env).filter(function (env) {","  return ciEnvs.indexOf(env) !== -1;","}).length;",""],"l":{"1":1,"19":1,"20":267}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/module-info/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/module-info/index.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"1":[0,0],"2":[0,0,0,0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"getModuleInfo","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":71}}},"2":{"name":"loadModuleInfoForPackageManager","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":57}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":3,"column":0},"end":{"line":7,"column":2}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":64}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":51}},"6":{"start":{"line":9,"column":0},"end":{"line":27,"column":1}},"7":{"start":{"line":10,"column":2},"end":{"line":26,"column":3}},"8":{"start":{"line":12,"column":6},"end":{"line":12,"column":30}},"9":{"start":{"line":15,"column":6},"end":{"line":15,"column":35}},"10":{"start":{"line":18,"column":6},"end":{"line":18,"column":32}},"11":{"start":{"line":21,"column":6},"end":{"line":21,"column":31}},"12":{"start":{"line":24,"column":6},"end":{"line":24,"column":72}}},"branchMap":{"1":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":19},"end":{"line":4,"column":31}},{"start":{"line":4,"column":35},"end":{"line":4,"column":51}}]},"2":{"line":10,"type":"switch","locations":[{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},{"start":{"line":23,"column":4},"end":{"line":25,"column":5}}]}},"code":["var detectFile = require('../detect').detectPackageFile;","","module.exports = function getModuleInfo(packageManager, root, options) {","  var targetFile = options.file || detectFile(root);","  var getInfo = loadModuleInfoForPackageManager(packageManager);","  return getInfo(root, targetFile, options.policy);","};","","function loadModuleInfoForPackageManager(packageManager) {","  switch (packageManager) {","    case 'npm': {","      return require('./npm');","    }","    case 'rubygems': {","      return require('./rubygems');","    }","    case 'maven': {","      return require('./maven');","    }","    case 'yarn': {","      return require('./yarn');","    }","    default: {","      throw new Error('Unsupported package manager: ' + packageManager);","    }","  }","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"9":1,"10":0,"12":0,"15":0,"18":0,"21":0,"24":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/spinner.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/spinner.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"createSpinner","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":30}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":21},"end":{"line":21,"column":40}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":23},"end":{"line":34,"column":36}}},"4":{"name":"(anonymous_4)","line":38,"loc":{"start":{"line":38,"column":22},"end":{"line":38,"column":39}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":9},"end":{"line":43,"column":24}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":25},"end":{"line":55,"column":37}}},"7":{"name":"(anonymous_7)","line":56,"loc":{"start":{"line":56,"column":28},"end":{"line":56,"column":43}}},"8":{"name":"spinner","line":62,"loc":{"start":{"line":62,"column":0},"end":{"line":62,"column":22}}},"9":{"name":"(anonymous_9)","line":83,"loc":{"start":{"line":83,"column":29},"end":{"line":83,"column":41}}},"10":{"name":"(anonymous_10)","line":99,"loc":{"start":{"line":99,"column":23},"end":{"line":99,"column":35}}},"11":{"name":"(anonymous_11)","line":106,"loc":{"start":{"line":106,"column":18},"end":{"line":106,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":18}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":19}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}},"9":{"start":{"line":11,"column":0},"end":{"line":32,"column":1}},"10":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":48}},"12":{"start":{"line":16,"column":2},"end":{"line":18,"column":3}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":25}},"14":{"start":{"line":21,"column":2},"end":{"line":31,"column":5}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":32}},"16":{"start":{"line":23,"column":4},"end":{"line":28,"column":8}},"17":{"start":{"line":30,"column":4},"end":{"line":30,"column":14}},"18":{"start":{"line":34,"column":0},"end":{"line":36,"column":2}},"19":{"start":{"line":35,"column":2},"end":{"line":35,"column":38}},"20":{"start":{"line":38,"column":0},"end":{"line":53,"column":2}},"21":{"start":{"line":39,"column":2},"end":{"line":41,"column":3}},"22":{"start":{"line":40,"column":4},"end":{"line":40,"column":55}},"23":{"start":{"line":43,"column":2},"end":{"line":52,"column":4}},"24":{"start":{"line":44,"column":4},"end":{"line":44,"column":61}},"25":{"start":{"line":45,"column":4},"end":{"line":50,"column":5}},"26":{"start":{"line":46,"column":6},"end":{"line":46,"column":36}},"27":{"start":{"line":47,"column":6},"end":{"line":49,"column":7}},"28":{"start":{"line":48,"column":8},"end":{"line":48,"column":18}},"29":{"start":{"line":51,"column":4},"end":{"line":51,"column":15}},"30":{"start":{"line":55,"column":0},"end":{"line":59,"column":2}},"31":{"start":{"line":56,"column":2},"end":{"line":58,"column":5}},"32":{"start":{"line":57,"column":4},"end":{"line":57,"column":31}},"33":{"start":{"line":62,"column":0},"end":{"line":120,"column":1}},"34":{"start":{"line":63,"column":2},"end":{"line":65,"column":3}},"35":{"start":{"line":64,"column":4},"end":{"line":64,"column":17}},"36":{"start":{"line":66,"column":2},"end":{"line":66,"column":28}},"37":{"start":{"line":67,"column":2},"end":{"line":67,"column":23}},"38":{"start":{"line":67,"column":13},"end":{"line":67,"column":22}},"39":{"start":{"line":68,"column":2},"end":{"line":68,"column":41}},"40":{"start":{"line":69,"column":2},"end":{"line":69,"column":58}},"41":{"start":{"line":70,"column":2},"end":{"line":70,"column":37}},"42":{"start":{"line":71,"column":2},"end":{"line":71,"column":64}},"43":{"start":{"line":72,"column":2},"end":{"line":72,"column":23}},"44":{"start":{"line":72,"column":15},"end":{"line":72,"column":22}},"45":{"start":{"line":73,"column":2},"end":{"line":73,"column":40}},"46":{"start":{"line":73,"column":26},"end":{"line":73,"column":39}},"47":{"start":{"line":74,"column":2},"end":{"line":74,"column":46}},"48":{"start":{"line":75,"column":2},"end":{"line":75,"column":56}},"49":{"start":{"line":77,"column":2},"end":{"line":77,"column":12}},"50":{"start":{"line":78,"column":2},"end":{"line":78,"column":32}},"51":{"start":{"line":79,"column":2},"end":{"line":79,"column":20}},"52":{"start":{"line":81,"column":2},"end":{"line":81,"column":60}},"53":{"start":{"line":83,"column":2},"end":{"line":89,"column":9}},"54":{"start":{"line":84,"column":4},"end":{"line":84,"column":33}},"55":{"start":{"line":84,"column":24},"end":{"line":84,"column":31}},"56":{"start":{"line":85,"column":4},"end":{"line":85,"column":28}},"57":{"start":{"line":86,"column":4},"end":{"line":86,"column":22}},"58":{"start":{"line":87,"column":4},"end":{"line":87,"column":48}},"59":{"start":{"line":88,"column":4},"end":{"line":88,"column":17}},"60":{"start":{"line":91,"column":2},"end":{"line":91,"column":64}},"61":{"start":{"line":92,"column":2},"end":{"line":94,"column":3}},"62":{"start":{"line":93,"column":4},"end":{"line":93,"column":21}},"63":{"start":{"line":96,"column":2},"end":{"line":96,"column":70}},"64":{"start":{"line":97,"column":2},"end":{"line":104,"column":3}},"65":{"start":{"line":98,"column":4},"end":{"line":98,"column":22}},"66":{"start":{"line":99,"column":4},"end":{"line":103,"column":7}},"67":{"start":{"line":100,"column":6},"end":{"line":102,"column":7}},"68":{"start":{"line":101,"column":8},"end":{"line":101,"column":25}},"69":{"start":{"line":106,"column":2},"end":{"line":115,"column":4}},"70":{"start":{"line":107,"column":4},"end":{"line":107,"column":28}},"71":{"start":{"line":109,"column":4},"end":{"line":114,"column":5}},"72":{"start":{"line":110,"column":6},"end":{"line":110,"column":23}},"73":{"start":{"line":111,"column":6},"end":{"line":111,"column":34}},"74":{"start":{"line":113,"column":6},"end":{"line":113,"column":23}},"75":{"start":{"line":117,"column":2},"end":{"line":119,"column":4}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":16,"column":2}},{"start":{"line":16,"column":2},"end":{"line":16,"column":2}}]},"3":{"line":25,"type":"cond-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":37}},{"start":{"line":25,"column":40},"end":{"line":25,"column":54}}]},"4":{"line":35,"type":"cond-expr","locations":[{"start":{"line":35,"column":29},"end":{"line":35,"column":33}},{"start":{"line":35,"column":36},"end":{"line":35,"column":37}}]},"5":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":2}},{"start":{"line":39,"column":2},"end":{"line":39,"column":2}}]},"6":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":4}},{"start":{"line":45,"column":4},"end":{"line":45,"column":4}}]},"7":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":6}},{"start":{"line":47,"column":6},"end":{"line":47,"column":6}}]},"8":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":2},"end":{"line":63,"column":2}},{"start":{"line":63,"column":2},"end":{"line":63,"column":2}}]},"9":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":6},"end":{"line":63,"column":31}},{"start":{"line":63,"column":35},"end":{"line":63,"column":39}}]},"10":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":2},"end":{"line":67,"column":2}},{"start":{"line":67,"column":2},"end":{"line":67,"column":2}}]},"11":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":12},"end":{"line":68,"column":22}},{"start":{"line":68,"column":26},"end":{"line":68,"column":40}}]},"12":{"line":69,"type":"cond-expr","locations":[{"start":{"line":69,"column":43},"end":{"line":69,"column":50}},{"start":{"line":69,"column":53},"end":{"line":69,"column":57}}]},"13":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":15},"end":{"line":70,"column":25}},{"start":{"line":70,"column":29},"end":{"line":70,"column":36}}]},"14":{"line":71,"type":"cond-expr","locations":[{"start":{"line":71,"column":46},"end":{"line":71,"column":58}},{"start":{"line":71,"column":61},"end":{"line":71,"column":63}}]},"15":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":2},"end":{"line":72,"column":2}},{"start":{"line":72,"column":2},"end":{"line":72,"column":2}}]},"16":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":2},"end":{"line":73,"column":2}},{"start":{"line":73,"column":2},"end":{"line":73,"column":2}}]},"17":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":9}},{"start":{"line":73,"column":13},"end":{"line":73,"column":23}}]},"18":{"line":74,"type":"cond-expr","locations":[{"start":{"line":74,"column":23},"end":{"line":74,"column":34}},{"start":{"line":74,"column":37},"end":{"line":74,"column":45}}]},"19":{"line":75,"type":"cond-expr","locations":[{"start":{"line":75,"column":26},"end":{"line":75,"column":37}},{"start":{"line":75,"column":40},"end":{"line":75,"column":55}}]},"20":{"line":81,"type":"cond-expr","locations":[{"start":{"line":81,"column":46},"end":{"line":81,"column":55}},{"start":{"line":81,"column":58},"end":{"line":81,"column":59}}]},"21":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":4},"end":{"line":84,"column":4}},{"start":{"line":84,"column":4},"end":{"line":84,"column":4}}]},"22":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":25},"end":{"line":87,"column":34}},{"start":{"line":87,"column":38},"end":{"line":87,"column":40}}]},"23":{"line":91,"type":"cond-expr","locations":[{"start":{"line":91,"column":47},"end":{"line":91,"column":56}},{"start":{"line":91,"column":59},"end":{"line":91,"column":63}}]},"24":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":2},"end":{"line":92,"column":2}},{"start":{"line":92,"column":2},"end":{"line":92,"column":2}}]},"25":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":11}},{"start":{"line":92,"column":15},"end":{"line":92,"column":51}}]},"26":{"line":96,"type":"cond-expr","locations":[{"start":{"line":96,"column":51},"end":{"line":96,"column":62}},{"start":{"line":96,"column":65},"end":{"line":96,"column":69}}]},"27":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2}},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]},"28":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":6},"end":{"line":97,"column":13}},{"start":{"line":97,"column":17},"end":{"line":97,"column":28}}]},"29":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":6},"end":{"line":100,"column":6}},{"start":{"line":100,"column":6},"end":{"line":100,"column":6}}]},"30":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":4}},{"start":{"line":109,"column":4},"end":{"line":109,"column":4}}]}},"code":["module.exports = createSpinner;","module.exports.isRequired = true;","","var debug = require('debug')('snyk:spinner');","var isCI = require('./is-ci');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var spinners = {};","var sticky = false;","var handleExit = false;","","function createSpinner(label) {","  if (!label) {","    throw new Error('spinner requires a label');","  }","","  if (spinners[label] === undefined) {","    spinners[label] = [];","  }","","  // helper...","  return new Promise(function (resolve) {","    debug('spinner: %s', label);","    spinners[label].push(spinner({","      // string: '◐◓◑◒',","      stream: sticky ? process.stdout : process.stderr,","      interval: 75,","      label: label,","    }));","","    resolve();","  });","}","","createSpinner.sticky = function (s) {","  sticky = s === undefined ? true : s;","};","","createSpinner.clear = function (label) {","  if (spinners[label] === undefined) {","    throw new Error('unknown spinner label: ' + label);","  }","","  return function (res) {","    debug('clearing %s (%s)', label, spinners[label].length);","    if (spinners[label].length) {","      var s = spinners[label].pop();","      if (s) {","        s.clear();","      }","    }","    return res;","  };","};","","createSpinner.clearAll = function () {","  Object.keys(spinners).map(function (lbl) {","    createSpinner.clear(lbl)();","  });","};","","// taken from http://git.io/vWdUm and modified","function spinner(opt) {","  if (module.exports.isRequired || isCI) {","    return false;","  }","  debug('creating spinner');","  if (!opt) {opt = {};}","  var str = opt.stream || process.stderr;","  var tty = typeof opt.tty === 'boolean' ? opt.tty : true;","  var string = opt.string || '/-\\\\|';","  var ms = typeof opt.interval === 'number' ? opt.interval : 50;","  if (ms < 0) {ms = 0;}","  if (tty && !str.isTTY) {return false;}","  var CR = str.isTTY ? '\\u001b[0G' : '\\u000d';","  var CLEAR = str.isTTY ? '\\u001b[2K' : '\\u000d \\u000d';","","  var s = 0;","  var sprite = string.split('');","  var wrote = false;","","  var delay = typeof opt.delay === 'number' ? opt.delay : 2;","","  var interval = setInterval(function () {","    if (--delay >= 0) { return; }","    s = ++s % sprite.length;","    var c = sprite[s];","    str.write(c + ' ' + (opt.label || '') + CR);","    wrote = true;","  }, ms);","","  var unref = typeof opt.unref === 'boolean' ? opt.unref : true;","  if (unref && typeof interval.unref === 'function') {","    interval.unref();","  }","","  var cleanup = typeof opt.cleanup === 'boolean' ? opt.cleanup : true;","  if (cleanup && !handleExit) {","    handleExit = true;","    process.on('exit', function () {","      if (wrote) {","        str.write(CLEAR);","      }","    });","  }","","  spinner.clear = function () {","    clearInterval(interval);","    // debug('spinner cleared');","    if (sticky) {","      str.write(CLEAR);","      str.write(opt.label + '\\n');","    } else {","      str.write(CLEAR);","    }","  };","","  return {","    clear: spinner.clear,","  };","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"11":1,"12":0,"13":0,"16":0,"17":0,"21":0,"22":0,"23":0,"30":0,"34":1,"35":0,"38":1,"39":0,"40":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"51":0,"55":1,"56":0,"57":0,"62":1,"63":0,"64":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"77":0,"78":0,"79":0,"81":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"91":0,"92":0,"93":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"106":0,"107":0,"109":0,"110":0,"111":0,"113":0,"117":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/monitor.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/monitor.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"monitor","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":38}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":10},"end":{"line":19,"column":22}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":12},"end":{"line":21,"column":30}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":25},"end":{"line":25,"column":52}}},"5":{"name":"(anonymous_5)","line":51,"loc":{"start":{"line":51,"column":11},"end":{"line":51,"column":39}}},"6":{"name":"pluckPolicies","line":68,"loc":{"start":{"line":68,"column":0},"end":{"line":68,"column":28}}},"7":{"name":"(anonymous_7)","line":81,"loc":{"start":{"line":81,"column":53},"end":{"line":81,"column":69}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":25}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":51}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":33}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":23}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":30}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}},"11":{"start":{"line":13,"column":0},"end":{"line":66,"column":1}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":31}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":67}},"14":{"start":{"line":16,"column":2},"end":{"line":16,"column":29}},"15":{"start":{"line":17,"column":2},"end":{"line":17,"column":52}},"16":{"start":{"line":18,"column":2},"end":{"line":65,"column":7}},"17":{"start":{"line":20,"column":6},"end":{"line":20,"column":53}},"18":{"start":{"line":22,"column":6},"end":{"line":22,"column":54}},"19":{"start":{"line":24,"column":6},"end":{"line":24,"column":74}},"20":{"start":{"line":25,"column":6},"end":{"line":64,"column":9}},"21":{"start":{"line":26,"column":8},"end":{"line":63,"column":11}},"22":{"start":{"line":52,"column":10},"end":{"line":54,"column":11}},"23":{"start":{"line":53,"column":12},"end":{"line":53,"column":33}},"24":{"start":{"line":56,"column":10},"end":{"line":62,"column":11}},"25":{"start":{"line":57,"column":12},"end":{"line":57,"column":26}},"26":{"start":{"line":59,"column":12},"end":{"line":59,"column":67}},"27":{"start":{"line":60,"column":12},"end":{"line":60,"column":36}},"28":{"start":{"line":61,"column":12},"end":{"line":61,"column":22}},"29":{"start":{"line":68,"column":0},"end":{"line":84,"column":1}},"30":{"start":{"line":69,"column":2},"end":{"line":71,"column":3}},"31":{"start":{"line":70,"column":4},"end":{"line":70,"column":16}},"32":{"start":{"line":73,"column":2},"end":{"line":75,"column":3}},"33":{"start":{"line":74,"column":4},"end":{"line":74,"column":20}},"34":{"start":{"line":77,"column":2},"end":{"line":79,"column":3}},"35":{"start":{"line":78,"column":4},"end":{"line":78,"column":16}},"36":{"start":{"line":81,"column":2},"end":{"line":83,"column":22}},"37":{"start":{"line":82,"column":4},"end":{"line":82,"column":49}}},"branchMap":{"1":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":23},"end":{"line":17,"column":42}},{"start":{"line":17,"column":46},"end":{"line":17,"column":51}}]},"2":{"line":24,"type":"cond-expr","locations":[{"start":{"line":24,"column":51},"end":{"line":24,"column":56}},{"start":{"line":24,"column":59},"end":{"line":24,"column":73}}]},"3":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":18},"end":{"line":31,"column":25}},{"start":{"line":31,"column":29},"end":{"line":31,"column":36}},{"start":{"line":31,"column":40},"end":{"line":31,"column":52}}]},"4":{"line":38,"type":"cond-expr","locations":[{"start":{"line":38,"column":32},"end":{"line":38,"column":62}},{"start":{"line":38,"column":65},"end":{"line":38,"column":74}}]},"5":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":10},"end":{"line":52,"column":10}},{"start":{"line":52,"column":10},"end":{"line":52,"column":10}}]},"6":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":10},"end":{"line":56,"column":10}},{"start":{"line":56,"column":10},"end":{"line":56,"column":10}}]},"7":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":36}},{"start":{"line":56,"column":40},"end":{"line":56,"column":62}}]},"8":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":2},"end":{"line":69,"column":2}},{"start":{"line":69,"column":2},"end":{"line":69,"column":2}}]},"9":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":2},"end":{"line":73,"column":2}},{"start":{"line":73,"column":2},"end":{"line":73,"column":2}}]},"10":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]}},"code":["module.exports = monitor;","","var snyk = require('..');","var apiTokenExists = require('./api-token').exists;","var Promise = require('es6-promise').Promise; // jshint ignore:line","var request = require('./request');","var config = require('./config');","var os = require('os');","var _ = require('../dist/lodash-min');","var isCI = require('./is-ci');","var analytics = require('./analytics');","","function monitor(root, meta, modules) {","  var policyLocations = [root];","  policyLocations = policyLocations.concat(pluckPolicies(modules));","  var opts = { loose: true };","  var packageManager = meta.packageManager || 'npm';","  return apiTokenExists('snyk monitor')","    .then(function () {","      return snyk.policy.load(policyLocations, opts);","    }).then(function (policy) {","      analytics.add('packageManager', packageManager);","      // YARN temporary fix to avoid BE changes","      packageManager = packageManager === 'yarn' ? 'npm' : packageManager;","      return new Promise(function (resolve, reject) {","        request({","          body: {","            meta: {","              method: meta.method,","              hostname: os.hostname(),","              id: meta.id || snyk.id || modules.name,","              ci: isCI,","              pid: process.pid,","              node: process.version,","              master: snyk.config.isMaster,","              name: modules.name,","              version: modules.version,","              org: config.org ? decodeURIComponent(config.org) : undefined,","            },","            policy: policy.toString(),","            package: modules,","          },","          gzip: true,","          method: 'PUT',","          headers: {","            authorization: 'token ' + snyk.api,","            'content-encoding': 'gzip',","          },","          url: config.API + '/monitor/' + packageManager,","          json: true,","        }, function (error, res, body) {","          if (error) {","            return reject(error);","          }","","          if (res.statusCode === 200 || res.statusCode === 201) {","            resolve(body);","          } else {","            var e = new Error('unexpected error: ' + body.message);","            e.code = res.statusCode;","            reject(e);","          }","        });","      });","    });","}","","function pluckPolicies(pkg) {","  if (!pkg) {","    return null;","  }","","  if (pkg.snyk) {","    return pkg.snyk;","  }","","  if (!pkg.dependencies) {","    return null;","  }","","  return _.flatten(Object.keys(pkg.dependencies).map(function (name) {","    return pluckPolicies(pkg.dependencies[name]);","  }).filter(Boolean));","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"20":0,"22":0,"24":0,"25":0,"26":0,"52":0,"53":0,"56":0,"57":0,"59":0,"60":0,"61":0,"68":1,"69":0,"70":0,"73":0,"74":0,"77":0,"78":0,"81":0,"82":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/dist/lodash-min.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/dist/lodash-min.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":1,"19":1,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":1,"32":1,"33":1,"34":1,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":1,"85":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":1,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":1,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":1,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":1,"170":1,"171":0,"172":1,"173":0,"174":0,"175":0,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":1,"193":0,"194":0,"195":1,"196":2,"197":0,"198":0,"199":0,"200":0,"201":1,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":1,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":1,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":1,"240":0,"241":0,"242":1,"243":0,"244":0,"245":0,"246":0,"247":0,"248":1,"249":4,"250":4,"251":1,"252":0,"253":0,"254":1,"255":0,"256":1,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":1,"267":0,"268":1,"269":0,"270":1,"271":0,"272":0,"273":0,"274":0,"275":1,"276":0,"277":0,"278":1,"279":0,"280":1,"281":0,"282":0,"283":0,"284":0,"285":1,"286":0,"287":0,"288":0,"289":0,"290":0,"291":1,"292":0,"293":0,"294":0,"295":0,"296":0,"297":1,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":1,"319":0,"320":0,"321":1,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":1,"347":3,"348":0,"349":3,"350":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":1,"360":0,"361":1,"362":4,"363":1,"364":4,"365":4,"366":1,"367":4,"368":1,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":1,"377":0,"378":1,"379":0,"380":1,"381":0,"382":1,"383":0,"384":0,"385":0,"386":0,"387":0,"388":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":1,"395":0,"396":0,"397":0,"398":0,"399":0,"400":1,"401":0,"402":1,"403":0,"404":1,"405":0,"406":1,"407":0,"408":1,"409":1,"410":1,"411":1,"412":1,"413":1,"414":1,"415":1,"416":0,"417":0,"418":0,"419":1,"420":1,"421":1,"422":7,"423":63,"424":63,"425":63,"426":1,"427":1,"428":1,"429":1,"430":1,"431":1,"432":1,"433":3,"434":1,"435":1,"436":1,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":1,"445":0,"446":1,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"459":1,"460":0,"461":0,"462":0,"463":0,"464":0,"465":1,"466":0,"467":0,"468":0,"469":0,"470":0,"471":0,"472":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[8,7],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0,0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0,0,0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0,0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0,0],"80":[0,0,0],"81":[0,0],"82":[0,0],"83":[0,0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0],"114":[0,0,0,0,0,0],"115":[0,0],"116":[0,0],"117":[0,0],"118":[0,0],"119":[0,0,0,0],"120":[0,0],"121":[0,0],"122":[0,0],"123":[0,0],"124":[0,0],"125":[0,0],"126":[0,0,0],"127":[0,0],"128":[0,0],"129":[0,0],"130":[0,0],"131":[0,0],"132":[0,0],"133":[0,0],"134":[0,0],"135":[0,0],"136":[0,0],"137":[0,0,0,0,0,0],"138":[0,0],"139":[0,0],"140":[0,0],"141":[0,0],"142":[0,0],"143":[0,0],"144":[0,0],"145":[0,0],"146":[0,0],"147":[0,0],"148":[0,0],"149":[0,0],"150":[0,0],"151":[0,0],"152":[0,0,0,0,0],"153":[0,0,0],"154":[0,0],"155":[0,0],"156":[0,0],"157":[0,4],"158":[4,0],"159":[0,0,0,0],"160":[0,0,0],"161":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"162":[0,0],"163":[0,0],"164":[0,0],"165":[0,0],"166":[0,0],"167":[0,0],"168":[0,0,0],"169":[0,0],"170":[0,0],"171":[0,0],"172":[0,0],"173":[0,0],"174":[0,0],"175":[0,0],"176":[0,0,0],"177":[0,0],"178":[0,0],"179":[0,0,0,0],"180":[0,0,0,0],"181":[0,0],"182":[0,0],"183":[0,0],"184":[0,0],"185":[0,0],"186":[0,0],"187":[0,0],"188":[0,0],"189":[0,0],"190":[0,0],"191":[0,0],"192":[0,0],"193":[0,0],"194":[0,0],"195":[0,0,0],"196":[0,0],"197":[0,0],"198":[0,0],"199":[0,0,0],"200":[0,0],"201":[0,0],"202":[0,0],"203":[0,0],"204":[0,0],"205":[0,0],"206":[0,0],"207":[0,0],"208":[0,0],"209":[0,0],"210":[0,0],"211":[0,0],"212":[0,0],"213":[0,0,0],"214":[0,0],"215":[0,0],"216":[0,0],"217":[0,0],"218":[0,0,0],"219":[0,0],"220":[0,0],"221":[0,0,0],"222":[0,0],"223":[0,0,0],"224":[0,0],"225":[0,0],"226":[0,0],"227":[0,0],"228":[0,0],"229":[0,0],"230":[0,0],"231":[0,0],"232":[0,0],"233":[0,0,0],"234":[0,3],"235":[3,0],"236":[0,0],"237":[0,0,0],"238":[0,0,0,0],"239":[4,4],"240":[4,4,4],"241":[0,4],"242":[4,0],"243":[0,0],"244":[0,0],"245":[0,0],"246":[0,0,0,0,0],"247":[0,0],"248":[0,0],"249":[0,0],"250":[0,0],"251":[0,0,0],"252":[0,0,0],"253":[0,0],"254":[0,0],"255":[0,0,0,0,0,0,0,0,0,0,0],"256":[0,0],"257":[0,0],"258":[0,0,0,0],"259":[0,0],"260":[0,0,0],"261":[0,0],"262":[0,0],"263":[1,1,1,1],"264":[1,1,1,1],"265":[1,0,0,0],"266":[1,0,0,0],"267":[1,1,1],"268":[1,1,1,1,1,1,0,0,0,0],"269":[0,0],"270":[0,0],"271":[63,0],"272":[1,1],"273":[0,0],"274":[0,0],"275":[0,0],"276":[0,0,0],"277":[0,0],"278":[0,0],"279":[0,0],"280":[0,0],"281":[1,0],"282":[0,0,0],"283":[0,0],"284":[0,0,0,0],"285":[0,0],"286":[0,0],"287":[0,0],"288":[1,0],"289":[0,0],"290":[0,0],"291":[0,0,0],"292":[0,0],"293":[0,0],"294":[0,0],"295":[0,0],"296":[0,0],"297":[0,0,0],"298":[0,0],"299":[0,0],"300":[0,0],"301":[0,0],"302":[0,1],"303":[1,0,0],"304":[1,0],"305":[1,1],"306":[1,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":2,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":4,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":3,"64":0,"65":0,"66":4,"67":4,"68":4,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":0,"84":7,"85":1,"86":1,"87":1,"88":0,"89":1,"90":0,"91":1,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":12}}},"2":{"name":"n","line":6,"loc":{"start":{"line":6,"column":13},"end":{"line":6,"column":30}}},"3":{"name":"r","line":6,"loc":{"start":{"line":6,"column":178},"end":{"line":6,"column":191}}},"4":{"name":"t","line":6,"loc":{"start":{"line":6,"column":222},"end":{"line":6,"column":234}}},"5":{"name":"e","line":6,"loc":{"start":{"line":6,"column":236},"end":{"line":6,"column":249}}},"6":{"name":"o","line":6,"loc":{"start":{"line":6,"column":331},"end":{"line":6,"column":346}}},"7":{"name":"u","line":6,"loc":{"start":{"line":6,"column":421},"end":{"line":6,"column":436}}},"8":{"name":"c","line":7,"loc":{"start":{"line":7,"column":1},"end":{"line":7,"column":16}}},"9":{"name":"a","line":7,"loc":{"start":{"line":7,"column":79},"end":{"line":7,"column":94}}},"10":{"name":"i","line":7,"loc":{"start":{"line":7,"column":166},"end":{"line":7,"column":181}}},"11":{"name":"f","line":7,"loc":{"start":{"line":7,"column":212},"end":{"line":7,"column":229}}},"12":{"name":"l","line":7,"loc":{"start":{"line":7,"column":302},"end":{"line":7,"column":319}}},"13":{"name":"s","line":7,"loc":{"start":{"line":7,"column":421},"end":{"line":7,"column":446}}},"14":{"name":"(anonymous_14)","line":8,"loc":{"start":{"line":8,"column":278},"end":{"line":8,"column":291}}},"15":{"name":"p","line":8,"loc":{"start":{"line":8,"column":318},"end":{"line":8,"column":337}}},"16":{"name":"h","line":9,"loc":{"start":{"line":9,"column":10},"end":{"line":9,"column":25}}},"17":{"name":"y","line":9,"loc":{"start":{"line":9,"column":37},"end":{"line":9,"column":52}}},"18":{"name":"v","line":9,"loc":{"start":{"line":9,"column":71},"end":{"line":9,"column":88}}},"19":{"name":"g","line":9,"loc":{"start":{"line":9,"column":205},"end":{"line":9,"column":228}}},"20":{"name":"b","line":10,"loc":{"start":{"line":10,"column":261},"end":{"line":10,"column":276}}},"21":{"name":"j","line":11,"loc":{"start":{"line":11,"column":13},"end":{"line":11,"column":26}}},"22":{"name":"(anonymous_22)","line":11,"loc":{"start":{"line":11,"column":94},"end":{"line":11,"column":105}}},"23":{"name":"(anonymous_23)","line":11,"loc":{"start":{"line":11,"column":171},"end":{"line":11,"column":182}}},"24":{"name":"d","line":11,"loc":{"start":{"line":11,"column":198},"end":{"line":11,"column":213}}},"25":{"name":"(anonymous_25)","line":11,"loc":{"start":{"line":11,"column":268},"end":{"line":11,"column":279}}},"26":{"name":"m","line":12,"loc":{"start":{"line":12,"column":97},"end":{"line":12,"column":118}}},"27":{"name":"(anonymous_27)","line":12,"loc":{"start":{"line":12,"column":190},"end":{"line":12,"column":203}}},"28":{"name":"w","line":13,"loc":{"start":{"line":13,"column":112},"end":{"line":13,"column":125}}},"29":{"name":"(anonymous_29)","line":13,"loc":{"start":{"line":13,"column":133},"end":{"line":13,"column":144}}},"30":{"name":"A","line":13,"loc":{"start":{"line":13,"column":172},"end":{"line":13,"column":185}}},"31":{"name":"(anonymous_31)","line":13,"loc":{"start":{"line":13,"column":211},"end":{"line":13,"column":222}}},"32":{"name":"O","line":13,"loc":{"start":{"line":13,"column":240},"end":{"line":13,"column":257}}},"33":{"name":"(anonymous_33)","line":13,"loc":{"start":{"line":13,"column":335},"end":{"line":13,"column":346}}},"34":{"name":"(anonymous_34)","line":13,"loc":{"start":{"line":13,"column":381},"end":{"line":13,"column":396}}},"35":{"name":"(anonymous_35)","line":13,"loc":{"start":{"line":13,"column":435},"end":{"line":13,"column":452}}},"36":{"name":"(anonymous_36)","line":13,"loc":{"start":{"line":13,"column":493},"end":{"line":13,"column":512}}},"37":{"name":"(anonymous_37)","line":14,"loc":{"start":{"line":14,"column":35},"end":{"line":14,"column":45}}},"38":{"name":"x","line":14,"loc":{"start":{"line":14,"column":75},"end":{"line":14,"column":88}}},"39":{"name":"S","line":14,"loc":{"start":{"line":14,"column":150},"end":{"line":14,"column":163}}},"40":{"name":"(anonymous_40)","line":14,"loc":{"start":{"line":14,"column":173},"end":{"line":14,"column":186}}},"41":{"name":"E","line":14,"loc":{"start":{"line":14,"column":418},"end":{"line":14,"column":443}}},"42":{"name":"(anonymous_42)","line":15,"loc":{"start":{"line":15,"column":107},"end":{"line":15,"column":118}}},"43":{"name":"k","line":15,"loc":{"start":{"line":15,"column":219},"end":{"line":15,"column":236}}},"44":{"name":"I","line":15,"loc":{"start":{"line":15,"column":405},"end":{"line":15,"column":430}}},"45":{"name":"P","line":16,"loc":{"start":{"line":16,"column":313},"end":{"line":16,"column":325}}},"46":{"name":"_","line":16,"loc":{"start":{"line":16,"column":364},"end":{"line":16,"column":377}}},"47":{"name":"$","line":16,"loc":{"start":{"line":16,"column":455},"end":{"line":16,"column":470}}},"48":{"name":"U","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":13}}},"49":{"name":"F","line":17,"loc":{"start":{"line":17,"column":141},"end":{"line":17,"column":154}}},"50":{"name":"M","line":17,"loc":{"start":{"line":17,"column":233},"end":{"line":17,"column":250}}},"51":{"name":"C","line":18,"loc":{"start":{"line":18,"column":90},"end":{"line":18,"column":103}}},"52":{"name":"L","line":18,"loc":{"start":{"line":18,"column":129},"end":{"line":18,"column":144}}},"53":{"name":"T","line":18,"loc":{"start":{"line":18,"column":224},"end":{"line":18,"column":241}}},"54":{"name":"B","line":18,"loc":{"start":{"line":18,"column":372},"end":{"line":18,"column":385}}},"55":{"name":"D","line":18,"loc":{"start":{"line":18,"column":480},"end":{"line":18,"column":493}}},"56":{"name":"N","line":19,"loc":{"start":{"line":19,"column":1},"end":{"line":19,"column":14}}},"57":{"name":"R","line":19,"loc":{"start":{"line":19,"column":164},"end":{"line":19,"column":177}}},"58":{"name":"q","line":19,"loc":{"start":{"line":19,"column":306},"end":{"line":19,"column":319}}},"59":{"name":"(anonymous_59)","line":19,"loc":{"start":{"line":19,"column":382},"end":{"line":19,"column":399}}},"60":{"name":"W","line":19,"loc":{"start":{"line":19,"column":438},"end":{"line":19,"column":455}}},"61":{"name":"V","line":20,"loc":{"start":{"line":20,"column":371},"end":{"line":20,"column":384}}},"62":{"name":"z","line":20,"loc":{"start":{"line":20,"column":423},"end":{"line":20,"column":442}}},"63":{"name":"G","line":22,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":24}}},"64":{"name":"(anonymous_64)","line":22,"loc":{"start":{"line":22,"column":112},"end":{"line":22,"column":122}}},"65":{"name":"H","line":22,"loc":{"start":{"line":22,"column":379},"end":{"line":22,"column":392}}},"66":{"name":"J","line":22,"loc":{"start":{"line":22,"column":454},"end":{"line":22,"column":467}}},"67":{"name":"K","line":22,"loc":{"start":{"line":22,"column":496},"end":{"line":22,"column":509}}},"68":{"name":"Q","line":23,"loc":{"start":{"line":23,"column":55},"end":{"line":23,"column":68}}},"69":{"name":"X","line":23,"loc":{"start":{"line":23,"column":143},"end":{"line":23,"column":156}}},"70":{"name":"(anonymous_70)","line":23,"loc":{"start":{"line":23,"column":335},"end":{"line":23,"column":350}}},"71":{"name":"(anonymous_71)","line":23,"loc":{"start":{"line":23,"column":397},"end":{"line":23,"column":410}}},"72":{"name":"Y","line":23,"loc":{"start":{"line":23,"column":439},"end":{"line":23,"column":452}}},"73":{"name":"Z","line":23,"loc":{"start":{"line":23,"column":501},"end":{"line":23,"column":514}}},"74":{"name":"nn","line":24,"loc":{"start":{"line":24,"column":43},"end":{"line":24,"column":57}}},"75":{"name":"rn","line":24,"loc":{"start":{"line":24,"column":76},"end":{"line":24,"column":90}}},"76":{"name":"tn","line":25,"loc":{"start":{"line":25,"column":118},"end":{"line":25,"column":132}}},"77":{"name":"en","line":25,"loc":{"start":{"line":25,"column":225},"end":{"line":25,"column":243}}},"78":{"name":"on","line":25,"loc":{"start":{"line":25,"column":289},"end":{"line":25,"column":303}}},"79":{"name":"un","line":25,"loc":{"start":{"line":25,"column":313},"end":{"line":25,"column":327}}},"80":{"name":"cn","line":25,"loc":{"start":{"line":25,"column":348},"end":{"line":25,"column":362}}},"81":{"name":"(anonymous_81)","line":26,"loc":{"start":{"line":26,"column":817},"end":{"line":26,"column":827}}},"82":{"name":"(anonymous_82)","line":27,"loc":{"start":{"line":27,"column":44},"end":{"line":27,"column":54}}},"83":{"name":"(anonymous_83)","line":27,"loc":{"start":{"line":27,"column":76},"end":{"line":27,"column":87}}},"84":{"name":"(anonymous_84)","line":28,"loc":{"start":{"line":28,"column":432},"end":{"line":28,"column":443}}},"85":{"name":"(anonymous_85)","line":29,"loc":{"start":{"line":29,"column":1},"end":{"line":29,"column":12}}},"86":{"name":"r","line":29,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":25}}},"87":{"name":"(anonymous_87)","line":29,"loc":{"start":{"line":29,"column":376},"end":{"line":29,"column":387}}},"88":{"name":"(anonymous_88)","line":29,"loc":{"start":{"line":29,"column":395},"end":{"line":29,"column":410}}},"89":{"name":"(anonymous_89)","line":30,"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":45}}},"90":{"name":"(anonymous_90)","line":30,"loc":{"start":{"line":30,"column":53},"end":{"line":30,"column":68}}},"91":{"name":"(anonymous_91)","line":30,"loc":{"start":{"line":30,"column":137},"end":{"line":30,"column":150}}},"92":{"name":"(anonymous_92)","line":30,"loc":{"start":{"line":30,"column":158},"end":{"line":30,"column":171}}},"93":{"name":"(anonymous_93)","line":30,"loc":{"start":{"line":30,"column":294},"end":{"line":30,"column":305}}},"94":{"name":"(anonymous_94)","line":30,"loc":{"start":{"line":30,"column":361},"end":{"line":30,"column":376}}},"95":{"name":"(anonymous_95)","line":31,"loc":{"start":{"line":31,"column":29},"end":{"line":31,"column":42}}},"96":{"name":"(anonymous_96)","line":31,"loc":{"start":{"line":31,"column":52},"end":{"line":31,"column":63}}},"97":{"name":"(anonymous_97)","line":31,"loc":{"start":{"line":31,"column":124},"end":{"line":31,"column":137}}},"98":{"name":"(anonymous_98)","line":31,"loc":{"start":{"line":31,"column":164},"end":{"line":31,"column":175}}},"99":{"name":"(anonymous_99)","line":31,"loc":{"start":{"line":31,"column":345},"end":{"line":31,"column":356}}},"100":{"name":"(anonymous_100)","line":31,"loc":{"start":{"line":31,"column":477},"end":{"line":31,"column":492}}},"101":{"name":"(anonymous_101)","line":32,"loc":{"start":{"line":32,"column":57},"end":{"line":32,"column":68}}},"102":{"name":"(anonymous_102)","line":32,"loc":{"start":{"line":32,"column":287},"end":{"line":32,"column":302}}},"103":{"name":"(anonymous_103)","line":33,"loc":{"start":{"line":33,"column":102},"end":{"line":33,"column":112}}}},"statementMap":{"1":{"start":{"line":6,"column":1},"end":{"line":33,"column":181}},"2":{"start":{"line":6,"column":13},"end":{"line":6,"column":178}},"3":{"start":{"line":6,"column":31},"end":{"line":6,"column":121}},"4":{"start":{"line":6,"column":41},"end":{"line":6,"column":112}},"5":{"start":{"line":6,"column":44},"end":{"line":6,"column":107}},"6":{"start":{"line":6,"column":73},"end":{"line":6,"column":84}},"7":{"start":{"line":6,"column":84},"end":{"line":6,"column":106}},"8":{"start":{"line":6,"column":94},"end":{"line":6,"column":98}},"9":{"start":{"line":6,"column":98},"end":{"line":6,"column":105}},"10":{"start":{"line":6,"column":107},"end":{"line":6,"column":111}},"11":{"start":{"line":6,"column":112},"end":{"line":6,"column":120}},"12":{"start":{"line":6,"column":121},"end":{"line":6,"column":169}},"13":{"start":{"line":6,"column":148},"end":{"line":6,"column":169}},"14":{"start":{"line":6,"column":160},"end":{"line":6,"column":169}},"15":{"start":{"line":6,"column":169},"end":{"line":6,"column":177}},"16":{"start":{"line":6,"column":178},"end":{"line":6,"column":222}},"17":{"start":{"line":6,"column":192},"end":{"line":6,"column":221}},"18":{"start":{"line":6,"column":222},"end":{"line":6,"column":236}},"19":{"start":{"line":6,"column":236},"end":{"line":6,"column":331}},"20":{"start":{"line":6,"column":250},"end":{"line":6,"column":269}},"21":{"start":{"line":6,"column":269},"end":{"line":6,"column":330}},"22":{"start":{"line":6,"column":315},"end":{"line":6,"column":330}},"23":{"start":{"line":6,"column":331},"end":{"line":6,"column":421}},"24":{"start":{"line":6,"column":347},"end":{"line":6,"column":360}},"25":{"start":{"line":6,"column":360},"end":{"line":6,"column":420}},"26":{"start":{"line":6,"column":421},"end":{"line":7,"column":1}},"27":{"start":{"line":6,"column":437},"end":{"line":6,"column":457}},"28":{"start":{"line":6,"column":457},"end":{"line":6,"column":494}},"29":{"start":{"line":6,"column":484},"end":{"line":6,"column":494}},"30":{"start":{"line":6,"column":494},"end":{"line":6,"column":503}},"31":{"start":{"line":7,"column":1},"end":{"line":7,"column":79}},"32":{"start":{"line":7,"column":17},"end":{"line":7,"column":70}},"33":{"start":{"line":7,"column":70},"end":{"line":7,"column":78}},"34":{"start":{"line":7,"column":79},"end":{"line":7,"column":166}},"35":{"start":{"line":7,"column":95},"end":{"line":7,"column":153}},"36":{"start":{"line":7,"column":126},"end":{"line":7,"column":153}},"37":{"start":{"line":7,"column":141},"end":{"line":7,"column":153}},"38":{"start":{"line":7,"column":153},"end":{"line":7,"column":165}},"39":{"start":{"line":7,"column":166},"end":{"line":7,"column":212}},"40":{"start":{"line":7,"column":182},"end":{"line":7,"column":211}},"41":{"start":{"line":7,"column":212},"end":{"line":7,"column":302}},"42":{"start":{"line":7,"column":230},"end":{"line":7,"column":240}},"43":{"start":{"line":7,"column":240},"end":{"line":7,"column":293}},"44":{"start":{"line":7,"column":272},"end":{"line":7,"column":283}},"45":{"start":{"line":7,"column":283},"end":{"line":7,"column":292}},"46":{"start":{"line":7,"column":293},"end":{"line":7,"column":301}},"47":{"start":{"line":7,"column":302},"end":{"line":7,"column":421}},"48":{"start":{"line":7,"column":320},"end":{"line":7,"column":335}},"49":{"start":{"line":7,"column":335},"end":{"line":7,"column":420}},"50":{"start":{"line":7,"column":421},"end":{"line":8,"column":318}},"51":{"start":{"line":7,"column":447},"end":{"line":7,"column":453}},"52":{"start":{"line":7,"column":453},"end":{"line":7,"column":495}},"53":{"start":{"line":7,"column":486},"end":{"line":7,"column":495}},"54":{"start":{"line":7,"column":495},"end":{"line":7,"column":513}},"55":{"start":{"line":7,"column":504},"end":{"line":7,"column":513}},"56":{"start":{"line":8,"column":0},"end":{"line":8,"column":178}},"57":{"start":{"line":8,"column":12},"end":{"line":8,"column":38}},"58":{"start":{"line":8,"column":25},"end":{"line":8,"column":38}},"59":{"start":{"line":8,"column":44},"end":{"line":8,"column":69}},"60":{"start":{"line":8,"column":69},"end":{"line":8,"column":123}},"61":{"start":{"line":8,"column":94},"end":{"line":8,"column":123}},"62":{"start":{"line":8,"column":123},"end":{"line":8,"column":146}},"63":{"start":{"line":8,"column":132},"end":{"line":8,"column":146}},"64":{"start":{"line":8,"column":146},"end":{"line":8,"column":177}},"65":{"start":{"line":8,"column":164},"end":{"line":8,"column":177}},"66":{"start":{"line":8,"column":178},"end":{"line":8,"column":241}},"67":{"start":{"line":8,"column":218},"end":{"line":8,"column":241}},"68":{"start":{"line":8,"column":229},"end":{"line":8,"column":241}},"69":{"start":{"line":8,"column":241},"end":{"line":8,"column":317}},"70":{"start":{"line":8,"column":292},"end":{"line":8,"column":313}},"71":{"start":{"line":8,"column":318},"end":{"line":9,"column":10}},"72":{"start":{"line":8,"column":338},"end":{"line":8,"column":348}},"73":{"start":{"line":8,"column":348},"end":{"line":9,"column":1}},"74":{"start":{"line":8,"column":380},"end":{"line":8,"column":391}},"75":{"start":{"line":8,"column":391},"end":{"line":8,"column":526}},"76":{"start":{"line":8,"column":423},"end":{"line":8,"column":502}},"77":{"start":{"line":8,"column":428},"end":{"line":8,"column":439}},"78":{"start":{"line":8,"column":444},"end":{"line":8,"column":502}},"79":{"start":{"line":8,"column":490},"end":{"line":8,"column":502}},"80":{"start":{"line":8,"column":507},"end":{"line":8,"column":526}},"81":{"start":{"line":9,"column":1},"end":{"line":9,"column":9}},"82":{"start":{"line":9,"column":10},"end":{"line":9,"column":37}},"83":{"start":{"line":9,"column":26},"end":{"line":9,"column":36}},"84":{"start":{"line":9,"column":37},"end":{"line":9,"column":71}},"85":{"start":{"line":9,"column":53},"end":{"line":9,"column":70}},"86":{"start":{"line":9,"column":71},"end":{"line":9,"column":205}},"87":{"start":{"line":9,"column":89},"end":{"line":9,"column":204}},"88":{"start":{"line":9,"column":101},"end":{"line":9,"column":136}},"89":{"start":{"line":9,"column":136},"end":{"line":9,"column":184}},"90":{"start":{"line":9,"column":169},"end":{"line":9,"column":184}},"91":{"start":{"line":9,"column":184},"end":{"line":9,"column":203}},"92":{"start":{"line":9,"column":205},"end":{"line":10,"column":261}},"93":{"start":{"line":9,"column":229},"end":{"line":10,"column":252}},"94":{"start":{"line":9,"column":238},"end":{"line":9,"column":245}},"95":{"start":{"line":9,"column":250},"end":{"line":10,"column":252}},"96":{"start":{"line":9,"column":284},"end":{"line":9,"column":299}},"97":{"start":{"line":9,"column":304},"end":{"line":10,"column":252}},"98":{"start":{"line":9,"column":307},"end":{"line":9,"column":341}},"99":{"start":{"line":9,"column":341},"end":{"line":9,"column":427}},"100":{"start":{"line":9,"column":427},"end":{"line":9,"column":470}},"101":{"start":{"line":9,"column":470},"end":{"line":10,"column":251}},"102":{"start":{"line":9,"column":483},"end":{"line":10,"column":86}},"103":{"start":{"line":10,"column":37},"end":{"line":10,"column":78}},"104":{"start":{"line":10,"column":78},"end":{"line":10,"column":85}},"105":{"start":{"line":10,"column":86},"end":{"line":10,"column":235}},"106":{"start":{"line":10,"column":92},"end":{"line":10,"column":162}},"107":{"start":{"line":10,"column":132},"end":{"line":10,"column":162}},"108":{"start":{"line":10,"column":144},"end":{"line":10,"column":154}},"109":{"start":{"line":10,"column":154},"end":{"line":10,"column":161}},"110":{"start":{"line":10,"column":162},"end":{"line":10,"column":222}},"111":{"start":{"line":10,"column":228},"end":{"line":10,"column":235}},"112":{"start":{"line":10,"column":241},"end":{"line":10,"column":251}},"113":{"start":{"line":10,"column":252},"end":{"line":10,"column":260}},"114":{"start":{"line":10,"column":261},"end":{"line":11,"column":13}},"115":{"start":{"line":10,"column":277},"end":{"line":10,"column":296}},"116":{"start":{"line":10,"column":296},"end":{"line":10,"column":316}},"117":{"start":{"line":10,"column":307},"end":{"line":10,"column":316}},"118":{"start":{"line":10,"column":316},"end":{"line":10,"column":392}},"119":{"start":{"line":10,"column":333},"end":{"line":10,"column":344}},"120":{"start":{"line":10,"column":344},"end":{"line":10,"column":391}},"121":{"start":{"line":10,"column":379},"end":{"line":10,"column":391}},"122":{"start":{"line":10,"column":392},"end":{"line":11,"column":1}},"123":{"start":{"line":10,"column":405},"end":{"line":10,"column":437}},"124":{"start":{"line":10,"column":437},"end":{"line":10,"column":536}},"125":{"start":{"line":10,"column":446},"end":{"line":10,"column":479}},"126":{"start":{"line":10,"column":467},"end":{"line":10,"column":479}},"127":{"start":{"line":10,"column":485},"end":{"line":10,"column":536}},"128":{"start":{"line":10,"column":523},"end":{"line":10,"column":536}},"129":{"start":{"line":11,"column":1},"end":{"line":11,"column":12}},"130":{"start":{"line":11,"column":13},"end":{"line":11,"column":198}},"131":{"start":{"line":11,"column":27},"end":{"line":11,"column":38}},"132":{"start":{"line":11,"column":38},"end":{"line":11,"column":164}},"133":{"start":{"line":11,"column":63},"end":{"line":11,"column":87}},"134":{"start":{"line":11,"column":87},"end":{"line":11,"column":163}},"135":{"start":{"line":11,"column":106},"end":{"line":11,"column":162}},"136":{"start":{"line":11,"column":164},"end":{"line":11,"column":197}},"137":{"start":{"line":11,"column":183},"end":{"line":11,"column":196}},"138":{"start":{"line":11,"column":198},"end":{"line":12,"column":97}},"139":{"start":{"line":11,"column":214},"end":{"line":11,"column":254}},"140":{"start":{"line":11,"column":254},"end":{"line":12,"column":96}},"141":{"start":{"line":11,"column":280},"end":{"line":11,"column":304}},"142":{"start":{"line":11,"column":291},"end":{"line":11,"column":304}},"143":{"start":{"line":11,"column":304},"end":{"line":11,"column":312}},"144":{"start":{"line":11,"column":312},"end":{"line":12,"column":47}},"145":{"start":{"line":11,"column":340},"end":{"line":12,"column":9}},"146":{"start":{"line":11,"column":356},"end":{"line":11,"column":407}},"147":{"start":{"line":11,"column":407},"end":{"line":11,"column":518}},"148":{"start":{"line":11,"column":506},"end":{"line":11,"column":518}},"149":{"start":{"line":12,"column":0},"end":{"line":12,"column":8}},"150":{"start":{"line":12,"column":9},"end":{"line":12,"column":33}},"151":{"start":{"line":12,"column":20},"end":{"line":12,"column":33}},"152":{"start":{"line":12,"column":33},"end":{"line":12,"column":46}},"153":{"start":{"line":12,"column":47},"end":{"line":12,"column":95}},"154":{"start":{"line":12,"column":97},"end":{"line":13,"column":112}},"155":{"start":{"line":12,"column":119},"end":{"line":12,"column":137}},"156":{"start":{"line":12,"column":128},"end":{"line":12,"column":137}},"157":{"start":{"line":12,"column":137},"end":{"line":12,"column":176}},"158":{"start":{"line":12,"column":176},"end":{"line":13,"column":111}},"159":{"start":{"line":12,"column":204},"end":{"line":13,"column":107}},"160":{"start":{"line":12,"column":229},"end":{"line":12,"column":249}},"161":{"start":{"line":12,"column":249},"end":{"line":13,"column":1}},"162":{"start":{"line":12,"column":252},"end":{"line":12,"column":325}},"163":{"start":{"line":12,"column":295},"end":{"line":12,"column":325}},"164":{"start":{"line":12,"column":307},"end":{"line":12,"column":317}},"165":{"start":{"line":12,"column":317},"end":{"line":12,"column":324}},"166":{"start":{"line":12,"column":325},"end":{"line":12,"column":365}},"167":{"start":{"line":12,"column":365},"end":{"line":12,"column":529}},"168":{"start":{"line":13,"column":7},"end":{"line":13,"column":107}},"169":{"start":{"line":13,"column":112},"end":{"line":13,"column":172}},"170":{"start":{"line":13,"column":126},"end":{"line":13,"column":171}},"171":{"start":{"line":13,"column":145},"end":{"line":13,"column":170}},"172":{"start":{"line":13,"column":172},"end":{"line":13,"column":240}},"173":{"start":{"line":13,"column":186},"end":{"line":13,"column":197}},"174":{"start":{"line":13,"column":197},"end":{"line":13,"column":239}},"175":{"start":{"line":13,"column":223},"end":{"line":13,"column":238}},"176":{"start":{"line":13,"column":240},"end":{"line":14,"column":75}},"177":{"start":{"line":13,"column":258},"end":{"line":13,"column":292}},"178":{"start":{"line":13,"column":282},"end":{"line":13,"column":292}},"179":{"start":{"line":13,"column":292},"end":{"line":13,"column":311}},"180":{"start":{"line":13,"column":302},"end":{"line":13,"column":311}},"181":{"start":{"line":13,"column":311},"end":{"line":14,"column":28}},"182":{"start":{"line":13,"column":328},"end":{"line":13,"column":367}},"183":{"start":{"line":13,"column":347},"end":{"line":13,"column":365}},"184":{"start":{"line":13,"column":374},"end":{"line":13,"column":421}},"185":{"start":{"line":13,"column":397},"end":{"line":13,"column":419}},"186":{"start":{"line":13,"column":428},"end":{"line":13,"column":479}},"187":{"start":{"line":13,"column":453},"end":{"line":13,"column":477}},"188":{"start":{"line":13,"column":486},"end":{"line":14,"column":27}},"189":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}},"190":{"start":{"line":14,"column":28},"end":{"line":14,"column":74}},"191":{"start":{"line":14,"column":46},"end":{"line":14,"column":73}},"192":{"start":{"line":14,"column":75},"end":{"line":14,"column":150}},"193":{"start":{"line":14,"column":89},"end":{"line":14,"column":116}},"194":{"start":{"line":14,"column":116},"end":{"line":14,"column":149}},"195":{"start":{"line":14,"column":150},"end":{"line":14,"column":418}},"196":{"start":{"line":14,"column":164},"end":{"line":14,"column":417}},"197":{"start":{"line":14,"column":187},"end":{"line":14,"column":263}},"198":{"start":{"line":14,"column":263},"end":{"line":14,"column":407}},"199":{"start":{"line":14,"column":388},"end":{"line":14,"column":407}},"200":{"start":{"line":14,"column":407},"end":{"line":14,"column":415}},"201":{"start":{"line":14,"column":418},"end":{"line":15,"column":219}},"202":{"start":{"line":14,"column":444},"end":{"line":14,"column":475}},"203":{"start":{"line":14,"column":475},"end":{"line":14,"column":508}},"204":{"start":{"line":14,"column":495},"end":{"line":14,"column":508}},"205":{"start":{"line":15,"column":0},"end":{"line":15,"column":207}},"206":{"start":{"line":15,"column":13},"end":{"line":15,"column":55}},"207":{"start":{"line":15,"column":55},"end":{"line":15,"column":93}},"208":{"start":{"line":15,"column":66},"end":{"line":15,"column":80}},"209":{"start":{"line":15,"column":71},"end":{"line":15,"column":80}},"210":{"start":{"line":15,"column":80},"end":{"line":15,"column":92}},"211":{"start":{"line":15,"column":93},"end":{"line":15,"column":206}},"212":{"start":{"line":15,"column":99},"end":{"line":15,"column":162}},"213":{"start":{"line":15,"column":119},"end":{"line":15,"column":147}},"214":{"start":{"line":15,"column":150},"end":{"line":15,"column":162}},"215":{"start":{"line":15,"column":168},"end":{"line":15,"column":206}},"216":{"start":{"line":15,"column":194},"end":{"line":15,"column":206}},"217":{"start":{"line":15,"column":207},"end":{"line":15,"column":218}},"218":{"start":{"line":15,"column":219},"end":{"line":15,"column":405}},"219":{"start":{"line":15,"column":237},"end":{"line":15,"column":392}},"220":{"start":{"line":15,"column":263},"end":{"line":15,"column":276}},"221":{"start":{"line":15,"column":284},"end":{"line":15,"column":328}},"222":{"start":{"line":15,"column":336},"end":{"line":15,"column":361}},"223":{"start":{"line":15,"column":377},"end":{"line":15,"column":391}},"224":{"start":{"line":15,"column":392},"end":{"line":15,"column":404}},"225":{"start":{"line":15,"column":405},"end":{"line":16,"column":313}},"226":{"start":{"line":15,"column":431},"end":{"line":15,"column":469}},"227":{"start":{"line":15,"column":469},"end":{"line":15,"column":494}},"228":{"start":{"line":15,"column":481},"end":{"line":15,"column":494}},"229":{"start":{"line":15,"column":494},"end":{"line":16,"column":1}},"230":{"start":{"line":15,"column":508},"end":{"line":15,"column":519}},"231":{"start":{"line":15,"column":519},"end":{"line":15,"column":560}},"232":{"start":{"line":15,"column":547},"end":{"line":15,"column":560}},"233":{"start":{"line":16,"column":1},"end":{"line":16,"column":136}},"234":{"start":{"line":16,"column":21},"end":{"line":16,"column":70}},"235":{"start":{"line":16,"column":70},"end":{"line":16,"column":112}},"236":{"start":{"line":16,"column":99},"end":{"line":16,"column":112}},"237":{"start":{"line":16,"column":112},"end":{"line":16,"column":135}},"238":{"start":{"line":16,"column":136},"end":{"line":16,"column":312}},"239":{"start":{"line":16,"column":313},"end":{"line":16,"column":364}},"240":{"start":{"line":16,"column":326},"end":{"line":16,"column":345}},"241":{"start":{"line":16,"column":345},"end":{"line":16,"column":363}},"242":{"start":{"line":16,"column":364},"end":{"line":16,"column":455}},"243":{"start":{"line":16,"column":378},"end":{"line":16,"column":386}},"244":{"start":{"line":16,"column":386},"end":{"line":16,"column":446}},"245":{"start":{"line":16,"column":411},"end":{"line":16,"column":425}},"246":{"start":{"line":16,"column":425},"end":{"line":16,"column":445}},"247":{"start":{"line":16,"column":446},"end":{"line":16,"column":454}},"248":{"start":{"line":16,"column":455},"end":{"line":16,"column":510}},"249":{"start":{"line":16,"column":471},"end":{"line":16,"column":493}},"250":{"start":{"line":16,"column":493},"end":{"line":16,"column":509}},"251":{"start":{"line":17,"column":0},"end":{"line":17,"column":141}},"252":{"start":{"line":17,"column":14},"end":{"line":17,"column":52}},"253":{"start":{"line":17,"column":52},"end":{"line":17,"column":140}},"254":{"start":{"line":17,"column":141},"end":{"line":17,"column":233}},"255":{"start":{"line":17,"column":155},"end":{"line":17,"column":232}},"256":{"start":{"line":17,"column":233},"end":{"line":18,"column":90}},"257":{"start":{"line":17,"column":251},"end":{"line":17,"column":271}},"258":{"start":{"line":17,"column":271},"end":{"line":18,"column":81}},"259":{"start":{"line":17,"column":289},"end":{"line":17,"column":301}},"260":{"start":{"line":17,"column":317},"end":{"line":17,"column":334}},"261":{"start":{"line":17,"column":406},"end":{"line":17,"column":488}},"262":{"start":{"line":18,"column":0},"end":{"line":18,"column":16}},"263":{"start":{"line":18,"column":24},"end":{"line":18,"column":57}},"264":{"start":{"line":18,"column":57},"end":{"line":18,"column":80}},"265":{"start":{"line":18,"column":81},"end":{"line":18,"column":89}},"266":{"start":{"line":18,"column":90},"end":{"line":18,"column":129}},"267":{"start":{"line":18,"column":104},"end":{"line":18,"column":128}},"268":{"start":{"line":18,"column":129},"end":{"line":18,"column":224}},"269":{"start":{"line":18,"column":145},"end":{"line":18,"column":223}},"270":{"start":{"line":18,"column":224},"end":{"line":18,"column":372}},"271":{"start":{"line":18,"column":242},"end":{"line":18,"column":264}},"272":{"start":{"line":18,"column":251},"end":{"line":18,"column":264}},"273":{"start":{"line":18,"column":264},"end":{"line":18,"column":279}},"274":{"start":{"line":18,"column":279},"end":{"line":18,"column":371}},"275":{"start":{"line":18,"column":372},"end":{"line":18,"column":480}},"276":{"start":{"line":18,"column":386},"end":{"line":18,"column":401}},"277":{"start":{"line":18,"column":401},"end":{"line":18,"column":479}},"278":{"start":{"line":18,"column":480},"end":{"line":19,"column":1}},"279":{"start":{"line":18,"column":494},"end":{"line":18,"column":541}},"280":{"start":{"line":19,"column":1},"end":{"line":19,"column":164}},"281":{"start":{"line":19,"column":15},"end":{"line":19,"column":155}},"282":{"start":{"line":19,"column":107},"end":{"line":19,"column":118}},"283":{"start":{"line":19,"column":118},"end":{"line":19,"column":154}},"284":{"start":{"line":19,"column":155},"end":{"line":19,"column":163}},"285":{"start":{"line":19,"column":164},"end":{"line":19,"column":306}},"286":{"start":{"line":19,"column":178},"end":{"line":19,"column":282}},"287":{"start":{"line":19,"column":213},"end":{"line":19,"column":273}},"288":{"start":{"line":19,"column":256},"end":{"line":19,"column":273}},"289":{"start":{"line":19,"column":273},"end":{"line":19,"column":281}},"290":{"start":{"line":19,"column":282},"end":{"line":19,"column":305}},"291":{"start":{"line":19,"column":306},"end":{"line":19,"column":438}},"292":{"start":{"line":19,"column":320},"end":{"line":19,"column":338}},"293":{"start":{"line":19,"column":329},"end":{"line":19,"column":338}},"294":{"start":{"line":19,"column":338},"end":{"line":19,"column":347}},"295":{"start":{"line":19,"column":347},"end":{"line":19,"column":437}},"296":{"start":{"line":19,"column":400},"end":{"line":19,"column":433}},"297":{"start":{"line":19,"column":438},"end":{"line":20,"column":371}},"298":{"start":{"line":19,"column":456},"end":{"line":19,"column":475}},"299":{"start":{"line":19,"column":475},"end":{"line":19,"column":490}},"300":{"start":{"line":19,"column":481},"end":{"line":19,"column":490}},"301":{"start":{"line":19,"column":490},"end":{"line":20,"column":352}},"302":{"start":{"line":19,"column":512},"end":{"line":19,"column":530}},"303":{"start":{"line":19,"column":535},"end":{"line":20,"column":352}},"304":{"start":{"line":20,"column":0},"end":{"line":20,"column":4}},"305":{"start":{"line":20,"column":4},"end":{"line":20,"column":23}},"306":{"start":{"line":20,"column":23},"end":{"line":20,"column":306}},"307":{"start":{"line":20,"column":59},"end":{"line":20,"column":71}},"308":{"start":{"line":20,"column":71},"end":{"line":20,"column":230}},"309":{"start":{"line":20,"column":132},"end":{"line":20,"column":177}},"310":{"start":{"line":20,"column":177},"end":{"line":20,"column":229}},"311":{"start":{"line":20,"column":230},"end":{"line":20,"column":240}},"312":{"start":{"line":20,"column":246},"end":{"line":20,"column":302}},"313":{"start":{"line":20,"column":257},"end":{"line":20,"column":278}},"314":{"start":{"line":20,"column":278},"end":{"line":20,"column":301}},"315":{"start":{"line":20,"column":302},"end":{"line":20,"column":305}},"316":{"start":{"line":20,"column":306},"end":{"line":20,"column":351}},"317":{"start":{"line":20,"column":352},"end":{"line":20,"column":370}},"318":{"start":{"line":20,"column":371},"end":{"line":20,"column":423}},"319":{"start":{"line":20,"column":385},"end":{"line":20,"column":404}},"320":{"start":{"line":20,"column":404},"end":{"line":20,"column":422}},"321":{"start":{"line":20,"column":423},"end":{"line":22,"column":9}},"322":{"start":{"line":20,"column":443},"end":{"line":20,"column":469}},"323":{"start":{"line":20,"column":460},"end":{"line":20,"column":469}},"324":{"start":{"line":20,"column":469},"end":{"line":21,"column":25}},"325":{"start":{"line":21,"column":25},"end":{"line":21,"column":31}},"326":{"start":{"line":21,"column":31},"end":{"line":21,"column":510}},"327":{"start":{"line":21,"column":107},"end":{"line":21,"column":111}},"328":{"start":{"line":21,"column":111},"end":{"line":21,"column":117}},"329":{"start":{"line":21,"column":117},"end":{"line":21,"column":138}},"330":{"start":{"line":21,"column":138},"end":{"line":21,"column":210}},"331":{"start":{"line":21,"column":159},"end":{"line":21,"column":185}},"332":{"start":{"line":21,"column":185},"end":{"line":21,"column":209}},"333":{"start":{"line":21,"column":210},"end":{"line":21,"column":213}},"334":{"start":{"line":21,"column":219},"end":{"line":21,"column":335}},"335":{"start":{"line":21,"column":335},"end":{"line":21,"column":506}},"336":{"start":{"line":21,"column":337},"end":{"line":21,"column":506}},"337":{"start":{"line":21,"column":350},"end":{"line":21,"column":376}},"338":{"start":{"line":21,"column":376},"end":{"line":21,"column":505}},"339":{"start":{"line":21,"column":389},"end":{"line":21,"column":436}},"340":{"start":{"line":21,"column":413},"end":{"line":21,"column":436}},"341":{"start":{"line":21,"column":425},"end":{"line":21,"column":436}},"342":{"start":{"line":21,"column":436},"end":{"line":21,"column":458}},"343":{"start":{"line":21,"column":464},"end":{"line":21,"column":505}},"344":{"start":{"line":21,"column":506},"end":{"line":21,"column":509}},"345":{"start":{"line":22,"column":0},"end":{"line":22,"column":8}},"346":{"start":{"line":22,"column":9},"end":{"line":22,"column":379}},"347":{"start":{"line":22,"column":25},"end":{"line":22,"column":73}},"348":{"start":{"line":22,"column":49},"end":{"line":22,"column":73}},"349":{"start":{"line":22,"column":73},"end":{"line":22,"column":378}},"350":{"start":{"line":22,"column":123},"end":{"line":22,"column":197}},"351":{"start":{"line":22,"column":185},"end":{"line":22,"column":197}},"352":{"start":{"line":22,"column":197},"end":{"line":22,"column":309}},"353":{"start":{"line":22,"column":214},"end":{"line":22,"column":236}},"354":{"start":{"line":22,"column":243},"end":{"line":22,"column":270}},"355":{"start":{"line":22,"column":277},"end":{"line":22,"column":308}},"356":{"start":{"line":22,"column":309},"end":{"line":22,"column":348}},"357":{"start":{"line":22,"column":338},"end":{"line":22,"column":348}},"358":{"start":{"line":22,"column":348},"end":{"line":22,"column":377}},"359":{"start":{"line":22,"column":379},"end":{"line":22,"column":454}},"360":{"start":{"line":22,"column":393},"end":{"line":22,"column":453}},"361":{"start":{"line":22,"column":454},"end":{"line":22,"column":496}},"362":{"start":{"line":22,"column":468},"end":{"line":22,"column":495}},"363":{"start":{"line":22,"column":496},"end":{"line":23,"column":55}},"364":{"start":{"line":23,"column":0},"end":{"line":23,"column":15}},"365":{"start":{"line":23,"column":15},"end":{"line":23,"column":54}},"366":{"start":{"line":23,"column":55},"end":{"line":23,"column":143}},"367":{"start":{"line":23,"column":69},"end":{"line":23,"column":142}},"368":{"start":{"line":23,"column":143},"end":{"line":23,"column":439}},"369":{"start":{"line":23,"column":157},"end":{"line":23,"column":163}},"370":{"start":{"line":23,"column":163},"end":{"line":23,"column":299}},"371":{"start":{"line":23,"column":286},"end":{"line":23,"column":299}},"372":{"start":{"line":23,"column":299},"end":{"line":23,"column":305}},"373":{"start":{"line":23,"column":305},"end":{"line":23,"column":438}},"374":{"start":{"line":23,"column":351},"end":{"line":23,"column":378}},"375":{"start":{"line":23,"column":411},"end":{"line":23,"column":414}},"376":{"start":{"line":23,"column":439},"end":{"line":23,"column":501}},"377":{"start":{"line":23,"column":453},"end":{"line":23,"column":500}},"378":{"start":{"line":23,"column":501},"end":{"line":24,"column":43}},"379":{"start":{"line":24,"column":0},"end":{"line":24,"column":42}},"380":{"start":{"line":24,"column":43},"end":{"line":24,"column":76}},"381":{"start":{"line":24,"column":58},"end":{"line":24,"column":75}},"382":{"start":{"line":24,"column":76},"end":{"line":25,"column":118}},"383":{"start":{"line":24,"column":91},"end":{"line":24,"column":111}},"384":{"start":{"line":24,"column":102},"end":{"line":24,"column":111}},"385":{"start":{"line":24,"column":111},"end":{"line":24,"column":131}},"386":{"start":{"line":24,"column":131},"end":{"line":24,"column":360}},"387":{"start":{"line":24,"column":350},"end":{"line":24,"column":360}},"388":{"start":{"line":24,"column":360},"end":{"line":24,"column":483}},"389":{"start":{"line":24,"column":375},"end":{"line":24,"column":483}},"390":{"start":{"line":24,"column":483},"end":{"line":25,"column":109}},"391":{"start":{"line":24,"column":511},"end":{"line":25,"column":109}},"392":{"start":{"line":25,"column":47},"end":{"line":25,"column":109}},"393":{"start":{"line":25,"column":109},"end":{"line":25,"column":117}},"394":{"start":{"line":25,"column":118},"end":{"line":25,"column":225}},"395":{"start":{"line":25,"column":133},"end":{"line":25,"column":140}},"396":{"start":{"line":25,"column":140},"end":{"line":25,"column":216}},"397":{"start":{"line":25,"column":191},"end":{"line":25,"column":202}},"398":{"start":{"line":25,"column":202},"end":{"line":25,"column":215}},"399":{"start":{"line":25,"column":216},"end":{"line":25,"column":224}},"400":{"start":{"line":25,"column":225},"end":{"line":25,"column":289}},"401":{"start":{"line":25,"column":244},"end":{"line":25,"column":288}},"402":{"start":{"line":25,"column":289},"end":{"line":25,"column":313}},"403":{"start":{"line":25,"column":304},"end":{"line":25,"column":312}},"404":{"start":{"line":25,"column":313},"end":{"line":25,"column":348}},"405":{"start":{"line":25,"column":328},"end":{"line":25,"column":347}},"406":{"start":{"line":25,"column":348},"end":{"line":25,"column":385}},"407":{"start":{"line":25,"column":363},"end":{"line":25,"column":384}},"408":{"start":{"line":25,"column":385},"end":{"line":25,"column":1225}},"409":{"start":{"line":26,"column":0},"end":{"line":26,"column":212}},"410":{"start":{"line":26,"column":212},"end":{"line":26,"column":222}},"411":{"start":{"line":26,"column":222},"end":{"line":26,"column":434}},"412":{"start":{"line":26,"column":434},"end":{"line":27,"column":687}},"413":{"start":{"line":27,"column":0},"end":{"line":27,"column":69}},"414":{"start":{"line":27,"column":4},"end":{"line":27,"column":27}},"415":{"start":{"line":27,"column":37},"end":{"line":27,"column":68}},"416":{"start":{"line":27,"column":55},"end":{"line":27,"column":67}},"417":{"start":{"line":27,"column":69},"end":{"line":27,"column":149}},"418":{"start":{"line":27,"column":88},"end":{"line":27,"column":148}},"419":{"start":{"line":28,"column":0},"end":{"line":28,"column":190}},"420":{"start":{"line":28,"column":190},"end":{"line":28,"column":200}},"421":{"start":{"line":28,"column":200},"end":{"line":28,"column":511}},"422":{"start":{"line":28,"column":444},"end":{"line":28,"column":508}},"423":{"start":{"line":28,"column":460},"end":{"line":28,"column":508}},"424":{"start":{"line":28,"column":478},"end":{"line":28,"column":490}},"425":{"start":{"line":28,"column":490},"end":{"line":28,"column":507}},"426":{"start":{"line":28,"column":511},"end":{"line":28,"column":531}},"427":{"start":{"line":29,"column":0},"end":{"line":29,"column":369}},"428":{"start":{"line":29,"column":13},"end":{"line":29,"column":35}},"429":{"start":{"line":29,"column":26},"end":{"line":29,"column":34}},"430":{"start":{"line":29,"column":35},"end":{"line":29,"column":61}},"431":{"start":{"line":29,"column":61},"end":{"line":29,"column":89}},"432":{"start":{"line":29,"column":89},"end":{"line":29,"column":118}},"433":{"start":{"line":29,"column":108},"end":{"line":29,"column":118}},"434":{"start":{"line":29,"column":118},"end":{"line":29,"column":362}},"435":{"start":{"line":29,"column":369},"end":{"line":31,"column":328}},"436":{"start":{"line":29,"column":388},"end":{"line":30,"column":10}},"437":{"start":{"line":29,"column":411},"end":{"line":29,"column":422}},"438":{"start":{"line":29,"column":422},"end":{"line":29,"column":429}},"439":{"start":{"line":29,"column":429},"end":{"line":30,"column":1}},"440":{"start":{"line":29,"column":471},"end":{"line":29,"column":482}},"441":{"start":{"line":29,"column":482},"end":{"line":29,"column":511}},"442":{"start":{"line":29,"column":505},"end":{"line":29,"column":511}},"443":{"start":{"line":30,"column":1},"end":{"line":30,"column":9}},"444":{"start":{"line":30,"column":46},"end":{"line":30,"column":133}},"445":{"start":{"line":30,"column":69},"end":{"line":30,"column":132}},"446":{"start":{"line":30,"column":151},"end":{"line":30,"column":281}},"447":{"start":{"line":30,"column":172},"end":{"line":30,"column":188}},"448":{"start":{"line":30,"column":188},"end":{"line":30,"column":211}},"449":{"start":{"line":30,"column":197},"end":{"line":30,"column":211}},"450":{"start":{"line":30,"column":211},"end":{"line":30,"column":272}},"451":{"start":{"line":30,"column":272},"end":{"line":30,"column":280}},"452":{"start":{"line":30,"column":306},"end":{"line":30,"column":346}},"453":{"start":{"line":30,"column":377},"end":{"line":31,"column":15}},"454":{"start":{"line":30,"column":382},"end":{"line":31,"column":1}},"455":{"start":{"line":30,"column":422},"end":{"line":30,"column":458}},"456":{"start":{"line":30,"column":458},"end":{"line":30,"column":506}},"457":{"start":{"line":31,"column":6},"end":{"line":31,"column":15}},"458":{"start":{"line":31,"column":15},"end":{"line":31,"column":23}},"459":{"start":{"line":31,"column":43},"end":{"line":31,"column":119}},"460":{"start":{"line":31,"column":64},"end":{"line":31,"column":75}},"461":{"start":{"line":31,"column":75},"end":{"line":31,"column":117}},"462":{"start":{"line":31,"column":138},"end":{"line":31,"column":155}},"463":{"start":{"line":31,"column":176},"end":{"line":31,"column":207}},"464":{"start":{"line":31,"column":207},"end":{"line":31,"column":324}},"465":{"start":{"line":31,"column":328},"end":{"line":33,"column":167}},"466":{"start":{"line":31,"column":357},"end":{"line":31,"column":373}},"467":{"start":{"line":31,"column":373},"end":{"line":31,"column":425}},"468":{"start":{"line":31,"column":493},"end":{"line":31,"column":512}},"469":{"start":{"line":32,"column":0},"end":{"line":32,"column":41}},"470":{"start":{"line":32,"column":69},"end":{"line":32,"column":100}},"471":{"start":{"line":32,"column":303},"end":{"line":32,"column":359}},"472":{"start":{"line":33,"column":113},"end":{"line":33,"column":121}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":31},"end":{"line":6,"column":31}},{"start":{"line":6,"column":31},"end":{"line":6,"column":31}}]},"2":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":84},"end":{"line":6,"column":84}},{"start":{"line":6,"column":84},"end":{"line":6,"column":84}}]},"3":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":148},"end":{"line":6,"column":148}},{"start":{"line":6,"column":148},"end":{"line":6,"column":148}}]},"4":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":198},"end":{"line":6,"column":201}},{"start":{"line":6,"column":203},"end":{"line":6,"column":221}}]},"5":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":258},"end":{"line":6,"column":266}},{"start":{"line":6,"column":267},"end":{"line":6,"column":268}}]},"6":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":416},"end":{"line":6,"column":417}},{"start":{"line":6,"column":418},"end":{"line":6,"column":420}}]},"7":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":392},"end":{"line":6,"column":404}},{"start":{"line":6,"column":405},"end":{"line":6,"column":414}}]},"8":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":367},"end":{"line":6,"column":385}},{"start":{"line":6,"column":387},"end":{"line":6,"column":391}}]},"9":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":41},"end":{"line":7,"column":46}},{"start":{"line":7,"column":48},"end":{"line":7,"column":67}}]},"10":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":126},"end":{"line":7,"column":126}},{"start":{"line":7,"column":126},"end":{"line":7,"column":126}}]},"11":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":197},"end":{"line":7,"column":198}},{"start":{"line":7,"column":199},"end":{"line":7,"column":211}}]},"12":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":230},"end":{"line":7,"column":231}},{"start":{"line":7,"column":234},"end":{"line":7,"column":238}}]},"13":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":355},"end":{"line":7,"column":372}},{"start":{"line":7,"column":373},"end":{"line":7,"column":420}}]},"14":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":362},"end":{"line":7,"column":363}},{"start":{"line":7,"column":364},"end":{"line":7,"column":372}}]},"15":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":381},"end":{"line":7,"column":383}},{"start":{"line":7,"column":384},"end":{"line":7,"column":420}}]},"16":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":396},"end":{"line":7,"column":400}},{"start":{"line":7,"column":401},"end":{"line":7,"column":420}}]},"17":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":408},"end":{"line":7,"column":413}},{"start":{"line":7,"column":414},"end":{"line":7,"column":420}}]},"18":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":453},"end":{"line":7,"column":453}},{"start":{"line":7,"column":453},"end":{"line":7,"column":453}}]},"19":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":456},"end":{"line":7,"column":457}},{"start":{"line":7,"column":460},"end":{"line":7,"column":477}}]},"20":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":464},"end":{"line":7,"column":472}},{"start":{"line":7,"column":473},"end":{"line":7,"column":477}}]},"21":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":495},"end":{"line":7,"column":495}},{"start":{"line":7,"column":495},"end":{"line":7,"column":495}}]},"22":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":0},"end":{"line":8,"column":0}},{"start":{"line":8,"column":0},"end":{"line":8,"column":0}}]},"23":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":12},"end":{"line":8,"column":12}},{"start":{"line":8,"column":12},"end":{"line":8,"column":12}}]},"24":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":69},"end":{"line":8,"column":69}},{"start":{"line":8,"column":69},"end":{"line":8,"column":69}}]},"25":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":72},"end":{"line":8,"column":77}},{"start":{"line":8,"column":79},"end":{"line":8,"column":84}},{"start":{"line":8,"column":87},"end":{"line":8,"column":89}},{"start":{"line":8,"column":91},"end":{"line":8,"column":92}}]},"26":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":107},"end":{"line":8,"column":115}},{"start":{"line":8,"column":116},"end":{"line":8,"column":122}}]},"27":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":118},"end":{"line":8,"column":119}},{"start":{"line":8,"column":120},"end":{"line":8,"column":122}}]},"28":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":123},"end":{"line":8,"column":123}},{"start":{"line":8,"column":123},"end":{"line":8,"column":123}}]},"29":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":141},"end":{"line":8,"column":142}},{"start":{"line":8,"column":143},"end":{"line":8,"column":145}}]},"30":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":146},"end":{"line":8,"column":146}},{"start":{"line":8,"column":146},"end":{"line":8,"column":146}}]},"31":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":155},"end":{"line":8,"column":157}},{"start":{"line":8,"column":158},"end":{"line":8,"column":159}}]},"32":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":218},"end":{"line":8,"column":218}},{"start":{"line":8,"column":218},"end":{"line":8,"column":218}}]},"33":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":271},"end":{"line":8,"column":272}},{"start":{"line":8,"column":273},"end":{"line":8,"column":274}}]},"34":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":338},"end":{"line":8,"column":339}},{"start":{"line":8,"column":342},"end":{"line":8,"column":346}}]},"35":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":391},"end":{"line":8,"column":391}},{"start":{"line":8,"column":391},"end":{"line":8,"column":391}}]},"36":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":394},"end":{"line":8,"column":398}},{"start":{"line":8,"column":400},"end":{"line":8,"column":404}},{"start":{"line":8,"column":407},"end":{"line":8,"column":408}},{"start":{"line":8,"column":410},"end":{"line":8,"column":415}},{"start":{"line":8,"column":417},"end":{"line":8,"column":421}}]},"37":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":423},"end":{"line":8,"column":423}},{"start":{"line":8,"column":423},"end":{"line":8,"column":423}}]},"38":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":507},"end":{"line":8,"column":508}},{"start":{"line":8,"column":511},"end":{"line":8,"column":524}}]},"39":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":89},"end":{"line":9,"column":89}},{"start":{"line":9,"column":89},"end":{"line":9,"column":89}}]},"40":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":108},"end":{"line":9,"column":114}},{"start":{"line":9,"column":116},"end":{"line":9,"column":122}},{"start":{"line":9,"column":125},"end":{"line":9,"column":130}}]},"41":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":155},"end":{"line":9,"column":162}},{"start":{"line":9,"column":164},"end":{"line":9,"column":167}}]},"42":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":199},"end":{"line":9,"column":200}},{"start":{"line":9,"column":201},"end":{"line":9,"column":203}}]},"43":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":191},"end":{"line":9,"column":192}},{"start":{"line":9,"column":194},"end":{"line":9,"column":198}}]},"44":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":229},"end":{"line":9,"column":229}},{"start":{"line":9,"column":229},"end":{"line":9,"column":229}}]},"45":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":250},"end":{"line":9,"column":250}},{"start":{"line":9,"column":250},"end":{"line":9,"column":250}}]},"46":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":253},"end":{"line":9,"column":260}},{"start":{"line":9,"column":262},"end":{"line":9,"column":269}},{"start":{"line":9,"column":271},"end":{"line":9,"column":276}},{"start":{"line":9,"column":278},"end":{"line":9,"column":283}}]},"47":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":286},"end":{"line":9,"column":291}},{"start":{"line":9,"column":293},"end":{"line":9,"column":298}}]},"48":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":341},"end":{"line":9,"column":342}},{"start":{"line":9,"column":345},"end":{"line":9,"column":384}}]},"49":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":364},"end":{"line":9,"column":368}},{"start":{"line":9,"column":369},"end":{"line":9,"column":384}}]},"50":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":369},"end":{"line":9,"column":374}},{"start":{"line":9,"column":377},"end":{"line":9,"column":383}}]},"51":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":386},"end":{"line":9,"column":387}},{"start":{"line":9,"column":390},"end":{"line":9,"column":425}}]},"52":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":409},"end":{"line":9,"column":413}},{"start":{"line":9,"column":414},"end":{"line":9,"column":425}}]},"53":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":414},"end":{"line":9,"column":419}},{"start":{"line":9,"column":421},"end":{"line":9,"column":425}}]},"54":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":433},"end":{"line":9,"column":438}},{"start":{"line":9,"column":440},"end":{"line":9,"column":446}}]},"55":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":449},"end":{"line":9,"column":454}},{"start":{"line":9,"column":456},"end":{"line":9,"column":462}}]},"56":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":470},"end":{"line":9,"column":470}},{"start":{"line":9,"column":470},"end":{"line":9,"column":470}}]},"57":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":473},"end":{"line":9,"column":475}},{"start":{"line":9,"column":477},"end":{"line":9,"column":478}},{"start":{"line":9,"column":480},"end":{"line":9,"column":481}}]},"58":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":483},"end":{"line":9,"column":483}},{"start":{"line":9,"column":483},"end":{"line":9,"column":483}}]},"59":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":486},"end":{"line":9,"column":488}},{"start":{"line":9,"column":491},"end":{"line":10,"column":34}}]},"60":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":493},"end":{"line":9,"column":494}},{"start":{"line":9,"column":496},"end":{"line":9,"column":520}}]},"61":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":3}},{"start":{"line":10,"column":5},"end":{"line":10,"column":29}}]},"62":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":30},"end":{"line":10,"column":31}},{"start":{"line":10,"column":33},"end":{"line":10,"column":34}}]},"63":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":43},"end":{"line":10,"column":52}},{"start":{"line":10,"column":53},"end":{"line":10,"column":54}}]},"64":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":57},"end":{"line":10,"column":66}},{"start":{"line":10,"column":67},"end":{"line":10,"column":68}}]},"65":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":86},"end":{"line":10,"column":86}},{"start":{"line":10,"column":86},"end":{"line":10,"column":86}}]},"66":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":132},"end":{"line":10,"column":132}},{"start":{"line":10,"column":132},"end":{"line":10,"column":132}}]},"67":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":187},"end":{"line":10,"column":188}},{"start":{"line":10,"column":189},"end":{"line":10,"column":190}}]},"68":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":296},"end":{"line":10,"column":296}},{"start":{"line":10,"column":296},"end":{"line":10,"column":296}}]},"69":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":344},"end":{"line":10,"column":344}},{"start":{"line":10,"column":344},"end":{"line":10,"column":344}}]},"70":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":352},"end":{"line":10,"column":366}},{"start":{"line":10,"column":367},"end":{"line":10,"column":378}}]},"71":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":437},"end":{"line":10,"column":437}},{"start":{"line":10,"column":437},"end":{"line":10,"column":437}}]},"72":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":446},"end":{"line":10,"column":446}},{"start":{"line":10,"column":446},"end":{"line":10,"column":446}}]},"73":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":449},"end":{"line":10,"column":455}},{"start":{"line":10,"column":457},"end":{"line":10,"column":466}}]},"74":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":485},"end":{"line":10,"column":485}},{"start":{"line":10,"column":485},"end":{"line":10,"column":485}}]},"75":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":500},"end":{"line":10,"column":519}},{"start":{"line":10,"column":520},"end":{"line":10,"column":522}}]},"76":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":38},"end":{"line":11,"column":38}},{"start":{"line":11,"column":38},"end":{"line":11,"column":38}}]},"77":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":41},"end":{"line":11,"column":52}},{"start":{"line":11,"column":54},"end":{"line":11,"column":61}}]},"78":{"line":11,"type":"cond-expr","locations":[{"start":{"line":11,"column":121},"end":{"line":11,"column":126}},{"start":{"line":11,"column":128},"end":{"line":11,"column":161}}]},"79":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":135},"end":{"line":11,"column":143}},{"start":{"line":11,"column":146},"end":{"line":11,"column":152}},{"start":{"line":11,"column":154},"end":{"line":11,"column":160}}]},"80":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":228},"end":{"line":11,"column":232}},{"start":{"line":11,"column":234},"end":{"line":11,"column":239}},{"start":{"line":11,"column":241},"end":{"line":11,"column":246}}]},"81":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":280},"end":{"line":11,"column":280}},{"start":{"line":11,"column":280},"end":{"line":11,"column":280}}]},"82":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":312},"end":{"line":11,"column":312}},{"start":{"line":11,"column":312},"end":{"line":11,"column":312}}]},"83":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":324},"end":{"line":11,"column":326}},{"start":{"line":11,"column":328},"end":{"line":11,"column":329}},{"start":{"line":11,"column":331},"end":{"line":11,"column":337}}]},"84":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":340},"end":{"line":11,"column":340}},{"start":{"line":11,"column":340},"end":{"line":11,"column":340}}]},"85":{"line":11,"type":"cond-expr","locations":[{"start":{"line":11,"column":399},"end":{"line":11,"column":400}},{"start":{"line":11,"column":401},"end":{"line":11,"column":406}}]},"86":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":401},"end":{"line":11,"column":403}},{"start":{"line":11,"column":405},"end":{"line":11,"column":406}}]},"87":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":9},"end":{"line":12,"column":9}},{"start":{"line":12,"column":9},"end":{"line":12,"column":9}}]},"88":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":63},"end":{"line":12,"column":77}},{"start":{"line":12,"column":78},"end":{"line":12,"column":95}}]},"89":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":63},"end":{"line":12,"column":69}},{"start":{"line":12,"column":71},"end":{"line":12,"column":77}}]},"90":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":119},"end":{"line":12,"column":119}},{"start":{"line":12,"column":119},"end":{"line":12,"column":119}}]},"91":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":143},"end":{"line":12,"column":147}},{"start":{"line":12,"column":150},"end":{"line":12,"column":155}},{"start":{"line":12,"column":157},"end":{"line":12,"column":161}}]},"92":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":167},"end":{"line":12,"column":169}},{"start":{"line":12,"column":170},"end":{"line":12,"column":175}}]},"93":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":185},"end":{"line":12,"column":186}},{"start":{"line":12,"column":188},"end":{"line":12,"column":189}}]},"94":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":204},"end":{"line":12,"column":204}},{"start":{"line":12,"column":204},"end":{"line":12,"column":204}}]},"95":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":207},"end":{"line":12,"column":208}},{"start":{"line":12,"column":211},"end":{"line":12,"column":221}}]},"96":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":229},"end":{"line":12,"column":230}},{"start":{"line":12,"column":233},"end":{"line":12,"column":237}}]},"97":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":239},"end":{"line":12,"column":240}},{"start":{"line":12,"column":243},"end":{"line":12,"column":247}}]},"98":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":295},"end":{"line":12,"column":295}},{"start":{"line":12,"column":295},"end":{"line":12,"column":295}}]},"99":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":340},"end":{"line":12,"column":352}},{"start":{"line":12,"column":353},"end":{"line":12,"column":355}}]},"100":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":365},"end":{"line":12,"column":366}},{"start":{"line":12,"column":369},"end":{"line":12,"column":457}}]},"101":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":393},"end":{"line":12,"column":415}},{"start":{"line":12,"column":416},"end":{"line":12,"column":457}}]},"102":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":373},"end":{"line":12,"column":377}},{"start":{"line":12,"column":380},"end":{"line":12,"column":385}},{"start":{"line":12,"column":387},"end":{"line":12,"column":391}}]},"103":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":401},"end":{"line":12,"column":402}},{"start":{"line":12,"column":403},"end":{"line":12,"column":415}}]},"104":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":408},"end":{"line":12,"column":412}},{"start":{"line":12,"column":413},"end":{"line":12,"column":415}}]},"105":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":427},"end":{"line":12,"column":449}},{"start":{"line":12,"column":450},"end":{"line":12,"column":457}}]},"106":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":416},"end":{"line":12,"column":420}},{"start":{"line":12,"column":422},"end":{"line":12,"column":426}}]},"107":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":434},"end":{"line":12,"column":439}},{"start":{"line":12,"column":440},"end":{"line":12,"column":449}}]},"108":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":445},"end":{"line":12,"column":446}},{"start":{"line":12,"column":447},"end":{"line":12,"column":449}}]},"109":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":481},"end":{"line":12,"column":498}},{"start":{"line":12,"column":499},"end":{"line":12,"column":528}}]},"110":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":500},"end":{"line":12,"column":517}},{"start":{"line":12,"column":521},"end":{"line":12,"column":527}}]},"111":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":506},"end":{"line":12,"column":511}},{"start":{"line":12,"column":512},"end":{"line":12,"column":517}}]},"112":{"line":13,"type":"cond-expr","locations":[{"start":{"line":13,"column":18},"end":{"line":13,"column":30}},{"start":{"line":13,"column":31},"end":{"line":13,"column":33}}]},"113":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":35},"end":{"line":13,"column":43}},{"start":{"line":13,"column":47},"end":{"line":13,"column":50}}]},"114":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":52},"end":{"line":13,"column":58}},{"start":{"line":13,"column":61},"end":{"line":13,"column":63}},{"start":{"line":13,"column":65},"end":{"line":13,"column":71}},{"start":{"line":13,"column":74},"end":{"line":13,"column":76}},{"start":{"line":13,"column":79},"end":{"line":13,"column":96}},{"start":{"line":13,"column":100},"end":{"line":13,"column":106}}]},"115":{"line":13,"type":"cond-expr","locations":[{"start":{"line":13,"column":85},"end":{"line":13,"column":90}},{"start":{"line":13,"column":91},"end":{"line":13,"column":96}}]},"116":{"line":13,"type":"cond-expr","locations":[{"start":{"line":13,"column":160},"end":{"line":13,"column":162}},{"start":{"line":13,"column":163},"end":{"line":13,"column":170}}]},"117":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":258},"end":{"line":13,"column":258}},{"start":{"line":13,"column":258},"end":{"line":13,"column":258}}]},"118":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":292},"end":{"line":13,"column":292}},{"start":{"line":13,"column":292},"end":{"line":13,"column":292}}]},"119":{"line":13,"type":"switch","locations":[{"start":{"line":13,"column":321},"end":{"line":13,"column":367}},{"start":{"line":13,"column":367},"end":{"line":13,"column":421}},{"start":{"line":13,"column":421},"end":{"line":13,"column":479}},{"start":{"line":13,"column":479},"end":{"line":14,"column":27}}]},"120":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":206},"end":{"line":14,"column":207}},{"start":{"line":14,"column":208},"end":{"line":14,"column":216}}]},"121":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":223},"end":{"line":14,"column":229}},{"start":{"line":14,"column":230},"end":{"line":14,"column":232}}]},"122":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":239},"end":{"line":14,"column":243}},{"start":{"line":14,"column":244},"end":{"line":14,"column":246}}]},"123":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":253},"end":{"line":14,"column":259}},{"start":{"line":14,"column":260},"end":{"line":14,"column":262}}]},"124":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":389},"end":{"line":14,"column":395}},{"start":{"line":14,"column":398},"end":{"line":14,"column":406}}]},"125":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":475},"end":{"line":14,"column":475}},{"start":{"line":14,"column":475},"end":{"line":14,"column":475}}]},"126":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":478},"end":{"line":14,"column":482}},{"start":{"line":14,"column":485},"end":{"line":14,"column":487}},{"start":{"line":14,"column":489},"end":{"line":14,"column":493}}]},"127":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":35},"end":{"line":15,"column":51}},{"start":{"line":15,"column":52},"end":{"line":15,"column":54}}]},"128":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":39},"end":{"line":15,"column":40}},{"start":{"line":15,"column":41},"end":{"line":15,"column":42}}]},"129":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":45},"end":{"line":15,"column":46}},{"start":{"line":15,"column":47},"end":{"line":15,"column":48}}]},"130":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":55},"end":{"line":15,"column":55}},{"start":{"line":15,"column":55},"end":{"line":15,"column":55}}]},"131":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":66},"end":{"line":15,"column":66}},{"start":{"line":15,"column":66},"end":{"line":15,"column":66}}]},"132":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":93},"end":{"line":15,"column":93}},{"start":{"line":15,"column":93},"end":{"line":15,"column":93}}]},"133":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":99},"end":{"line":15,"column":99}},{"start":{"line":15,"column":99},"end":{"line":15,"column":99}}]},"134":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":126},"end":{"line":15,"column":131}},{"start":{"line":15,"column":133},"end":{"line":15,"column":147}}]},"135":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":168},"end":{"line":15,"column":168}},{"start":{"line":15,"column":168},"end":{"line":15,"column":168}}]},"136":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":171},"end":{"line":15,"column":176}},{"start":{"line":15,"column":178},"end":{"line":15,"column":193}}]},"137":{"line":15,"type":"switch","locations":[{"start":{"line":15,"column":247},"end":{"line":15,"column":255}},{"start":{"line":15,"column":255},"end":{"line":15,"column":276}},{"start":{"line":15,"column":276},"end":{"line":15,"column":328}},{"start":{"line":15,"column":328},"end":{"line":15,"column":361}},{"start":{"line":15,"column":361},"end":{"line":15,"column":369}},{"start":{"line":15,"column":369},"end":{"line":15,"column":391}}]},"138":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":291},"end":{"line":15,"column":305}},{"start":{"line":15,"column":307},"end":{"line":15,"column":327}}]},"139":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":349},"end":{"line":15,"column":354}},{"start":{"line":15,"column":355},"end":{"line":15,"column":360}}]},"140":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":469},"end":{"line":15,"column":469}},{"start":{"line":15,"column":469},"end":{"line":15,"column":469}}]},"141":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":472},"end":{"line":15,"column":476}},{"start":{"line":15,"column":478},"end":{"line":15,"column":480}}]},"142":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":519},"end":{"line":15,"column":519}},{"start":{"line":15,"column":519},"end":{"line":15,"column":519}}]},"143":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":526},"end":{"line":15,"column":532}},{"start":{"line":15,"column":533},"end":{"line":15,"column":545}}]},"144":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":50},"end":{"line":16,"column":66}},{"start":{"line":16,"column":67},"end":{"line":16,"column":69}}]},"145":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":54},"end":{"line":16,"column":55}},{"start":{"line":16,"column":56},"end":{"line":16,"column":57}}]},"146":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":60},"end":{"line":16,"column":61}},{"start":{"line":16,"column":62},"end":{"line":16,"column":63}}]},"147":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":70},"end":{"line":16,"column":70}},{"start":{"line":16,"column":70},"end":{"line":16,"column":70}}]},"148":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":80},"end":{"line":16,"column":95}},{"start":{"line":16,"column":96},"end":{"line":16,"column":98}}]},"149":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":112},"end":{"line":16,"column":113}},{"start":{"line":16,"column":116},"end":{"line":16,"column":134}}]},"150":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":302},"end":{"line":16,"column":306}},{"start":{"line":16,"column":307},"end":{"line":16,"column":312}}]},"151":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":143},"end":{"line":16,"column":144}},{"start":{"line":16,"column":147},"end":{"line":16,"column":300}}]},"152":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":179},"end":{"line":16,"column":224}},{"start":{"line":16,"column":226},"end":{"line":16,"column":246}},{"start":{"line":16,"column":248},"end":{"line":16,"column":262}},{"start":{"line":16,"column":264},"end":{"line":16,"column":284}},{"start":{"line":16,"column":286},"end":{"line":16,"column":300}}]},"153":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":181},"end":{"line":16,"column":185}},{"start":{"line":16,"column":187},"end":{"line":16,"column":204}},{"start":{"line":16,"column":206},"end":{"line":16,"column":223}}]},"154":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":332},"end":{"line":16,"column":341}},{"start":{"line":16,"column":343},"end":{"line":16,"column":344}}]},"155":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":360},"end":{"line":16,"column":361}},{"start":{"line":16,"column":362},"end":{"line":16,"column":363}}]},"156":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":433},"end":{"line":16,"column":438}},{"start":{"line":16,"column":440},"end":{"line":16,"column":445}}]},"157":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":485},"end":{"line":16,"column":487}},{"start":{"line":16,"column":488},"end":{"line":16,"column":492}}]},"158":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":505},"end":{"line":16,"column":506}},{"start":{"line":16,"column":507},"end":{"line":16,"column":509}}]},"159":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":59},"end":{"line":17,"column":60}},{"start":{"line":17,"column":62},"end":{"line":17,"column":83}},{"start":{"line":17,"column":85},"end":{"line":17,"column":103}},{"start":{"line":17,"column":106},"end":{"line":17,"column":137}}]},"160":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":178},"end":{"line":17,"column":198}},{"start":{"line":17,"column":200},"end":{"line":17,"column":214}},{"start":{"line":17,"column":217},"end":{"line":17,"column":225}}]},"161":{"line":17,"type":"switch","locations":[{"start":{"line":17,"column":281},"end":{"line":17,"column":301}},{"start":{"line":17,"column":301},"end":{"line":17,"column":309}},{"start":{"line":17,"column":309},"end":{"line":17,"column":334}},{"start":{"line":17,"column":334},"end":{"line":17,"column":342}},{"start":{"line":17,"column":342},"end":{"line":17,"column":350}},{"start":{"line":17,"column":350},"end":{"line":17,"column":358}},{"start":{"line":17,"column":358},"end":{"line":17,"column":366}},{"start":{"line":17,"column":366},"end":{"line":17,"column":374}},{"start":{"line":17,"column":374},"end":{"line":17,"column":382}},{"start":{"line":17,"column":382},"end":{"line":17,"column":390}},{"start":{"line":17,"column":390},"end":{"line":17,"column":398}},{"start":{"line":17,"column":398},"end":{"line":17,"column":488}},{"start":{"line":17,"column":488},"end":{"line":17,"column":496}},{"start":{"line":17,"column":496},"end":{"line":18,"column":16}},{"start":{"line":18,"column":16},"end":{"line":18,"column":80}}]},"162":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":413},"end":{"line":17,"column":427}},{"start":{"line":17,"column":430},"end":{"line":17,"column":437}}]},"163":{"line":17,"type":"cond-expr","locations":[{"start":{"line":17,"column":458},"end":{"line":17,"column":462}},{"start":{"line":17,"column":463},"end":{"line":17,"column":464}}]},"164":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":111},"end":{"line":18,"column":118}},{"start":{"line":18,"column":120},"end":{"line":18,"column":128}}]},"165":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":185},"end":{"line":18,"column":187}},{"start":{"line":18,"column":188},"end":{"line":18,"column":190}}]},"166":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":154},"end":{"line":18,"column":172}},{"start":{"line":18,"column":174},"end":{"line":18,"column":184}}]},"167":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":201},"end":{"line":18,"column":203}},{"start":{"line":18,"column":204},"end":{"line":18,"column":205}}]},"168":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":206},"end":{"line":18,"column":210}},{"start":{"line":18,"column":212},"end":{"line":18,"column":218}},{"start":{"line":18,"column":220},"end":{"line":18,"column":223}}]},"169":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":242},"end":{"line":18,"column":242}},{"start":{"line":18,"column":242},"end":{"line":18,"column":242}}]},"170":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":340},"end":{"line":18,"column":364}},{"start":{"line":18,"column":366},"end":{"line":18,"column":371}}]},"171":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":298},"end":{"line":18,"column":317}},{"start":{"line":18,"column":318},"end":{"line":18,"column":337}}]},"172":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":298},"end":{"line":18,"column":302}},{"start":{"line":18,"column":304},"end":{"line":18,"column":317}}]},"173":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":318},"end":{"line":18,"column":329}},{"start":{"line":18,"column":331},"end":{"line":18,"column":337}}]},"174":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":353},"end":{"line":18,"column":358}},{"start":{"line":18,"column":359},"end":{"line":18,"column":364}}]},"175":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":444},"end":{"line":18,"column":448}},{"start":{"line":18,"column":449},"end":{"line":18,"column":479}}]},"176":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":407},"end":{"line":18,"column":418}},{"start":{"line":18,"column":420},"end":{"line":18,"column":430}},{"start":{"line":18,"column":432},"end":{"line":18,"column":443}}]},"177":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":455},"end":{"line":18,"column":460}},{"start":{"line":18,"column":461},"end":{"line":18,"column":479}}]},"178":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":461},"end":{"line":18,"column":472}},{"start":{"line":18,"column":474},"end":{"line":18,"column":479}}]},"179":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":501},"end":{"line":18,"column":519}},{"start":{"line":18,"column":521},"end":{"line":18,"column":525}},{"start":{"line":18,"column":527},"end":{"line":18,"column":533}},{"start":{"line":18,"column":535},"end":{"line":18,"column":540}}]},"180":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":119},"end":{"line":19,"column":120}},{"start":{"line":19,"column":122},"end":{"line":19,"column":128}},{"start":{"line":19,"column":130},"end":{"line":19,"column":142}},{"start":{"line":19,"column":145},"end":{"line":19,"column":154}}]},"181":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":178},"end":{"line":19,"column":178}},{"start":{"line":19,"column":178},"end":{"line":19,"column":178}}]},"182":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":181},"end":{"line":19,"column":205}},{"start":{"line":19,"column":207},"end":{"line":19,"column":211}}]},"183":{"line":19,"type":"cond-expr","locations":[{"start":{"line":19,"column":294},"end":{"line":19,"column":295}},{"start":{"line":19,"column":296},"end":{"line":19,"column":305}}]},"184":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":320},"end":{"line":19,"column":320}},{"start":{"line":19,"column":320},"end":{"line":19,"column":320}}]},"185":{"line":19,"type":"cond-expr","locations":[{"start":{"line":19,"column":362},"end":{"line":19,"column":364}},{"start":{"line":19,"column":365},"end":{"line":19,"column":369}}]},"186":{"line":19,"type":"cond-expr","locations":[{"start":{"line":19,"column":409},"end":{"line":19,"column":427}},{"start":{"line":19,"column":428},"end":{"line":19,"column":432}}]},"187":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":428},"end":{"line":19,"column":429}},{"start":{"line":19,"column":431},"end":{"line":19,"column":432}}]},"188":{"line":19,"type":"cond-expr","locations":[{"start":{"line":19,"column":464},"end":{"line":19,"column":472}},{"start":{"line":19,"column":473},"end":{"line":19,"column":474}}]},"189":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":475},"end":{"line":19,"column":475}},{"start":{"line":19,"column":475},"end":{"line":19,"column":475}}]},"190":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":490},"end":{"line":19,"column":490}},{"start":{"line":19,"column":490},"end":{"line":19,"column":490}}]},"191":{"line":19,"type":"cond-expr","locations":[{"start":{"line":19,"column":518},"end":{"line":19,"column":527}},{"start":{"line":19,"column":528},"end":{"line":19,"column":529}}]},"192":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":535},"end":{"line":19,"column":535}},{"start":{"line":19,"column":535},"end":{"line":19,"column":535}}]},"193":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":12},"end":{"line":20,"column":20}},{"start":{"line":20,"column":21},"end":{"line":20,"column":22}}]},"194":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":23},"end":{"line":20,"column":23}},{"start":{"line":20,"column":23},"end":{"line":20,"column":23}}]},"195":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":26},"end":{"line":20,"column":44}},{"start":{"line":20,"column":46},"end":{"line":20,"column":51}},{"start":{"line":20,"column":53},"end":{"line":20,"column":57}}]},"196":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":220},"end":{"line":20,"column":225}},{"start":{"line":20,"column":226},"end":{"line":20,"column":229}}]},"197":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":180},"end":{"line":20,"column":181}},{"start":{"line":20,"column":182},"end":{"line":20,"column":218}}]},"198":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":184},"end":{"line":20,"column":197}},{"start":{"line":20,"column":198},"end":{"line":20,"column":218}}]},"199":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":184},"end":{"line":20,"column":185}},{"start":{"line":20,"column":187},"end":{"line":20,"column":188}},{"start":{"line":20,"column":190},"end":{"line":20,"column":197}}]},"200":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":200},"end":{"line":20,"column":204}},{"start":{"line":20,"column":205},"end":{"line":20,"column":218}}]},"201":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":200},"end":{"line":20,"column":201}},{"start":{"line":20,"column":203},"end":{"line":20,"column":204}}]},"202":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":213},"end":{"line":20,"column":214}},{"start":{"line":20,"column":215},"end":{"line":20,"column":218}}]},"203":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":292},"end":{"line":20,"column":297}},{"start":{"line":20,"column":298},"end":{"line":20,"column":301}}]},"204":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":278},"end":{"line":20,"column":281}},{"start":{"line":20,"column":283},"end":{"line":20,"column":291}}]},"205":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":347},"end":{"line":20,"column":348}},{"start":{"line":20,"column":349},"end":{"line":20,"column":351}}]},"206":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":313},"end":{"line":20,"column":316}},{"start":{"line":20,"column":319},"end":{"line":20,"column":345}}]},"207":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":325},"end":{"line":20,"column":333}},{"start":{"line":20,"column":334},"end":{"line":20,"column":345}}]},"208":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":365},"end":{"line":20,"column":366}},{"start":{"line":20,"column":368},"end":{"line":20,"column":369}}]},"209":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":393},"end":{"line":20,"column":401}},{"start":{"line":20,"column":402},"end":{"line":20,"column":403}}]},"210":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":413},"end":{"line":20,"column":419}},{"start":{"line":20,"column":420},"end":{"line":20,"column":422}}]},"211":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":443},"end":{"line":20,"column":443}},{"start":{"line":20,"column":443},"end":{"line":20,"column":443}}]},"212":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":446},"end":{"line":20,"column":448}},{"start":{"line":20,"column":450},"end":{"line":20,"column":459}}]},"213":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":469},"end":{"line":20,"column":476}},{"start":{"line":20,"column":478},"end":{"line":20,"column":497}},{"start":{"line":20,"column":500},"end":{"line":21,"column":23}}]},"214":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":11},"end":{"line":21,"column":13}},{"start":{"line":21,"column":14},"end":{"line":21,"column":15}}]},"215":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":31},"end":{"line":21,"column":31}},{"start":{"line":21,"column":31},"end":{"line":21,"column":31}}]},"216":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":36},"end":{"line":21,"column":46}},{"start":{"line":21,"column":48},"end":{"line":21,"column":50}}]},"217":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":60},"end":{"line":21,"column":61}},{"start":{"line":21,"column":62},"end":{"line":21,"column":63}}]},"218":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":65},"end":{"line":21,"column":72}},{"start":{"line":21,"column":74},"end":{"line":21,"column":79}},{"start":{"line":21,"column":83},"end":{"line":21,"column":93}}]},"219":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":95},"end":{"line":21,"column":96}},{"start":{"line":21,"column":98},"end":{"line":21,"column":105}}]},"220":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":174},"end":{"line":21,"column":182}},{"start":{"line":21,"column":183},"end":{"line":21,"column":184}}]},"221":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":185},"end":{"line":21,"column":186}},{"start":{"line":21,"column":188},"end":{"line":21,"column":193}},{"start":{"line":21,"column":196},"end":{"line":21,"column":208}}]},"222":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":276},"end":{"line":21,"column":289}},{"start":{"line":21,"column":290},"end":{"line":21,"column":294}}]},"223":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":248},"end":{"line":21,"column":266}},{"start":{"line":21,"column":269},"end":{"line":21,"column":271}},{"start":{"line":21,"column":273},"end":{"line":21,"column":275}}]},"224":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":251},"end":{"line":21,"column":258}},{"start":{"line":21,"column":261},"end":{"line":21,"column":266}}]},"225":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":303},"end":{"line":21,"column":314}},{"start":{"line":21,"column":317},"end":{"line":21,"column":333}}]},"226":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":329},"end":{"line":21,"column":331}},{"start":{"line":21,"column":332},"end":{"line":21,"column":333}}]},"227":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":365},"end":{"line":21,"column":373}},{"start":{"line":21,"column":374},"end":{"line":21,"column":375}}]},"228":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":376},"end":{"line":21,"column":376}},{"start":{"line":21,"column":376},"end":{"line":21,"column":376}}]},"229":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":379},"end":{"line":21,"column":380}},{"start":{"line":21,"column":382},"end":{"line":21,"column":387}}]},"230":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":413},"end":{"line":21,"column":413}},{"start":{"line":21,"column":413},"end":{"line":21,"column":413}}]},"231":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":436},"end":{"line":21,"column":437}},{"start":{"line":21,"column":439},"end":{"line":21,"column":448}}]},"232":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":464},"end":{"line":21,"column":474}},{"start":{"line":21,"column":477},"end":{"line":21,"column":504}}]},"233":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":478},"end":{"line":21,"column":479}},{"start":{"line":21,"column":481},"end":{"line":21,"column":482}},{"start":{"line":21,"column":485},"end":{"line":21,"column":494}}]},"234":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":25},"end":{"line":22,"column":25}},{"start":{"line":22,"column":25},"end":{"line":22,"column":25}}]},"235":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":92},"end":{"line":22,"column":102}},{"start":{"line":22,"column":103},"end":{"line":22,"column":108}}]},"236":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":103},"end":{"line":22,"column":105}},{"start":{"line":22,"column":107},"end":{"line":22,"column":108}}]},"237":{"line":22,"type":"switch","locations":[{"start":{"line":22,"column":207},"end":{"line":22,"column":236}},{"start":{"line":22,"column":236},"end":{"line":22,"column":270}},{"start":{"line":22,"column":270},"end":{"line":22,"column":308}}]},"238":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":400},"end":{"line":22,"column":404}},{"start":{"line":22,"column":406},"end":{"line":22,"column":410}},{"start":{"line":22,"column":412},"end":{"line":22,"column":431}},{"start":{"line":22,"column":433},"end":{"line":22,"column":453}}]},"239":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":475},"end":{"line":22,"column":479}},{"start":{"line":22,"column":481},"end":{"line":22,"column":495}}]},"240":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":21},"end":{"line":23,"column":24}},{"start":{"line":23,"column":27},"end":{"line":23,"column":38}},{"start":{"line":23,"column":40},"end":{"line":23,"column":53}}]},"241":{"line":23,"type":"cond-expr","locations":[{"start":{"line":23,"column":84},"end":{"line":23,"column":89}},{"start":{"line":23,"column":90},"end":{"line":23,"column":142}}]},"242":{"line":23,"type":"cond-expr","locations":[{"start":{"line":23,"column":95},"end":{"line":23,"column":114}},{"start":{"line":23,"column":115},"end":{"line":23,"column":142}}]},"243":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":115},"end":{"line":23,"column":119}},{"start":{"line":23,"column":121},"end":{"line":23,"column":142}}]},"244":{"line":23,"type":"cond-expr","locations":[{"start":{"line":23,"column":128},"end":{"line":23,"column":130}},{"start":{"line":23,"column":131},"end":{"line":23,"column":133}}]},"245":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":163},"end":{"line":23,"column":163}},{"start":{"line":23,"column":163},"end":{"line":23,"column":163}}]},"246":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":166},"end":{"line":23,"column":171}},{"start":{"line":23,"column":173},"end":{"line":23,"column":187}},{"start":{"line":23,"column":189},"end":{"line":23,"column":194}},{"start":{"line":23,"column":196},"end":{"line":23,"column":200}},{"start":{"line":23,"column":202},"end":{"line":23,"column":285}}]},"247":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":204},"end":{"line":23,"column":228}},{"start":{"line":23,"column":231},"end":{"line":23,"column":283}}]},"248":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":247},"end":{"line":23,"column":267}},{"start":{"line":23,"column":269},"end":{"line":23,"column":283}}]},"249":{"line":23,"type":"cond-expr","locations":[{"start":{"line":23,"column":331},"end":{"line":23,"column":390}},{"start":{"line":23,"column":393},"end":{"line":23,"column":437}}]},"250":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":417},"end":{"line":23,"column":423}},{"start":{"line":23,"column":425},"end":{"line":23,"column":437}}]},"251":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":460},"end":{"line":23,"column":478}},{"start":{"line":23,"column":480},"end":{"line":23,"column":484}},{"start":{"line":23,"column":486},"end":{"line":23,"column":500}}]},"252":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":7},"end":{"line":24,"column":11}},{"start":{"line":24,"column":13},"end":{"line":24,"column":24}},{"start":{"line":24,"column":26},"end":{"line":24,"column":42}}]},"253":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":91},"end":{"line":24,"column":91}},{"start":{"line":24,"column":91},"end":{"line":24,"column":91}}]},"254":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":111},"end":{"line":24,"column":115}},{"start":{"line":24,"column":118},"end":{"line":24,"column":129}}]},"255":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":375},"end":{"line":24,"column":376}},{"start":{"line":24,"column":378},"end":{"line":24,"column":392}},{"start":{"line":24,"column":394},"end":{"line":24,"column":395}},{"start":{"line":24,"column":398},"end":{"line":24,"column":410}},{"start":{"line":24,"column":412},"end":{"line":24,"column":421}},{"start":{"line":24,"column":424},"end":{"line":24,"column":425}},{"start":{"line":24,"column":427},"end":{"line":24,"column":433}},{"start":{"line":24,"column":435},"end":{"line":24,"column":451}},{"start":{"line":24,"column":454},"end":{"line":24,"column":455}},{"start":{"line":24,"column":457},"end":{"line":24,"column":470}},{"start":{"line":24,"column":473},"end":{"line":24,"column":482}}]},"256":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":483},"end":{"line":24,"column":483}},{"start":{"line":24,"column":483},"end":{"line":24,"column":483}}]},"257":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":486},"end":{"line":24,"column":502}},{"start":{"line":24,"column":504},"end":{"line":24,"column":510}}]},"258":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":62},"end":{"line":25,"column":63}},{"start":{"line":25,"column":65},"end":{"line":25,"column":66}},{"start":{"line":25,"column":69},"end":{"line":25,"column":96}},{"start":{"line":25,"column":99},"end":{"line":25,"column":108}}]},"259":{"line":25,"type":"cond-expr","locations":[{"start":{"line":25,"column":71},"end":{"line":25,"column":84}},{"start":{"line":25,"column":85},"end":{"line":25,"column":96}}]},"260":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":251},"end":{"line":25,"column":252}},{"start":{"line":25,"column":254},"end":{"line":25,"column":262}},{"start":{"line":25,"column":265},"end":{"line":25,"column":269}}]},"261":{"line":25,"type":"cond-expr","locations":[{"start":{"line":25,"column":276},"end":{"line":25,"column":281}},{"start":{"line":25,"column":282},"end":{"line":25,"column":288}}]},"262":{"line":25,"type":"cond-expr","locations":[{"start":{"line":25,"column":375},"end":{"line":25,"column":379}},{"start":{"line":25,"column":380},"end":{"line":25,"column":384}}]},"263":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":474},"end":{"line":26,"column":492}},{"start":{"line":26,"column":494},"end":{"line":26,"column":501}},{"start":{"line":26,"column":503},"end":{"line":26,"column":520}},{"start":{"line":26,"column":522},"end":{"line":26,"column":529}}]},"264":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":533},"end":{"line":26,"column":550}},{"start":{"line":26,"column":552},"end":{"line":26,"column":558}},{"start":{"line":26,"column":560},"end":{"line":26,"column":576}},{"start":{"line":26,"column":578},"end":{"line":26,"column":584}}]},"265":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":588},"end":{"line":26,"column":603}},{"start":{"line":26,"column":605},"end":{"line":26,"column":609}},{"start":{"line":26,"column":611},"end":{"line":26,"column":622}},{"start":{"line":26,"column":624},"end":{"line":26,"column":628}}]},"266":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":632},"end":{"line":26,"column":649}},{"start":{"line":26,"column":651},"end":{"line":26,"column":657}},{"start":{"line":26,"column":659},"end":{"line":26,"column":672}},{"start":{"line":26,"column":674},"end":{"line":26,"column":680}}]},"267":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":684},"end":{"line":26,"column":686}},{"start":{"line":26,"column":688},"end":{"line":26,"column":703}},{"start":{"line":26,"column":705},"end":{"line":26,"column":707}}]},"268":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":711},"end":{"line":26,"column":713}},{"start":{"line":26,"column":715},"end":{"line":26,"column":717}},{"start":{"line":26,"column":719},"end":{"line":26,"column":742}},{"start":{"line":26,"column":744},"end":{"line":26,"column":750}},{"start":{"line":26,"column":752},"end":{"line":26,"column":765}},{"start":{"line":26,"column":767},"end":{"line":26,"column":773}},{"start":{"line":26,"column":775},"end":{"line":26,"column":799}},{"start":{"line":26,"column":801},"end":{"line":26,"column":803}},{"start":{"line":26,"column":805},"end":{"line":26,"column":807}},{"start":{"line":26,"column":809},"end":{"line":26,"column":813}}]},"269":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":781},"end":{"line":26,"column":785}},{"start":{"line":26,"column":787},"end":{"line":26,"column":798}}]},"270":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":95},"end":{"line":27,"column":124}},{"start":{"line":27,"column":126},"end":{"line":27,"column":148}}]},"271":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":460},"end":{"line":28,"column":460}},{"start":{"line":28,"column":460},"end":{"line":28,"column":460}}]},"272":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":136},"end":{"line":29,"column":157}},{"start":{"line":29,"column":159},"end":{"line":29,"column":177}}]},"273":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":459},"end":{"line":29,"column":462}},{"start":{"line":29,"column":463},"end":{"line":29,"column":468}}]},"274":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":482},"end":{"line":29,"column":482}},{"start":{"line":29,"column":482},"end":{"line":29,"column":482}}]},"275":{"line":30,"type":"cond-expr","locations":[{"start":{"line":30,"column":112},"end":{"line":30,"column":118}},{"start":{"line":30,"column":119},"end":{"line":30,"column":132}}]},"276":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":76},"end":{"line":30,"column":96}},{"start":{"line":30,"column":98},"end":{"line":30,"column":104}},{"start":{"line":30,"column":106},"end":{"line":30,"column":111}}]},"277":{"line":30,"type":"cond-expr","locations":[{"start":{"line":30,"column":180},"end":{"line":30,"column":185}},{"start":{"line":30,"column":186},"end":{"line":30,"column":187}}]},"278":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":188},"end":{"line":30,"column":188}},{"start":{"line":30,"column":188},"end":{"line":30,"column":188}}]},"279":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":236},"end":{"line":30,"column":247}},{"start":{"line":30,"column":250},"end":{"line":30,"column":269}}]},"280":{"line":30,"type":"cond-expr","locations":[{"start":{"line":30,"column":238},"end":{"line":30,"column":241}},{"start":{"line":30,"column":242},"end":{"line":30,"column":247}}]},"281":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":290},"end":{"line":30,"column":292}},{"start":{"line":30,"column":294},"end":{"line":30,"column":347}}]},"282":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":313},"end":{"line":30,"column":317}},{"start":{"line":30,"column":319},"end":{"line":30,"column":330}},{"start":{"line":30,"column":332},"end":{"line":30,"column":346}}]},"283":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":377},"end":{"line":30,"column":377}},{"start":{"line":30,"column":377},"end":{"line":30,"column":377}}]},"284":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":459},"end":{"line":30,"column":476}},{"start":{"line":30,"column":480},"end":{"line":30,"column":486}},{"start":{"line":30,"column":488},"end":{"line":30,"column":494}},{"start":{"line":30,"column":498},"end":{"line":30,"column":504}}]},"285":{"line":30,"type":"cond-expr","locations":[{"start":{"line":30,"column":465},"end":{"line":30,"column":470}},{"start":{"line":30,"column":471},"end":{"line":30,"column":476}}]},"286":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":90},"end":{"line":31,"column":91}},{"start":{"line":31,"column":93},"end":{"line":31,"column":116}}]},"287":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":152},"end":{"line":31,"column":153}},{"start":{"line":31,"column":154},"end":{"line":31,"column":155}}]},"288":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":164},"end":{"line":31,"column":325}},{"start":{"line":31,"column":326},"end":{"line":31,"column":327}}]},"289":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":190},"end":{"line":31,"column":192}},{"start":{"line":31,"column":193},"end":{"line":31,"column":206}}]},"290":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":306},"end":{"line":31,"column":310}},{"start":{"line":31,"column":311},"end":{"line":31,"column":324}}]},"291":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":214},"end":{"line":31,"column":234}},{"start":{"line":31,"column":236},"end":{"line":31,"column":251}},{"start":{"line":31,"column":254},"end":{"line":31,"column":304}}]},"292":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":275},"end":{"line":31,"column":299}},{"start":{"line":31,"column":300},"end":{"line":31,"column":304}}]},"293":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":316},"end":{"line":31,"column":321}},{"start":{"line":31,"column":322},"end":{"line":31,"column":324}}]},"294":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":398},"end":{"line":31,"column":410}},{"start":{"line":31,"column":411},"end":{"line":31,"column":425}}]},"295":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":373},"end":{"line":31,"column":391}},{"start":{"line":31,"column":393},"end":{"line":31,"column":397}}]},"296":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":501},"end":{"line":31,"column":509}},{"start":{"line":31,"column":510},"end":{"line":31,"column":511}}]},"297":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":7},"end":{"line":32,"column":8}},{"start":{"line":32,"column":10},"end":{"line":32,"column":18}},{"start":{"line":32,"column":21},"end":{"line":32,"column":28}}]},"298":{"line":32,"type":"cond-expr","locations":[{"start":{"line":32,"column":32},"end":{"line":32,"column":38}},{"start":{"line":32,"column":39},"end":{"line":32,"column":41}}]},"299":{"line":32,"type":"cond-expr","locations":[{"start":{"line":32,"column":88},"end":{"line":32,"column":97}},{"start":{"line":32,"column":98},"end":{"line":32,"column":100}}]},"300":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":76},"end":{"line":32,"column":77}},{"start":{"line":32,"column":79},"end":{"line":32,"column":87}}]},"301":{"line":32,"type":"cond-expr","locations":[{"start":{"line":32,"column":331},"end":{"line":32,"column":349}},{"start":{"line":32,"column":350},"end":{"line":32,"column":359}}]},"302":{"line":33,"type":"cond-expr","locations":[{"start":{"line":33,"column":87},"end":{"line":33,"column":123}},{"start":{"line":33,"column":125},"end":{"line":33,"column":167}}]},"303":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":19},"end":{"line":33,"column":44}},{"start":{"line":33,"column":46},"end":{"line":33,"column":73}},{"start":{"line":33,"column":75},"end":{"line":33,"column":85}}]},"304":{"line":33,"type":"cond-expr","locations":[{"start":{"line":33,"column":132},"end":{"line":33,"column":160}},{"start":{"line":33,"column":161},"end":{"line":33,"column":167}}]},"305":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":125},"end":{"line":33,"column":127}},{"start":{"line":33,"column":129},"end":{"line":33,"column":131}}]},"306":{"line":33,"type":"cond-expr","locations":[{"start":{"line":33,"column":135},"end":{"line":33,"column":153}},{"start":{"line":33,"column":154},"end":{"line":33,"column":160}}]}},"code":["/**"," * @license"," * lodash 3.10.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE"," * Build: `lodash -p -o ./dist/lodash-min.js include=\"cloneDeep,extend,defaults,forEach,flatten,flattenDeep,merge,unique\"`"," */",";(function(){function n(n,r,t){if(r!==r){n:{for(r=n.length,t+=-1;++t<r;){var e=n[t];if(e!==e){n=t;break n}}n=-1}return n}for(t-=1,e=n.length;++t<e;)if(n[t]===r)return t;return-1}function r(n){return!!n&&typeof n==\"object\"}function t(){}function e(n){var r=n?n.length:0;for(this.data={hash:ir(null),set:new ur};r--;)this.push(n[r])}function o(n,r){var t=n.data;return(typeof r==\"string\"||K(r)?t.set.has(r):t.hash[r])?0:-1}function u(n,r){var t=-1,e=n.length;for(r||(r=Array(e));++t<e;)r[t]=n[t];return r;","}function c(n,r){for(var t=-1,e=n.length;++t<e&&false!==r(n[t],t,n););return n}function a(n,r){for(var t=-1,e=n.length;++t<e;)if(r(n[t],t,n))return true;return false}function i(n,r){return null==r?n:f(r,kr(r),n)}function f(n,r,t){t||(t={});for(var e=-1,o=r.length;++e<o;){var u=r[e];t[u]=n[u]}return t}function l(n,r,t){var e=typeof n;return\"function\"==e?r===an?n:O(n,r,t):null==n?on:\"object\"==e?j(n):r===an?cn(n):d(n,r)}function s(n,r,t,e,o,a,f){var l;if(t&&(l=o?t(n,e,o):t(n)),l!==an)return l;if(!K(n))return n;","if(e=Or(n)){if(l=U(n),!r)return u(n,l)}else{var p=rr.call(n),h=p==gn;if(p!=jn&&p!=sn&&(!h||o))return Nn[p]?M(n,p,r):o?n:{};if(Jn(n))return o?n:{};if(l=F(h?{}:n),!r)return i(l,n)}for(a||(a=[]),f||(f=[]),o=a.length;o--;)if(a[o]==n)return f[o];return a.push(n),f.push(l),(e?c:y)(n,function(e,o){l[o]=s(e,r,t,o,n,a,f)}),l}function p(n,t,e,o){o||(o=[]);for(var u=-1,c=n.length;++u<c;){var a=n[u];if(r(a)&&C(a)&&(e||Or(a)||H(a)))if(t)p(a,t,e,o);else for(var i=o,f=-1,l=a.length,s=i.length;++f<l;)i[s+f]=a[f];else e||(o[o.length]=a);","}return o}function h(n,r){mr(n,r,rn)}function y(n,r){return mr(n,r,kr)}function v(n,r,t){if(null!=n){n=R(n),t!==an&&t in n&&(r=[t]),t=0;for(var e=r.length;null!=n&&t<e;)n=R(n)[r[t++]];return t&&t==e?n:an}}function g(n,t,e,o,u,c){if(n===t)n=true;else if(null==n||null==t||!K(n)&&!r(t))n=n!==n&&t!==t;else n:{var a=g,i=Or(n),f=Or(t),l=pn,s=pn;i||(l=rr.call(n),l==sn?l=jn:l!=jn&&(i=Z(n))),f||(s=rr.call(t),s==sn?s=jn:s!=jn&&Z(t));var p=l==jn&&!Jn(n),f=s==jn&&!Jn(t),s=l==s;if(!s||i||p){if(!o&&(l=p&&nr.call(n,\"__wrapped__\"),","f=f&&nr.call(t,\"__wrapped__\"),l||f)){n=a(l?n.value():n,f?t.value():t,e,o,u,c);break n}if(s){for(u||(u=[]),c||(c=[]),l=u.length;l--;)if(u[l]==n){n=c[l]==t;break n}u.push(n),c.push(t),n=(i?E:I)(n,t,a,e,o,u,c),u.pop(),c.pop()}else n=false}else n=k(n,t,l)}return n}function b(n,r){var t=r.length,e=t;if(null==n)return!e;for(n=R(n);t--;){var o=r[t];if(o[2]?o[1]!==n[o[0]]:!(o[0]in n))return false}for(;++t<e;){var o=r[t],u=o[0],c=n[u],a=o[1];if(o[2]){if(c===an&&!(u in n))return false}else if(o=an,o===an?!g(a,c,void 0,true):!o)return false;","}return true}function j(n){var r=_(n);if(1==r.length&&r[0][2]){var t=r[0][0],e=r[0][1];return function(n){return null==n?false:(n=R(n),n[t]===e&&(e!==an||t in n))}}return function(n){return b(n,r)}}function d(n,r){var t=Or(n),e=B(n)&&r===r&&!K(r),o=n+\"\";return n=q(n),function(u){if(null==u)return false;var c=o;if(u=R(u),!(!t&&e||c in u)){if(1!=n.length){var c=n,a=0,i=-1,f=-1,l=c.length,a=null==a?0:+a||0;for(0>a&&(a=-a>l?0:l+a),i=i===an||i>l?l:+i||0,0>i&&(i+=l),l=a>i?0:i-a>>>0,a>>>=0,i=Array(l);++f<l;)i[f]=c[f+a];","u=v(u,i)}if(null==u)return false;c=V(n),u=R(u)}return u[c]===r?r!==an||c in u:g(r,u[c],an,true)}}function m(n,t,e,o,a){if(!K(n))return n;var i=C(t)&&(Or(t)||Z(t)),f=i?an:kr(t);return c(f||t,function(c,l){if(f&&(l=c,c=t[l]),r(c)){o||(o=[]),a||(a=[]);n:{for(var s=l,p=o,h=a,y=p.length,v=t[s];y--;)if(p[y]==v){n[s]=h[y];break n}var y=n[s],g=e?e(y,v,s,n,t):an,b=g===an;b&&(g=v,C(v)&&(Or(v)||Z(v))?g=Or(y)?y:C(y)?u(y):[]:X(v)||H(v)?g=H(y)?nn(y):X(y)?y:{}:b=false),p.push(v),h.push(g),b?n[s]=m(g,v,e,p,h):(g===g?g!==y:y===y)&&(n[s]=g);","}}else s=n[l],p=e?e(s,c,l,n,t):an,(h=p===an)&&(p=c),p===an&&(!i||l in n)||!h&&(p===p?p===s:s!==s)||(n[l]=p)}),n}function w(n){return function(r){return null==r?an:R(r)[n]}}function A(n){var r=n+\"\";return n=q(n),function(t){return v(t,n,r)}}function O(n,r,t){if(typeof n!=\"function\")return on;if(r===an)return n;switch(t){case 1:return function(t){return n.call(r,t)};case 3:return function(t,e,o){return n.call(r,t,e,o)};case 4:return function(t,e,o,u){return n.call(r,t,e,o,u)};case 5:return function(t,e,o,u,c){","return n.call(r,t,e,o,u,c)}}return function(){return n.apply(r,arguments)}}function x(n){var r=new er(n.byteLength);return new ar(r).set(new ar(n)),r}function S(n){return G(function(r,t){var e=-1,o=null==r?0:t.length,u=2<o?t[o-2]:an,c=2<o?t[2]:an,a=1<o?t[o-1]:an;for(typeof u==\"function\"?(u=O(u,a,5),o-=2):(u=typeof a==\"function\"?a:an,o-=u?1:0),c&&T(t[0],t[1],c)&&(u=3>o?an:u,o=1);++e<o;)(c=t[e])&&n(r,c,u);return r})}function E(n,r,t,e,o,u,c){var i=-1,f=n.length,l=r.length;if(f!=l&&(!o||l<=f))return false;","for(;++i<f;){var s=n[i],l=r[i],p=e?e(o?l:s,o?s:l,i):an;if(p!==an){if(p)continue;return false}if(o){if(!a(r,function(n){return s===n||t(s,n,e,o,u,c)}))return false}else if(s!==l&&!t(s,l,e,o,u,c))return false}return true}function k(n,r,t){switch(t){case hn:case yn:return+n==+r;case vn:return n.name==r.name&&n.message==r.message;case bn:return n!=+n?r!=+r:n==+r;case dn:case mn:return n==r+\"\"}return false}function I(n,r,t,e,o,u,c){var a=kr(n),i=a.length,f=kr(r).length;if(i!=f&&!o)return false;for(f=i;f--;){var l=a[f];if(!(o?l in r:nr.call(r,l)))return false;","}for(var s=o;++f<i;){var l=a[f],p=n[l],h=r[l],y=e?e(o?h:p,o?p:h,l):an;if(y===an?!t(p,h,e,o,u,c):!y)return false;s||(s=\"constructor\"==l)}return s||(t=n.constructor,e=r.constructor,!(t!=e&&\"constructor\"in n&&\"constructor\"in r)||typeof t==\"function\"&&t instanceof t&&typeof e==\"function\"&&e instanceof e)?true:false}function P(){var r=t.indexOf||W;return r=r===W?n:r}function _(n){n=tn(n);for(var r=n.length;r--;){var t=n[r][1];n[r][2]=t===t&&!K(t)}return n}function $(n,r){var t=null==n?an:n[r];return Q(t)?t:an}","function U(n){var r=n.length,t=new n.constructor(r);return r&&\"string\"==typeof n[0]&&nr.call(n,\"index\")&&(t.index=n.index,t.input=n.input),t}function F(n){return n=n.constructor,typeof n==\"function\"&&n instanceof n||(n=Object),new n}function M(n,r,t){var e=n.constructor;switch(r){case wn:return x(n);case hn:case yn:return new e(+n);case An:case On:case xn:case Sn:case En:case kn:case In:case Pn:case _n:return e instanceof e&&(e=br[r]),r=n.buffer,new e(t?x(r):r,n.byteOffset,n.length);case bn:case mn:","return new e(n);case dn:var o=new e(n.source,Cn.exec(n));o.lastIndex=n.lastIndex}return o}function C(n){return null!=n&&D(wr(n))}function L(n,r){return n=typeof n==\"number\"||Tn.test(n)?+n:-1,r=null==r?gr:r,-1<n&&0==n%1&&n<r}function T(n,r,t){if(!K(t))return false;var e=typeof r;return(\"number\"==e?C(t)&&L(r,t.length):\"string\"==e&&r in t)?(r=t[r],n===n?n===r:r!==r):false}function B(n){var r=typeof n;return\"string\"==r&&Un.test(n)||\"number\"==r?true:Or(n)?false:!$n.test(n)||false}function D(n){return typeof n==\"number\"&&-1<n&&0==n%1&&n<=gr;","}function N(n){for(var r=rn(n),t=r.length,e=t&&n.length,o=!!e&&D(e)&&(Or(n)||H(n)||Y(n)),u=-1,c=[];++u<t;){var a=r[u];(o&&L(a,e)||nr.call(n,a))&&c.push(a)}return c}function R(n){if(t.support.unindexedChars&&Y(n)){for(var r=-1,e=n.length,o=Object(n);++r<e;)o[r]=n.charAt(r);return o}return K(n)?n:Object(n)}function q(n){if(Or(n))return n;var r=[];return(null==n?\"\":n+\"\").replace(Fn,function(n,t,e,o){r.push(e?o.replace(Mn,\"$1\"):t||n)}),r}function W(r,t,e){var o=r?r.length:0;if(!o)return-1;if(typeof e==\"number\")e=0>e?pr(o+e,0):e;else if(e){","e=0;var u=r?r.length:e;if(typeof t!=\"number\"||t!==t||u>vr){u=on,e=u(t);for(var c=0,a=r?r.length:0,i=e!==e,f=null===e,l=e===an;c<a;){var s=fr((c+a)/2),p=u(r[s]),h=p!==an,y=p===p;(i?y:f?y&&h&&null!=p:l?y&&h:null==p?0:p<e)?c=s+1:a=s}e=hr(a,yr)}else{for(;e<u;){var c=e+u>>>1,a=r[c];a<t&&null!==a?e=c+1:u=c}e=u}return e<o&&(t===t?t===r[e]:r[e]!==r[e])?e:-1}return n(r,t,e||0)}function V(n){var r=n?n.length:0;return r?n[r-1]:an}function z(r,u,c,a){if(!r||!r.length)return[];null!=u&&typeof u!=\"boolean\"&&(a=c,","c=T(r,u,a)?an:u,u=false);var i;if(i=t.callback||en,i=i===en?l:i,(null!=c||i!==l)&&(c=i(c,a,3)),u&&P()===n){u=c;var f;c=-1,a=r.length,i=-1;for(var s=[];++c<a;){var p=r[c],h=u?u(p,c,r):p;c&&f===h||(f=h,s[++i]=p)}r=s}else{f=c,u=-1,c=P(),a=r.length,p=(s=(i=c===n)&&a>=fn)&&ir&&ur?new e(void 0):null,h=[],p?(c=o,i=false):(s=false,p=f?[]:h);n:for(;++u<a;){var y=r[u],v=f?f(y,u,r):y;if(i&&y===y){for(var g=p.length;g--;)if(p[g]===v)continue n;f&&p.push(v),h.push(y)}else 0>c(p,v,0)&&((f||s)&&p.push(v),h.push(y))}r=h}","return r}function G(n,r){if(typeof n!=\"function\")throw new TypeError(ln);return r=pr(r===an?n.length-1:+r||0,0),function(){for(var t=arguments,e=-1,o=pr(t.length-r,0),u=Array(o);++e<o;)u[e]=t[r+e];switch(r){case 0:return n.call(this,u);case 1:return n.call(this,t[0],u);case 2:return n.call(this,t[0],t[1],u)}for(o=Array(r+1),e=-1;++e<r;)o[e]=t[e];return o[r]=u,n.apply(this,o)}}function H(n){return r(n)&&C(n)&&nr.call(n,\"callee\")&&!or.call(n,\"callee\")}function J(n){return K(n)&&rr.call(n)==gn}function K(n){","var r=typeof n;return!!n&&(\"object\"==r||\"function\"==r)}function Q(n){return null==n?false:J(n)?tr.test(Zn.call(n)):r(n)&&(Jn(n)?tr:Ln).test(n)}function X(n){var e;if(!r(n)||rr.call(n)!=jn||Jn(n)||H(n)||!(nr.call(n,\"constructor\")||(e=n.constructor,typeof e!=\"function\"||e instanceof e)))return false;var o;return t.support.ownLast?(h(n,function(n,r,t){return o=nr.call(t,r),false}),false!==o):(h(n,function(n,r){o=r}),o===an||nr.call(n,o))}function Y(n){return typeof n==\"string\"||r(n)&&rr.call(n)==mn}function Z(n){","return r(n)&&D(n.length)&&!!Dn[rr.call(n)]}function nn(n){return f(n,rn(n))}function rn(n){if(null==n)return[];K(n)||(n=Object(n));for(var r=n.length,e=t.support,r=r&&D(r)&&(Or(n)||H(n)||Y(n))&&r||0,o=n.constructor,u=-1,o=J(o)&&o.prototype||Xn,c=o===n,a=Array(r),i=0<r,f=e.enumErrorProps&&(n===Qn||n instanceof Error),l=e.enumPrototypes&&J(n);++u<r;)a[u]=u+\"\";for(var s in n)l&&\"prototype\"==s||f&&(\"message\"==s||\"name\"==s)||i&&L(s,r)||\"constructor\"==s&&(c||!nr.call(n,s))||a.push(s);if(e.nonEnumShadows&&n!==Xn)for(r=n===Yn?mn:n===Qn?vn:rr.call(n),","e=jr[r]||jr[jn],r==jn&&(o=Xn),r=Bn.length;r--;)s=Bn[r],u=e[s],c&&u||(u?!nr.call(n,s):n[s]===o[s])||a.push(s);return a}function tn(n){n=R(n);for(var r=-1,t=kr(n),e=t.length,o=Array(e);++r<e;){var u=t[r];o[r]=[u,n[u]]}return o}function en(n,t,e){return e&&T(n,t,e)&&(t=an),r(n)?un(n):l(n,t)}function on(n){return n}function un(n){return j(s(n,true))}function cn(n){return B(n)?w(n):A(n)}var an,fn=200,ln=\"Expected a function\",sn=\"[object Arguments]\",pn=\"[object Array]\",hn=\"[object Boolean]\",yn=\"[object Date]\",vn=\"[object Error]\",gn=\"[object Function]\",bn=\"[object Number]\",jn=\"[object Object]\",dn=\"[object RegExp]\",mn=\"[object String]\",wn=\"[object ArrayBuffer]\",An=\"[object Float32Array]\",On=\"[object Float64Array]\",xn=\"[object Int8Array]\",Sn=\"[object Int16Array]\",En=\"[object Int32Array]\",kn=\"[object Uint8Array]\",In=\"[object Uint8ClampedArray]\",Pn=\"[object Uint16Array]\",_n=\"[object Uint32Array]\",$n=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,Un=/^\\w*$/,Fn=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,Mn=/\\\\(\\\\)?/g,Cn=/\\w*$/,Ln=/^\\[object .+?Constructor\\]$/,Tn=/^\\d+$/,Bn=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \"),Dn={};","Dn[An]=Dn[On]=Dn[xn]=Dn[Sn]=Dn[En]=Dn[kn]=Dn[In]=Dn[Pn]=Dn[_n]=true,Dn[sn]=Dn[pn]=Dn[wn]=Dn[hn]=Dn[yn]=Dn[vn]=Dn[gn]=Dn[\"[object Map]\"]=Dn[bn]=Dn[jn]=Dn[dn]=Dn[\"[object Set]\"]=Dn[mn]=Dn[\"[object WeakMap]\"]=false;var Nn={};Nn[sn]=Nn[pn]=Nn[wn]=Nn[hn]=Nn[yn]=Nn[An]=Nn[On]=Nn[xn]=Nn[Sn]=Nn[En]=Nn[bn]=Nn[jn]=Nn[dn]=Nn[mn]=Nn[kn]=Nn[In]=Nn[Pn]=Nn[_n]=true,Nn[vn]=Nn[gn]=Nn[\"[object Map]\"]=Nn[\"[object Set]\"]=Nn[\"[object WeakMap]\"]=false;var Rn={\"function\":true,object:true},qn=Rn[typeof exports]&&exports&&!exports.nodeType&&exports,Wn=Rn[typeof module]&&module&&!module.nodeType&&module,Vn=Rn[typeof self]&&self&&self.Object&&self,zn=Rn[typeof window]&&window&&window.Object&&window,Gn=Wn&&Wn.exports===qn&&qn,Hn=qn&&Wn&&typeof global==\"object\"&&global&&global.Object&&global||zn!==(this&&this.window)&&zn||Vn||this,Jn=function(){","try{Object({toString:0}+\"\")}catch(n){return function(){return false}}return function(n){return typeof n.toString!=\"function\"&&typeof(n+\"\")==\"string\"}}(),Kn=Array.prototype,Qn=Error.prototype,Xn=Object.prototype,Yn=String.prototype,Zn=Function.prototype.toString,nr=Xn.hasOwnProperty,rr=Xn.toString,tr=RegExp(\"^\"+Zn.call(nr).replace(/[\\\\^$.*+?()[\\]{}|]/g,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),er=Hn.ArrayBuffer,or=Xn.propertyIsEnumerable,ur=$(Hn,\"Set\"),cr=Kn.splice,ar=Hn.Uint8Array,ir=$(Object,\"create\"),fr=Math.floor,lr=$(Array,\"isArray\"),sr=$(Object,\"keys\"),pr=Math.max,hr=Math.min,yr=4294967294,vr=2147483647,gr=9007199254740991,br={};","br[An]=Hn.Float32Array,br[On]=Hn.Float64Array,br[xn]=Hn.Int8Array,br[Sn]=Hn.Int16Array,br[En]=Hn.Int32Array,br[kn]=ar,br[In]=Hn.Uint8ClampedArray,br[Pn]=Hn.Uint16Array,br[_n]=Hn.Uint32Array;var jr={};jr[pn]=jr[yn]=jr[bn]={constructor:true,toLocaleString:true,toString:true,valueOf:true},jr[hn]=jr[mn]={constructor:true,toString:true,valueOf:true},jr[vn]=jr[gn]=jr[dn]={constructor:true,toString:true},jr[jn]={constructor:true},c(Bn,function(n){for(var r in jr)if(nr.call(jr,r)){var t=jr[r];t[n]=nr.call(t,n)}});var dr=t.support={};","!function(n){function r(){this.x=n}var t={0:n,length:n},e=[];r.prototype={valueOf:n,y:n};for(var o in new r)e.push(o);dr.enumErrorProps=or.call(Qn,\"message\")||or.call(Qn,\"name\"),dr.enumPrototypes=or.call(r,\"prototype\"),dr.nonEnumShadows=!/valueOf/.test(e),dr.ownLast=\"x\"!=e[0],dr.spliceObjects=(cr.call(t,0,1),!t[0]),dr.unindexedChars=\"xx\"!=\"x\"[0]+Object(\"x\")[0]}(1,0);var mr=function(n){return function(r,t,e){var o=R(r);e=e(r);for(var u=e.length,c=n?u:-1;n?c--:++c<u;){var a=e[c];if(false===t(o[a],a,o))break;","}return r}}(),wr=w(\"length\"),Ar=function(n,r){return function(t,e,o){return typeof e==\"function\"&&o===an&&Or(t)?n(t,e):r(t,O(e,o,3))}}(c,function(n,r){return function(t,e){var o=t?wr(t):0;if(!D(o))return n(t,e);for(var u=r?o:-1,c=R(t);(r?u--:++u<o)&&false!==e(c[u],u,c););return t}}(y)),Or=lr||function(n){return r(n)&&D(n.length)&&rr.call(n)==pn},xr=S(m),Sr=S(function(n,r,t){if(t)for(var e=-1,o=kr(r),u=o.length;++e<u;){var c=o[e],a=n[c],f=t(a,r[c],c,n,r);(f===f?f===a:a!==a)&&(a!==an||c in n)||(n[c]=f);","}else n=i(n,r);return n}),Er=function(n,r){return G(function(t){var e=t[0];return null==e?e:(t.push(r),n.apply(an,t))})}(Sr,function(n,r){return n===an?r:n}),kr=sr?function(n){var r=null==n?an:n.constructor;return typeof r==\"function\"&&r.prototype===n||(typeof n==\"function\"?t.support.enumPrototypes:C(n))?N(n):K(n)?sr(n):[]}:N;e.prototype.push=function(n){var r=this.data;typeof n==\"string\"||K(n)?r.set.add(n):r.hash[n]=true},t.assign=Sr,t.callback=en,t.defaults=Er,t.flatten=function(n,r,t){var e=n?n.length:0;","return t&&T(n,r,t)&&(r=false),e?p(n,r):[]},t.flattenDeep=function(n){return n&&n.length?p(n,true):[]},t.forEach=Ar,t.keys=kr,t.keysIn=rn,t.matches=un,t.merge=xr,t.pairs=tn,t.property=cn,t.restParam=G,t.toPlainObject=nn,t.uniq=z,t.each=Ar,t.extend=Sr,t.iteratee=en,t.unique=z,t.cloneDeep=function(n,r,t){return typeof r==\"function\"?s(n,true,O(r,t,3)):s(n,true)},t.identity=on,t.indexOf=W,t.isArguments=H,t.isArray=Or,t.isFunction=J,t.isNative=Q,t.isObject=K,t.isPlainObject=X,t.isString=Y,t.isTypedArray=Z,t.last=V,","t.VERSION=\"3.10.1\",typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?(Hn._=t, define(function(){return t})):qn&&Wn?Gn?(Wn.exports=t)._=t:qn._=t:Hn._=t}).call(this);"],"l":{"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":1,"16":4,"17":1,"18":1,"19":1,"20":1,"21":0,"22":4,"23":4,"24":1,"25":1,"26":1,"27":1,"28":63,"29":3,"30":1,"31":1,"32":0,"33":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/bus.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/bus.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"b":{},"f":{"1":1},"fnMap":{"1":{"name":"Bus","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":15}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":33}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":40}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":27}}},"branchMap":{},"code":["var events = require('events');","var util = require('util');","","function Bus() {","  events.EventEmitter.call(this);","}","","util.inherits(Bus, events.EventEmitter);","module.exports = new Bus();"],"l":{"1":1,"2":1,"4":1,"5":1,"8":1,"9":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":0,"113":0,"114":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,1]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"fnMap":{"1":{"name":"create","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":18}}},"2":{"name":"defaultFilename","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":27}}},"3":{"name":"attachMethods","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":31}}},"4":{"name":"(anonymous_4)","line":33,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":41}}},"5":{"name":"loadFromText","line":45,"loc":{"start":{"line":45,"column":0},"end":{"line":45,"column":28}}},"6":{"name":"(anonymous_6)","line":46,"loc":{"start":{"line":46,"column":21},"end":{"line":46,"column":40}}},"7":{"name":"load","line":58,"loc":{"start":{"line":58,"column":0},"end":{"line":58,"column":29}}},"8":{"name":"(anonymous_8)","line":90,"loc":{"start":{"line":90,"column":28},"end":{"line":90,"column":47}}},"9":{"name":"(anonymous_9)","line":96,"loc":{"start":{"line":96,"column":55},"end":{"line":96,"column":70}}},"10":{"name":"(anonymous_10)","line":108,"loc":{"start":{"line":108,"column":28},"end":{"line":108,"column":40}}},"11":{"name":"(anonymous_11)","line":113,"loc":{"start":{"line":113,"column":37},"end":{"line":113,"column":54}}},"12":{"name":"(anonymous_12)","line":120,"loc":{"start":{"line":120,"column":10},"end":{"line":120,"column":25}}},"13":{"name":"mergePolicies","line":136,"loc":{"start":{"line":136,"column":0},"end":{"line":136,"column":44}}},"14":{"name":"(anonymous_14)","line":139,"loc":{"start":{"line":139,"column":36},"end":{"line":139,"column":51}}},"15":{"name":"(anonymous_15)","line":141,"loc":{"start":{"line":141,"column":11},"end":{"line":141,"column":31}}},"16":{"name":"(anonymous_16)","line":146,"loc":{"start":{"line":146,"column":37},"end":{"line":146,"column":55}}},"17":{"name":"(anonymous_17)","line":148,"loc":{"start":{"line":148,"column":11},"end":{"line":148,"column":29}}},"18":{"name":"(anonymous_18)","line":151,"loc":{"start":{"line":151,"column":39},"end":{"line":151,"column":54}}},"19":{"name":"(anonymous_19)","line":157,"loc":{"start":{"line":157,"column":13},"end":{"line":157,"column":25}}},"20":{"name":"mergePath","line":164,"loc":{"start":{"line":164,"column":0},"end":{"line":164,"column":61}}},"21":{"name":"(anonymous_21)","line":169,"loc":{"start":{"line":169,"column":36},"end":{"line":169,"column":50}}},"22":{"name":"(anonymous_22)","line":171,"loc":{"start":{"line":171,"column":44},"end":{"line":171,"column":60}}},"23":{"name":"save","line":192,"loc":{"start":{"line":192,"column":0},"end":{"line":192,"column":37}}},"24":{"name":"(anonymous_24)","line":200,"loc":{"start":{"line":200,"column":14},"end":{"line":200,"column":29}}},"25":{"name":"(anonymous_25)","line":206,"loc":{"start":{"line":206,"column":27},"end":{"line":206,"column":39}}},"26":{"name":"(anonymous_26)","line":208,"loc":{"start":{"line":208,"column":10},"end":{"line":208,"column":26}}},"27":{"name":"(anonymous_27)","line":215,"loc":{"start":{"line":215,"column":29},"end":{"line":215,"column":44}},"skip":true},"28":{"name":"(anonymous_28)","line":217,"loc":{"start":{"line":217,"column":11},"end":{"line":217,"column":24}},"skip":true}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":32}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":27}},"10":{"start":{"line":11,"column":0},"end":{"line":21,"column":2}},"11":{"start":{"line":23,"column":0},"end":{"line":25,"column":1}},"12":{"start":{"line":24,"column":2},"end":{"line":24,"column":26}},"13":{"start":{"line":28,"column":0},"end":{"line":30,"column":1}},"14":{"start":{"line":29,"column":2},"end":{"line":29,"column":46}},"15":{"start":{"line":32,"column":0},"end":{"line":43,"column":1}},"16":{"start":{"line":33,"column":2},"end":{"line":35,"column":4}},"17":{"start":{"line":34,"column":4},"end":{"line":34,"column":74}},"18":{"start":{"line":36,"column":2},"end":{"line":36,"column":40}},"19":{"start":{"line":37,"column":2},"end":{"line":37,"column":52}},"20":{"start":{"line":38,"column":2},"end":{"line":38,"column":52}},"21":{"start":{"line":39,"column":2},"end":{"line":39,"column":38}},"22":{"start":{"line":40,"column":2},"end":{"line":40,"column":54}},"23":{"start":{"line":41,"column":2},"end":{"line":41,"column":52}},"24":{"start":{"line":42,"column":2},"end":{"line":42,"column":16}},"25":{"start":{"line":45,"column":0},"end":{"line":56,"column":1}},"26":{"start":{"line":46,"column":2},"end":{"line":55,"column":25}},"27":{"start":{"line":47,"column":4},"end":{"line":47,"column":36}},"28":{"start":{"line":48,"column":4},"end":{"line":48,"column":25}},"29":{"start":{"line":50,"column":4},"end":{"line":50,"column":27}},"30":{"start":{"line":51,"column":4},"end":{"line":51,"column":28}},"31":{"start":{"line":52,"column":4},"end":{"line":52,"column":27}},"32":{"start":{"line":54,"column":4},"end":{"line":54,"column":20}},"33":{"start":{"line":58,"column":0},"end":{"line":134,"column":1}},"34":{"start":{"line":59,"column":2},"end":{"line":62,"column":3}},"35":{"start":{"line":60,"column":4},"end":{"line":60,"column":19}},"36":{"start":{"line":61,"column":4},"end":{"line":61,"column":16}},"37":{"start":{"line":64,"column":2},"end":{"line":66,"column":3}},"38":{"start":{"line":65,"column":4},"end":{"line":65,"column":25}},"39":{"start":{"line":68,"column":2},"end":{"line":70,"column":3}},"40":{"start":{"line":69,"column":4},"end":{"line":69,"column":17}},"41":{"start":{"line":72,"column":2},"end":{"line":72,"column":48}},"42":{"start":{"line":74,"column":2},"end":{"line":74,"column":20}},"43":{"start":{"line":75,"column":2},"end":{"line":84,"column":3}},"44":{"start":{"line":78,"column":4},"end":{"line":78,"column":23}},"45":{"start":{"line":80,"column":4},"end":{"line":82,"column":5}},"46":{"start":{"line":81,"column":6},"end":{"line":81,"column":41}},"47":{"start":{"line":83,"column":4},"end":{"line":83,"column":20}},"48":{"start":{"line":86,"column":2},"end":{"line":88,"column":3}},"49":{"start":{"line":87,"column":4},"end":{"line":87,"column":47}},"50":{"start":{"line":90,"column":2},"end":{"line":104,"column":5}},"51":{"start":{"line":91,"column":4},"end":{"line":93,"column":5}},"52":{"start":{"line":92,"column":6},"end":{"line":92,"column":37}},"53":{"start":{"line":95,"column":4},"end":{"line":101,"column":5}},"54":{"start":{"line":96,"column":6},"end":{"line":100,"column":10}},"55":{"start":{"line":97,"column":8},"end":{"line":97,"column":31}},"56":{"start":{"line":98,"column":8},"end":{"line":98,"column":42}},"57":{"start":{"line":99,"column":8},"end":{"line":99,"column":19}},"58":{"start":{"line":103,"column":4},"end":{"line":103,"column":62}},"59":{"start":{"line":106,"column":2},"end":{"line":111,"column":4}},"60":{"start":{"line":109,"column":6},"end":{"line":109,"column":16}},"61":{"start":{"line":113,"column":2},"end":{"line":133,"column":25}},"62":{"start":{"line":114,"column":4},"end":{"line":117,"column":5}},"63":{"start":{"line":115,"column":6},"end":{"line":115,"column":49}},"64":{"start":{"line":116,"column":6},"end":{"line":116,"column":34}},"65":{"start":{"line":119,"column":4},"end":{"line":119,"column":16}},"66":{"start":{"line":121,"column":4},"end":{"line":121,"column":24}},"67":{"start":{"line":123,"column":4},"end":{"line":123,"column":37}},"68":{"start":{"line":124,"column":4},"end":{"line":124,"column":56}},"69":{"start":{"line":126,"column":4},"end":{"line":130,"column":5}},"70":{"start":{"line":127,"column":6},"end":{"line":127,"column":31}},"71":{"start":{"line":129,"column":6},"end":{"line":129,"column":65}},"72":{"start":{"line":132,"column":4},"end":{"line":132,"column":18}},"73":{"start":{"line":136,"column":0},"end":{"line":161,"column":1}},"74":{"start":{"line":137,"column":2},"end":{"line":137,"column":70}},"75":{"start":{"line":139,"column":2},"end":{"line":160,"column":5}},"76":{"start":{"line":140,"column":4},"end":{"line":140,"column":30}},"77":{"start":{"line":143,"column":4},"end":{"line":143,"column":33}},"78":{"start":{"line":144,"column":4},"end":{"line":144,"column":35}},"79":{"start":{"line":146,"column":4},"end":{"line":159,"column":7}},"80":{"start":{"line":147,"column":6},"end":{"line":147,"column":31}},"81":{"start":{"line":149,"column":6},"end":{"line":149,"column":71}},"82":{"start":{"line":151,"column":6},"end":{"line":156,"column":9}},"83":{"start":{"line":152,"column":8},"end":{"line":152,"column":48}},"84":{"start":{"line":154,"column":8},"end":{"line":154,"column":68}},"85":{"start":{"line":155,"column":8},"end":{"line":155,"column":62}},"86":{"start":{"line":158,"column":6},"end":{"line":158,"column":24}},"87":{"start":{"line":164,"column":0},"end":{"line":190,"column":1}},"88":{"start":{"line":165,"column":2},"end":{"line":167,"column":3}},"89":{"start":{"line":166,"column":4},"end":{"line":166,"column":26}},"90":{"start":{"line":169,"column":2},"end":{"line":189,"column":5}},"91":{"start":{"line":171,"column":4},"end":{"line":179,"column":7}},"92":{"start":{"line":174,"column":6},"end":{"line":174,"column":40}},"93":{"start":{"line":175,"column":6},"end":{"line":175,"column":23}},"94":{"start":{"line":176,"column":6},"end":{"line":176,"column":50}},"95":{"start":{"line":177,"column":6},"end":{"line":177,"column":32}},"96":{"start":{"line":178,"column":6},"end":{"line":178,"column":21}},"97":{"start":{"line":182,"column":4},"end":{"line":185,"column":5}},"98":{"start":{"line":183,"column":6},"end":{"line":183,"column":46}},"99":{"start":{"line":184,"column":6},"end":{"line":184,"column":13}},"100":{"start":{"line":188,"column":4},"end":{"line":188,"column":73}},"101":{"start":{"line":192,"column":0},"end":{"line":211,"column":1}},"102":{"start":{"line":193,"column":2},"end":{"line":195,"column":22}},"103":{"start":{"line":197,"column":2},"end":{"line":197,"column":42}},"104":{"start":{"line":199,"column":2},"end":{"line":204,"column":3}},"105":{"start":{"line":200,"column":4},"end":{"line":202,"column":6}},"106":{"start":{"line":201,"column":6},"end":{"line":201,"column":34}},"107":{"start":{"line":203,"column":4},"end":{"line":203,"column":28}},"108":{"start":{"line":206,"column":2},"end":{"line":210,"column":30}},"109":{"start":{"line":207,"column":4},"end":{"line":207,"column":32}},"110":{"start":{"line":209,"column":4},"end":{"line":209,"column":40}},"111":{"start":{"line":214,"column":0},"end":{"line":220,"column":1}},"112":{"start":{"line":215,"column":2},"end":{"line":219,"column":5},"skip":true},"113":{"start":{"line":216,"column":4},"end":{"line":216,"column":44},"skip":true},"114":{"start":{"line":218,"column":4},"end":{"line":218,"column":25},"skip":true}},"branchMap":{"1":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":33},"end":{"line":34,"column":37}},{"start":{"line":34,"column":41},"end":{"line":34,"column":72}}]},"2":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":2},"end":{"line":59,"column":2}},{"start":{"line":59,"column":2},"end":{"line":59,"column":2}}]},"3":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":6},"end":{"line":59,"column":26}},{"start":{"line":59,"column":30},"end":{"line":59,"column":54}}]},"4":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":64,"column":2}},{"start":{"line":64,"column":2},"end":{"line":64,"column":2}}]},"5":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":2},"end":{"line":68,"column":2}},{"start":{"line":68,"column":2},"end":{"line":68,"column":2}}]},"6":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":75,"column":2}},{"start":{"line":75,"column":2},"end":{"line":75,"column":2}}]},"7":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":80,"column":4}},{"start":{"line":80,"column":4},"end":{"line":80,"column":4}}]},"8":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":2},"end":{"line":86,"column":2}},{"start":{"line":86,"column":2},"end":{"line":86,"column":2}}]},"9":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"10":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]},"11":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":21}},{"start":{"line":95,"column":25},"end":{"line":95,"column":44}}]},"12":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":4},"end":{"line":114,"column":4}},{"start":{"line":114,"column":4},"end":{"line":114,"column":4}}]},"13":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":21}},{"start":{"line":114,"column":25},"end":{"line":114,"column":48}}]},"14":{"line":124,"type":"binary-expr","locations":[{"start":{"line":124,"column":23},"end":{"line":124,"column":39}},{"start":{"line":124,"column":43},"end":{"line":124,"column":55}}]},"15":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":4}},{"start":{"line":126,"column":4},"end":{"line":126,"column":4}}]},"16":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":21}},{"start":{"line":126,"column":25},"end":{"line":126,"column":43}}]},"17":{"line":137,"type":"cond-expr","locations":[{"start":{"line":137,"column":49},"end":{"line":137,"column":57}},{"start":{"line":137,"column":60},"end":{"line":137,"column":69}}]},"18":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":2},"end":{"line":165,"column":2}},{"start":{"line":165,"column":2},"end":{"line":165,"column":2}}]},"19":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":4},"end":{"line":182,"column":4}},{"start":{"line":182,"column":4},"end":{"line":182,"column":4}}]},"20":{"line":193,"type":"cond-expr","locations":[{"start":{"line":194,"column":4},"end":{"line":194,"column":31}},{"start":{"line":195,"column":4},"end":{"line":195,"column":21}}]},"21":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":2},"end":{"line":199,"column":2}},{"start":{"line":199,"column":2},"end":{"line":199,"column":2}}]},"22":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":0},"end":{"line":214,"column":0},"skip":true},{"start":{"line":214,"column":0},"end":{"line":214,"column":0}}]}},"code":["var fs = require('then-fs');","var path = require('path');","var debug = require('debug')('snyk:policy');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var match = require('./match');","var parse = require('./parser');","var tryRequire = require('snyk-try-require');","var filter = require('./filter');","var add = require('./add');","","module.exports = {","  filter: filter,","  demunge: parse.demunge,","  load: load,","  save: save,","  getByVuln: match.getByVuln,","  matchToRule: match.matchToRule,","  loadFromText: loadFromText,","  add: add,","  create: create,","};","","function create() {","  return loadFromText('');","}","","// this is a function to allow our tests and fixtures to change cwd","function defaultFilename() {","  return path.resolve(process.cwd(), '.snyk');","}","","function attachMethods(policy) {","  policy.filter = function (vulns, root) {","    return filter(vulns, policy, root || path.dirname(policy.__filename));","  };","  policy.save = save.bind(null, policy);","  policy.toString = parse.export.bind(null, policy);","  policy.demunge = parse.demunge.bind(null, policy);","  policy.add = add.bind(null, policy);","  policy.addIgnore = add.bind(null, policy, 'ignore');","  policy.addPatch = add.bind(null, policy, 'patch');","  return policy;","}","","function loadFromText(text) {","  return new Promise(function (resolve) {","    var policy = parse.import(text);","    var now = Date.now();","","    policy.__filename = '';","    policy.__modified = now;","    policy.__created = now;","","    resolve(policy);","  }).then(attachMethods);","}","","function load(root, options) {","  if (!Array.isArray(root) && typeof root !== 'string') {","    options = root;","    root = null;","  }","","  if (!root) {","    root = process.cwd();","  }","","  if (!options) {","    options = {};","  }","","  var ignorePolicy = !!options['ignore-policy'];","","  var filename = '';","  if (Array.isArray(root)) {","    // we do a bit of a dance to get the first item in the array, and","    // use it as our filename","    filename = root[0];","  } else {","    if (root.indexOf('.snyk') === -1) {","      root = path.resolve(root, '.snyk');","    }","    filename = root;","  }","","  if (filename.indexOf('.snyk') === -1) {","    filename = path.resolve(filename, '.snyk');","  }","","  var promise = new Promise(function (resolve) {","    if (ignorePolicy) {","      return resolve(parse.import());","    }","","    if (!ignorePolicy && Array.isArray(root)) {","      return resolve(mergePolicies(root, options).then(function (res) {","        debug('final policy:');","        debug(JSON.stringify(res, '', 2));","        return res;","      }));","    }","","    resolve(fs.readFile(filename, 'utf8').then(parse.import));","  });","","  var promises = [","    promise,","    fs.stat(filename).catch(function () {","      return {};","    }),","  ];","","  return Promise.all(promises).catch(function (error) {","    if (options.loose && error.code === 'ENOENT') {","      debug('ENOENT on file, but running loose');","      return [parse.import(), {}];","    }","","    throw error;","  }).then(function (res) {","    var policy = res[0];","","    policy.__modified = res[1].mtime;","    policy.__created = res[1].birthtime || res[1].ctime;","","    if (options.loose && !policy.__modified) {","      policy.__filename = null;","    } else {","      policy.__filename = path.relative(process.cwd(), filename);","    }","","    return policy;","  }).then(attachMethods);","}","","function mergePolicies(policyDirs, options) {","  var ignoreTarget = options['trust-policies'] ? 'ignore' : 'suggest';","","  return Promise.all(policyDirs.map(function (dir) {","    return load(dir, options);","  })).then(function (policies) {","    // firstly extend the paths in the ignore and patch","    var rootPolicy = policies[0];","    var others = policies.slice(1);","","    return Promise.all(others.filter(function (policy) {","      return policy.__filename; // filter out non loaded policies","    }).map(function (policy) {","      var filename = path.dirname(policy.__filename) + '/package.json';","","      return tryRequire(filename).then(function (pkg) {","        var full = pkg.name + '@' + pkg.version;","","        mergePath('ignore', ignoreTarget, full, rootPolicy, policy);","        mergePath('patch', 'patch', full, rootPolicy, policy);","      });","    })).then(function () {","      return rootPolicy;","    });","  });","}","","// note: mutates both objects, be warned!","function mergePath(type, into, pathRoot, rootPolicy, policy) {","  if (!rootPolicy[into]) {","    rootPolicy[into] = {};","  }","","  Object.keys(policy[type]).forEach(function (id) {","    // convert the path from `module@version` to `parent > module@version`","    policy[type][id] = policy[type][id].map(function (path) {","      // this is because our policy file format favours \"readable\" yaml,","      // instead of easy to use object structures.","      var key = Object.keys(path).pop();","      var newPath = {};","      newPath[pathRoot + ' > ' + key] = path[key];","      path[key].from = pathRoot;","      return newPath;","    });","","    // add the rule if we don't have it in our policy already","    if (!rootPolicy[into][id]) {","      rootPolicy[into][id] = policy[type][id];","      return;","    }","","    // otherwise we need to merge up manually","    rootPolicy[into][id] = rootPolicy[into][id].concat(policy[type][id]);","  });","}","","function save(object, root, spinner) {","  var filename = root ?","    path.resolve(root, '.snyk') :","    defaultFilename();","","  var lbl = 'Saving .snyk policy file...';","","  if (!spinner) {","    spinner = function (res) {","      return Promise.resolve(res);","    };","    spinner.clear = spinner;","  }","","  return spinner(lbl).then(function () {","    return parse.export(object);","  }).then(function (yaml) {","    return fs.writeFile(filename, yaml);","  }).then(spinner.clear(lbl));","}","","/* istanbul ignore if */","if (!module.parent) {","  load(process.argv[2]).then(function (res) {","    console.log(JSON.stringify(res, '', 2));","  }).catch(function (e) {","    console.log(e.stack);","  });","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"11":1,"23":1,"24":0,"28":1,"29":0,"32":1,"33":0,"34":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"45":1,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"54":0,"58":1,"59":0,"60":0,"61":0,"64":0,"65":0,"68":0,"69":0,"72":0,"74":0,"75":0,"78":0,"80":0,"81":0,"83":0,"86":0,"87":0,"90":0,"91":0,"92":0,"95":0,"96":0,"97":0,"98":0,"99":0,"103":0,"106":0,"109":0,"113":0,"114":0,"115":0,"116":0,"119":0,"121":0,"123":0,"124":0,"126":0,"127":0,"129":0,"132":0,"136":1,"137":0,"139":0,"140":0,"143":0,"144":0,"146":0,"147":0,"149":0,"151":0,"152":0,"154":0,"155":0,"158":0,"164":1,"165":0,"166":0,"169":0,"171":0,"174":0,"175":0,"176":0,"177":0,"178":0,"182":0,"183":0,"184":0,"188":0,"192":1,"193":0,"197":0,"199":0,"200":0,"201":0,"203":0,"206":0,"207":0,"209":0,"214":1,"215":1,"216":1,"218":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/match.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/match.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"matchPath","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":31}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":24},"end":{"line":24,"column":42}}},"3":{"name":"matchToRule","line":113,"loc":{"start":{"line":113,"column":0},"end":{"line":113,"column":33}}},"4":{"name":"(anonymous_4)","line":114,"loc":{"start":{"line":114,"column":32},"end":{"line":114,"column":48}}},"5":{"name":"matchToSingleRule","line":119,"loc":{"start":{"line":119,"column":0},"end":{"line":119,"column":39}}},"6":{"name":"getByVuln","line":133,"loc":{"start":{"line":133,"column":0},"end":{"line":133,"column":33}}},"7":{"name":"(anonymous_7)","line":140,"loc":{"start":{"line":140,"column":30},"end":{"line":140,"column":45}}},"8":{"name":"(anonymous_8)","line":141,"loc":{"start":{"line":141,"column":43},"end":{"line":141,"column":56}}},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":31},"end":{"line":143,"column":47}}},"10":{"name":"(anonymous_10)","line":151,"loc":{"start":{"line":151,"column":48},"end":{"line":151,"column":63}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":2}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":51}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":44}},"6":{"start":{"line":20,"column":0},"end":{"line":111,"column":1}},"7":{"start":{"line":21,"column":2},"end":{"line":21,"column":32}},"8":{"start":{"line":22,"column":2},"end":{"line":22,"column":54}},"9":{"start":{"line":23,"column":2},"end":{"line":23,"column":17}},"10":{"start":{"line":24,"column":2},"end":{"line":108,"column":5}},"11":{"start":{"line":25,"column":4},"end":{"line":25,"column":64}},"12":{"start":{"line":26,"column":4},"end":{"line":26,"column":75}},"13":{"start":{"line":28,"column":4},"end":{"line":64,"column":5}},"14":{"start":{"line":29,"column":6},"end":{"line":29,"column":31}},"15":{"start":{"line":32,"column":6},"end":{"line":34,"column":7}},"16":{"start":{"line":33,"column":8},"end":{"line":33,"column":20}},"17":{"start":{"line":36,"column":6},"end":{"line":36,"column":46}},"18":{"start":{"line":41,"column":6},"end":{"line":61,"column":7}},"19":{"start":{"line":42,"column":8},"end":{"line":42,"column":34}},"20":{"start":{"line":44,"column":8},"end":{"line":60,"column":9}},"21":{"start":{"line":46,"column":10},"end":{"line":48,"column":11}},"22":{"start":{"line":47,"column":12},"end":{"line":47,"column":25}},"23":{"start":{"line":49,"column":10},"end":{"line":49,"column":53}},"24":{"start":{"line":50,"column":10},"end":{"line":50,"column":48}},"25":{"start":{"line":52,"column":10},"end":{"line":57,"column":11}},"26":{"start":{"line":54,"column":12},"end":{"line":54,"column":21}},"27":{"start":{"line":55,"column":12},"end":{"line":55,"column":44}},"28":{"start":{"line":56,"column":12},"end":{"line":56,"column":18}},"29":{"start":{"line":58,"column":10},"end":{"line":58,"column":40}},"30":{"start":{"line":59,"column":10},"end":{"line":59,"column":19}},"31":{"start":{"line":63,"column":6},"end":{"line":63,"column":18}},"32":{"start":{"line":66,"column":4},"end":{"line":66,"column":43}},"33":{"start":{"line":68,"column":4},"end":{"line":71,"column":5}},"34":{"start":{"line":69,"column":6},"end":{"line":69,"column":33}},"35":{"start":{"line":70,"column":6},"end":{"line":70,"column":18}},"36":{"start":{"line":75,"column":4},"end":{"line":77,"column":5}},"37":{"start":{"line":76,"column":6},"end":{"line":76,"column":18}},"38":{"start":{"line":79,"column":4},"end":{"line":79,"column":37}},"39":{"start":{"line":81,"column":4},"end":{"line":81,"column":36}},"40":{"start":{"line":86,"column":4},"end":{"line":88,"column":5}},"41":{"start":{"line":87,"column":6},"end":{"line":87,"column":35}},"42":{"start":{"line":91,"column":4},"end":{"line":102,"column":5}},"43":{"start":{"line":92,"column":6},"end":{"line":95,"column":7}},"44":{"start":{"line":93,"column":8},"end":{"line":93,"column":43}},"45":{"start":{"line":94,"column":8},"end":{"line":94,"column":20}},"46":{"start":{"line":97,"column":6},"end":{"line":101,"column":7}},"47":{"start":{"line":99,"column":8},"end":{"line":99,"column":36}},"48":{"start":{"line":100,"column":8},"end":{"line":100,"column":20}},"49":{"start":{"line":105,"column":4},"end":{"line":105,"column":32}},"50":{"start":{"line":107,"column":4},"end":{"line":107,"column":17}},"51":{"start":{"line":109,"column":2},"end":{"line":109,"column":55}},"52":{"start":{"line":110,"column":2},"end":{"line":110,"column":13}},"53":{"start":{"line":113,"column":0},"end":{"line":117,"column":1}},"54":{"start":{"line":114,"column":2},"end":{"line":116,"column":5}},"55":{"start":{"line":115,"column":4},"end":{"line":115,"column":41}},"56":{"start":{"line":119,"column":0},"end":{"line":131,"column":1}},"57":{"start":{"line":121,"column":2},"end":{"line":121,"column":24}},"58":{"start":{"line":122,"column":2},"end":{"line":122,"column":32}},"59":{"start":{"line":123,"column":2},"end":{"line":128,"column":3}},"60":{"start":{"line":124,"column":4},"end":{"line":124,"column":51}},"61":{"start":{"line":125,"column":4},"end":{"line":125,"column":21}},"62":{"start":{"line":126,"column":9},"end":{"line":128,"column":3}},"63":{"start":{"line":127,"column":4},"end":{"line":127,"column":21}},"64":{"start":{"line":130,"column":2},"end":{"line":130,"column":19}},"65":{"start":{"line":133,"column":0},"end":{"line":161,"column":1}},"66":{"start":{"line":134,"column":2},"end":{"line":134,"column":19}},"67":{"start":{"line":136,"column":2},"end":{"line":138,"column":3}},"68":{"start":{"line":137,"column":4},"end":{"line":137,"column":17}},"69":{"start":{"line":140,"column":2},"end":{"line":158,"column":5}},"70":{"start":{"line":141,"column":4},"end":{"line":157,"column":7}},"71":{"start":{"line":142,"column":6},"end":{"line":156,"column":7}},"72":{"start":{"line":143,"column":8},"end":{"line":155,"column":11}},"73":{"start":{"line":144,"column":10},"end":{"line":154,"column":11}},"74":{"start":{"line":145,"column":12},"end":{"line":149,"column":14}},"75":{"start":{"line":150,"column":12},"end":{"line":150,"column":51}},"76":{"start":{"line":151,"column":12},"end":{"line":153,"column":15}},"77":{"start":{"line":152,"column":14},"end":{"line":152,"column":47}},"78":{"start":{"line":160,"column":2},"end":{"line":160,"column":15}}},"branchMap":{"1":{"line":26,"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":69}},{"start":{"line":26,"column":72},"end":{"line":26,"column":74}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]},"3":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":6},"end":{"line":32,"column":6}},{"start":{"line":32,"column":6},"end":{"line":32,"column":6}}]},"4":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":6},"end":{"line":41,"column":6}},{"start":{"line":41,"column":6},"end":{"line":41,"column":6}}]},"5":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":10},"end":{"line":46,"column":10}},{"start":{"line":46,"column":10},"end":{"line":46,"column":10}}]},"6":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":10},"end":{"line":52,"column":10}},{"start":{"line":52,"column":10},"end":{"line":52,"column":10}}]},"7":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]},"8":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]},"9":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]},"10":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"11":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":6}},{"start":{"line":92,"column":6},"end":{"line":92,"column":6}}]},"12":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":6},"end":{"line":97,"column":6}},{"start":{"line":97,"column":6},"end":{"line":97,"column":6}}]},"13":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":10},"end":{"line":97,"column":39}},{"start":{"line":98,"column":8},"end":{"line":98,"column":53}}]},"14":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":2},"end":{"line":123,"column":2}},{"start":{"line":123,"column":2},"end":{"line":123,"column":2}}]},"15":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":9},"end":{"line":126,"column":9}},{"start":{"line":126,"column":9},"end":{"line":126,"column":9}}]},"16":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":2},"end":{"line":136,"column":2}},{"start":{"line":136,"column":2},"end":{"line":136,"column":2}}]},"17":{"line":136,"type":"binary-expr","locations":[{"start":{"line":136,"column":6},"end":{"line":136,"column":13}},{"start":{"line":136,"column":17},"end":{"line":136,"column":22}}]},"18":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":16},"end":{"line":141,"column":27}},{"start":{"line":141,"column":31},"end":{"line":141,"column":33}}]},"19":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":6},"end":{"line":142,"column":6}},{"start":{"line":142,"column":6},"end":{"line":142,"column":6}}]},"20":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":10},"end":{"line":144,"column":10}},{"start":{"line":144,"column":10},"end":{"line":144,"column":10}}]}},"code":["module.exports = {","  matchToRule: matchToRule,","  getByVuln: getByVuln,","};","","var debug = require('debug')('snyk:policy');","var debugPolicy = require('debug')('snyk:protect');","var semver = require('semver');","var moduleToObject = require('snyk-module');","","// matchPath will take the array of dependencies that a vulnerability came from","// and try to match it to a string `path`. The path will look like this:","// express-hbs@0.8.4 > handlebars@3.0.3 > uglify-js@2.3.6","// note that the root package is never part of the path (i.e. jsbin@3.11.31)","// the path can also use `*` as a wildcard _and_ use semver:","// * > uglify-js@2.x","// The matchPath will break the `path` down into it's component parts, and loop","// through trying to get a positive match or not. For full examples of options","// see http://git.io/vCH3N","function matchPath(from, path) {","  var parts = path.split(' > ');","  debugPolicy('checking path: %s vs. %s', path, from);","  var offset = 0;","  var res = parts.every(function (pkg, i) {","    debugPolicy('for %s...(against %s)', pkg, from[i + offset]);","    var fromPkg = from[i + offset] ? moduleToObject(from[i + offset]) : {};","","    if (pkg === '*') {","      debugPolicy('star rule');","","      // handle the rule being `*` alone","      if (!parts[i + 1]) {","        return true;","      }","","      var next = moduleToObject(parts[i + 1]);","","      // assuming we're not at the end of the rule path, then try to find","      // the next matching package in the chain. So `* > semver` matches","      // `foo > bar > semver`","      if (next) {","        debugPolicy('next', next);","        // move forward until we find a matching package","        for (var j = i; i < parts.length; j++) {","          // if we've run out of paths, then we didn't match","          if (!from[i + offset]) {","            return false;","          }","          fromPkg = moduleToObject(from[i + offset]);","          debugPolicy('fromPkg', fromPkg, next);","","          if (next.name === fromPkg.name) {","            // adjust for the `i` index incrementing in the next .every call","            offset--;","            debugPolicy('next has a match');","            break;","          }","          debugPolicy('pushing offset');","          offset++;","        }","      }","","      return true;","    }","","    debugPolicy('next test', pkg, fromPkg);","","    if (pkg === from[i + offset]) {","      debugPolicy('exact match');","      return true;","    }","","    // if we're missing the @version - add @* so the pkg is foobar@*","    // so we have a good semver range","    if (pkg.indexOf('@') === -1) {","      pkg += '@*';","    }","","    var target = moduleToObject(pkg);","","    var pkgVersion = target.version;","","    // the * semver rule won't match pre-releases, which in our case is a","    // problem, so if the version is indeed *, we'll reset it to the exact same","    // version as our target package to allow for a match.","    if (pkgVersion === '*') {","      pkgVersion = fromPkg.version;","    }","","    // shortcut version match, if it's exact, then skip the semver check","    if (target.name === fromPkg.name) {","      if (fromPkg.version === pkgVersion) {","        debugPolicy('exact version match');","        return true;","      }","","      if (semver.valid(fromPkg.version) &&","        semver.satisfies(fromPkg.version, pkgVersion)) {","        debugPolicy('semver match');","        return true;","      }","    }","","","    debugPolicy('failed match');","","    return false;","  });","  debugPolicy('result of path test %s: %s', path, res);","  return res;","}","","function matchToRule(vuln, rule) {","  return Object.keys(rule).some(function (path) {","    return matchToSingleRule(vuln, path);","  });","}","","function matchToSingleRule(vuln, path) {","  // check for an exact match","  var pathMatch = false;","  var from = vuln.from.slice(1);","  if (path.indexOf(from.join(' > ')) !== -1) {","    debug('%s exact match from %s', vuln.id, from);","    pathMatch = true;","  } else if (matchPath(from, path)) {","    pathMatch = true;","  }","","  return pathMatch;","}","","function getByVuln(policy, vuln) {","  var found = null;","","  if (!policy || !vuln) {","    return found;","  }","","  ['ignore', 'patch'].forEach(function (key) {","    Object.keys(policy[key] || []).forEach(function (p) {","      if (p === vuln.id) {","        policy[key][p].forEach(function (rule) {","          if (matchToRule(vuln, rule)) {","            found = {","              type: key,","              id: vuln.id,","              rule: vuln.from,","            };","            var rootRule = Object.keys(rule).pop();","            Object.keys(rule[rootRule]).forEach(function (key) {","              found[key] = rule[rootRule][key];","            });","          }","        });","      }","    });","  });","","  return found;","}"],"l":{"1":1,"6":1,"7":1,"8":1,"9":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"28":0,"29":0,"32":0,"33":0,"36":0,"41":0,"42":0,"44":0,"46":0,"47":0,"49":0,"50":0,"52":0,"54":0,"55":0,"56":0,"58":0,"59":0,"63":0,"66":0,"68":0,"69":0,"70":0,"75":0,"76":0,"79":0,"81":0,"86":0,"87":0,"91":0,"92":0,"93":0,"94":0,"97":0,"99":0,"100":0,"105":0,"107":0,"109":0,"110":0,"113":1,"114":0,"115":0,"119":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"130":0,"133":1,"134":0,"136":0,"137":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"150":0,"151":0,"152":0,"160":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/parser/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/parser/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":1,"33":1,"34":1,"35":1,"36":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[1,0],"11":[1,1]},"f":{"1":0,"2":0,"3":0,"4":1},"fnMap":{"1":{"name":"imports","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":26}}},"2":{"name":"exports","line":42,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":25}}},"3":{"name":"(anonymous_3)","line":46,"loc":{"start":{"line":46,"column":24},"end":{"line":46,"column":39}}},"4":{"name":"version","line":67,"loc":{"start":{"line":67,"column":0},"end":{"line":67,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"6":{"start":{"line":7,"column":0},"end":{"line":12,"column":2}},"7":{"start":{"line":14,"column":0},"end":{"line":16,"column":2}},"8":{"start":{"line":18,"column":0},"end":{"line":40,"column":1}},"9":{"start":{"line":19,"column":2},"end":{"line":19,"column":42}},"10":{"start":{"line":21,"column":2},"end":{"line":23,"column":3}},"11":{"start":{"line":22,"column":4},"end":{"line":22,"column":14}},"12":{"start":{"line":25,"column":2},"end":{"line":27,"column":3}},"13":{"start":{"line":26,"column":4},"end":{"line":26,"column":29}},"14":{"start":{"line":29,"column":2},"end":{"line":31,"column":3}},"15":{"start":{"line":30,"column":4},"end":{"line":30,"column":28}},"16":{"start":{"line":33,"column":2},"end":{"line":33,"column":67}},"17":{"start":{"line":35,"column":2},"end":{"line":37,"column":3}},"18":{"start":{"line":36,"column":4},"end":{"line":36,"column":60}},"19":{"start":{"line":39,"column":2},"end":{"line":39,"column":22}},"20":{"start":{"line":42,"column":0},"end":{"line":65,"column":1}},"21":{"start":{"line":43,"column":2},"end":{"line":43,"column":31}},"22":{"start":{"line":46,"column":2},"end":{"line":59,"column":5}},"23":{"start":{"line":47,"column":4},"end":{"line":49,"column":5}},"24":{"start":{"line":48,"column":6},"end":{"line":48,"column":23}},"25":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"26":{"start":{"line":52,"column":6},"end":{"line":52,"column":23}},"27":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"28":{"start":{"line":57,"column":6},"end":{"line":57,"column":23}},"29":{"start":{"line":62,"column":2},"end":{"line":62,"column":27}},"30":{"start":{"line":64,"column":2},"end":{"line":64,"column":42}},"31":{"start":{"line":67,"column":0},"end":{"line":76,"column":1}},"32":{"start":{"line":68,"column":2},"end":{"line":68,"column":69}},"33":{"start":{"line":69,"column":2},"end":{"line":69,"column":42}},"34":{"start":{"line":71,"column":2},"end":{"line":73,"column":3}},"35":{"start":{"line":72,"column":4},"end":{"line":72,"column":25}},"36":{"start":{"line":75,"column":2},"end":{"line":75,"column":18}}},"branchMap":{"1":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":27},"end":{"line":19,"column":34}},{"start":{"line":19,"column":38},"end":{"line":19,"column":40}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":21,"column":2}},{"start":{"line":21,"column":2},"end":{"line":21,"column":2}}]},"3":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":11}},{"start":{"line":21,"column":15},"end":{"line":21,"column":39}}]},"4":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"5":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":2},"end":{"line":29,"column":2}},{"start":{"line":29,"column":2},"end":{"line":29,"column":2}}]},"6":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":35,"column":2}},{"start":{"line":35,"column":2},"end":{"line":35,"column":2}}]},"7":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":4}},{"start":{"line":47,"column":4},"end":{"line":47,"column":4}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"10":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":2},"end":{"line":71,"column":2}},{"start":{"line":71,"column":2},"end":{"line":71,"column":2}}]},"11":{"line":71,"type":"binary-expr","locations":[{"start":{"line":71,"column":6},"end":{"line":71,"column":13}},{"start":{"line":71,"column":17},"end":{"line":71,"column":36}}]}},"code":["var path = require('path');","var cloneDeep = require('lodash.clonedeep');","var semver = require('semver');","var yaml = require('js-yaml');","var addComments = require('./add-comments');","","module.exports = {","  import: imports,","  export: exports,","  demunge: require('./demunge'),","  version: version(),","};","","var parsers = {","  v1: require('./v1'),","};","","function imports(rawYaml) {","  var data = yaml.safeLoad(rawYaml || '');","","  if (!data || typeof data !== 'object') {","    data = {};","  }","","  if (!data.version) {","    data.version = version();","  }","","  if (data.version === 'v1') {","    data.version = 'v1.0.0';","  }","","  var parser = parsers['v' + semver.major(data.version.substr(1))];","","  if (!parser) {","    throw new Error('unsupported version: ' + data.version);","  }","","  return parser(data);","}","","function exports(policy) {","  var data = cloneDeep(policy);","","  // remove any private information on the policy","  Object.keys(data).map(function (key) {","    if (key.indexOf('__') === 0) {","      delete data[key];","    }","","    if (data[key] == null) { // jshint ignore:line","      delete data[key];","    }","","    // strip helper functions","    if (typeof data[key] === 'function') {","      delete data[key];","    }","  });","","  // ensure we always update the version of the policy format","  data.version = version();","  // put inline comments into the exported yaml file","  return addComments(yaml.safeDump(data));","}","","function version() {","  var filename = path.resolve(__dirname, '..', '..', 'package.json');","  var version = require(filename).version;","","  if (version && version !== '0.0.0') {","    return 'v' + version;","  }","","  return 'v1.0.0';","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"14":1,"18":1,"19":0,"21":0,"22":0,"25":0,"26":0,"29":0,"30":0,"33":0,"35":0,"36":0,"39":0,"42":1,"43":0,"46":0,"47":0,"48":0,"51":0,"52":0,"56":0,"57":0,"62":0,"64":0,"67":1,"68":1,"69":1,"71":1,"72":1,"75":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/parser/add-comments.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/parser/add-comments.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"addComments","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":35}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":38},"end":{"line":15,"column":53}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":4,"column":54}},"3":{"start":{"line":5,"column":0},"end":{"line":9,"column":2}},"4":{"start":{"line":11,"column":0},"end":{"line":23,"column":1}},"5":{"start":{"line":12,"column":2},"end":{"line":12,"column":39}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":32}},"7":{"start":{"line":15,"column":2},"end":{"line":20,"column":5}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":44}},"9":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"10":{"start":{"line":18,"column":6},"end":{"line":18,"column":53}},"11":{"start":{"line":22,"column":2},"end":{"line":22,"column":26}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]}},"code":["module.exports = addComments;","","var initialComment = '# Snyk (https://snyk.io) policy file, patches or ' +","                     'ignores known vulnerabilities.';","var inlineComments = {","  ignore: '# ignores vulnerabilities until expiry date; change duration by ' +","          'modifying expiry date',","  patch: '# patches apply the minimum changes required to fix a vulnerability',","};","","function addComments(policyExport) {","  var lines = policyExport.split('\\n');","  lines.unshift(initialComment);","","  Object.keys(inlineComments).forEach(function (key) {","    var position = lines.indexOf(key + ':');","    if (position !== -1) {","      lines.splice(position, 0, inlineComments[key]);","    }","  });","","  return lines.join('\\n');","}",""],"l":{"1":1,"3":1,"5":1,"11":1,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/parser/demunge.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/parser/demunge.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"demunge","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":39},"end":{"line":8,"column":60}}},"3":{"name":"(anonymous_3)","line":9,"loc":{"start":{"line":9,"column":61},"end":{"line":9,"column":75}}},"4":{"name":"(anonymous_4)","line":10,"loc":{"start":{"line":10,"column":39},"end":{"line":10,"column":58}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":3,"column":0},"end":{"line":34,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":6,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":17}},"5":{"start":{"line":8,"column":2},"end":{"line":29,"column":9}},"6":{"start":{"line":9,"column":4},"end":{"line":27,"column":12}},"7":{"start":{"line":10,"column":6},"end":{"line":21,"column":9}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":46}},"9":{"start":{"line":12,"column":8},"end":{"line":14,"column":10}},"10":{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},"11":{"start":{"line":16,"column":10},"end":{"line":16,"column":44}},"12":{"start":{"line":17,"column":10},"end":{"line":17,"column":56}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":19}},"14":{"start":{"line":22,"column":6},"end":{"line":26,"column":8}},"15":{"start":{"line":28,"column":4},"end":{"line":28,"column":15}},"16":{"start":{"line":31,"column":2},"end":{"line":31,"column":31}},"17":{"start":{"line":33,"column":2},"end":{"line":33,"column":13}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]},"2":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":31},"end":{"line":27,"column":6}},{"start":{"line":27,"column":9},"end":{"line":27,"column":11}}]},"3":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":8}},{"start":{"line":15,"column":8},"end":{"line":15,"column":8}}]}},"code":["module.exports = demunge;","","function demunge(policy, apiRoot) {","  if (!apiRoot) {","    apiRoot = '';","  }","","  var res = ['ignore', 'patch'].reduce(function (acc, type) {","    acc[type] = policy[type] ? Object.keys(policy[type]).map(function (id) {","      var paths = policy[type][id].map(function (pathObj) {","        var path = Object.keys(pathObj).pop();","        var res = {","          path: path,","        };","        if (type === 'ignore') {","          res.reason = pathObj[path].reason;","          res.expires = new Date(pathObj[path].expires);","        }","","        return res;","      });","      return {","        id: id,","        url: apiRoot + '/vuln/' + id,","        paths: paths,","      };","    }) : [];","    return acc;","  }, {});","","  res.version = policy.version;","","  return res;","}"],"l":{"1":1,"3":1,"4":0,"5":0,"8":0,"9":0,"10":0,"11":0,"12":0,"15":0,"16":0,"17":0,"20":0,"22":0,"28":0,"31":0,"33":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/parser/v1.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/parser/v1.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"imports","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":42}}},"2":{"name":"checkForOldFormat","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":35}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":30},"end":{"line":30,"column":44}}},"4":{"name":"validate","line":39,"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":26}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":16},"end":{"line":43,"column":32}}},"6":{"name":"needsFixing","line":51,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":29}}},"7":{"name":"(anonymous_7)","line":53,"loc":{"start":{"line":53,"column":30},"end":{"line":53,"column":44}}},"8":{"name":"(anonymous_8)","line":54,"loc":{"start":{"line":54,"column":23},"end":{"line":54,"column":39}}},"9":{"name":"(anonymous_9)","line":64,"loc":{"start":{"line":64,"column":19},"end":{"line":64,"column":34}}},"10":{"name":"getFailThreshold","line":78,"loc":{"start":{"line":78,"column":0},"end":{"line":78,"column":34}}},"11":{"name":"(anonymous_11)","line":88,"loc":{"start":{"line":88,"column":9},"end":{"line":88,"column":24}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":22,"column":2}},"2":{"start":{"line":4,"column":2},"end":{"line":6,"column":3}},"3":{"start":{"line":5,"column":4},"end":{"line":5,"column":23}},"4":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":22}},"6":{"start":{"line":12,"column":2},"end":{"line":12,"column":35}},"7":{"start":{"line":13,"column":2},"end":{"line":13,"column":26}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":25}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":50}},"10":{"start":{"line":17,"column":2},"end":{"line":19,"column":3}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":32}},"12":{"start":{"line":21,"column":2},"end":{"line":21,"column":16}},"13":{"start":{"line":24,"column":0},"end":{"line":24,"column":41}},"14":{"start":{"line":26,"column":0},"end":{"line":37,"column":1}},"15":{"start":{"line":30,"column":2},"end":{"line":36,"column":5}},"16":{"start":{"line":31,"column":4},"end":{"line":35,"column":5}},"17":{"start":{"line":32,"column":6},"end":{"line":32,"column":70}},"18":{"start":{"line":33,"column":6},"end":{"line":33,"column":40}},"19":{"start":{"line":34,"column":6},"end":{"line":34,"column":18}},"20":{"start":{"line":39,"column":0},"end":{"line":49,"column":1}},"21":{"start":{"line":40,"column":2},"end":{"line":40,"column":32}},"22":{"start":{"line":42,"column":2},"end":{"line":48,"column":3}},"23":{"start":{"line":43,"column":4},"end":{"line":47,"column":7}},"24":{"start":{"line":44,"column":6},"end":{"line":44,"column":17}},"25":{"start":{"line":45,"column":6},"end":{"line":45,"column":30}},"26":{"start":{"line":46,"column":6},"end":{"line":46,"column":30}},"27":{"start":{"line":51,"column":0},"end":{"line":76,"column":1}},"28":{"start":{"line":52,"column":2},"end":{"line":52,"column":16}},"29":{"start":{"line":53,"column":2},"end":{"line":73,"column":5}},"30":{"start":{"line":54,"column":4},"end":{"line":72,"column":7}},"31":{"start":{"line":55,"column":6},"end":{"line":55,"column":35}},"32":{"start":{"line":56,"column":6},"end":{"line":56,"column":19}},"33":{"start":{"line":58,"column":6},"end":{"line":60,"column":7}},"34":{"start":{"line":59,"column":8},"end":{"line":59,"column":15}},"35":{"start":{"line":64,"column":6},"end":{"line":71,"column":9}},"36":{"start":{"line":65,"column":8},"end":{"line":69,"column":11}},"37":{"start":{"line":70,"column":8},"end":{"line":70,"column":25}},"38":{"start":{"line":75,"column":2},"end":{"line":75,"column":36}},"39":{"start":{"line":78,"column":0},"end":{"line":108,"column":1}},"40":{"start":{"line":79,"column":2},"end":{"line":79,"column":23}},"41":{"start":{"line":82,"column":2},"end":{"line":91,"column":5}},"42":{"start":{"line":90,"column":4},"end":{"line":90,"column":43}},"43":{"start":{"line":93,"column":2},"end":{"line":95,"column":3}},"44":{"start":{"line":94,"column":4},"end":{"line":94,"column":16}},"45":{"start":{"line":97,"column":2},"end":{"line":97,"column":40}},"46":{"start":{"line":99,"column":2},"end":{"line":99,"column":45}},"47":{"start":{"line":101,"column":2},"end":{"line":105,"column":3}},"48":{"start":{"line":102,"column":4},"end":{"line":102,"column":73}},"49":{"start":{"line":103,"column":4},"end":{"line":103,"column":40}},"50":{"start":{"line":104,"column":4},"end":{"line":104,"column":16}},"51":{"start":{"line":107,"column":2},"end":{"line":107,"column":19}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":2},"end":{"line":42,"column":2}},{"start":{"line":42,"column":2},"end":{"line":42,"column":2}}]},"6":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":6},"end":{"line":58,"column":6}},{"start":{"line":58,"column":6},"end":{"line":58,"column":6}}]},"7":{"line":75,"type":"cond-expr","locations":[{"start":{"line":75,"column":23},"end":{"line":75,"column":27}},{"start":{"line":75,"column":30},"end":{"line":75,"column":35}}]},"8":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":23},"end":{"line":90,"column":34}},{"start":{"line":90,"column":38},"end":{"line":90,"column":42}}]},"9":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":2},"end":{"line":93,"column":2}},{"start":{"line":93,"column":2},"end":{"line":93,"column":2}}]},"10":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]}},"code":["// eventually we'll have v2 which will point to latestParser, and v1 will","// need to process the old form of data and upgrade it to v2 structure","module.exports = function imports(policy) {","  if (!policy.ignore) {","    policy.ignore = {};","  }","","  if (!policy.patch) {","    policy.patch = {};","  }","","  checkForOldFormat(policy.ignore); // this is only an old issue on ignores","  validate(policy.ignore);","  validate(policy.patch);","","  policy.failThreshold = getFailThreshold(policy);","  if (!policy.failThreshold) { // throw it away if it's not set","    delete policy.failThreshold;","  }","","  return policy;","};","","module.exports.needsFixing = needsFixing;","","function checkForOldFormat(ignore) {","  // this is a cursory test to ensure that we're working with a snyk format","  // that we recognise. if the property is an object, then it's the early","  // alpha format, and we'll throw","  Object.keys(ignore).forEach(function (id) {","    if (!Array.isArray(ignore[id])) {","      var error = new Error('old, unsupported .snyk format detected');","      error.code = 'OLD_DOTFILE_FORMAT';","      throw error;","    }","  });","}","","function validate(policy) {","  var fix = needsFixing(policy);","","  if (fix) {","    fix.forEach(function (item) {","      var o = {};","      o[item.key] = item.rule;","      policy[item.id].push(o);","    });","  }","}","","function needsFixing(policy) {","  var move = [];","  Object.keys(policy).forEach(function (id) {","    policy[id].forEach(function (rule) {","      var keys = Object.keys(rule);","      keys.shift(); // drop the first","","      if (keys === 0) {","        return;","      }","","      // this means our policy has become corrupted, and we need to move","      // the additional keys into their own position in the policy","      keys.forEach(function (key) {","        move.push({","          id: id,","          key: key,","          rule: rule[key],","        });","        delete rule[key];","      });","    });","  });","","  return move.length ? move : false;","}","","function getFailThreshold(policy) {","  var threshold = null;","","  // pluck the value out, and support all sorts of silly typos","  [","    'failThreshold',","    'fail_threshold',","    'failthreshold',","    'threshold',","    'fail_threshhold',","  ].some(function (key) {","    // if we have the value, set it and return it - which will exit loop","    return threshold = policy[key] || null; // jshint ignore:line","  });","","  if (!threshold) {","    return null;","  }","","  var valid = ['high', 'medium', 'low'];","","  threshold = threshold.toLowerCase().trim();","","  if (valid.indexOf(threshold) === -1) {","    var error = new Error('unknown threshold value \"' + threshold + '\"');","    error.code = 'POLICY_BAD_THRESHOLD';","    throw error;","  }","","  return threshold;","}",""],"l":{"3":1,"4":0,"5":0,"8":0,"9":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"21":0,"24":1,"26":1,"30":0,"31":0,"32":0,"33":0,"34":0,"39":1,"40":0,"42":0,"43":0,"44":0,"45":0,"46":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"58":0,"59":0,"64":0,"65":0,"70":0,"75":0,"78":1,"79":0,"82":0,"90":0,"93":0,"94":0,"97":0,"99":0,"101":0,"102":0,"103":0,"104":0,"107":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"filter","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}}},"2":{"name":"(anonymous_2)","line":67,"loc":{"start":{"line":67,"column":31},"end":{"line":67,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"6":{"start":{"line":9,"column":0},"end":{"line":76,"column":1}},"7":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":25}},"9":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"10":{"start":{"line":15,"column":4},"end":{"line":15,"column":17}},"11":{"start":{"line":18,"column":2},"end":{"line":21,"column":4}},"12":{"start":{"line":24,"column":2},"end":{"line":28,"column":4}},"13":{"start":{"line":30,"column":2},"end":{"line":36,"column":4}},"14":{"start":{"line":38,"column":2},"end":{"line":44,"column":3}},"15":{"start":{"line":39,"column":4},"end":{"line":43,"column":6}},"16":{"start":{"line":48,"column":2},"end":{"line":51,"column":3}},"17":{"start":{"line":49,"column":4},"end":{"line":49,"column":20}},"18":{"start":{"line":50,"column":4},"end":{"line":50,"column":31}},"19":{"start":{"line":53,"column":2},"end":{"line":53,"column":28}},"20":{"start":{"line":55,"column":2},"end":{"line":55,"column":53}},"21":{"start":{"line":57,"column":2},"end":{"line":73,"column":3}},"22":{"start":{"line":60,"column":4},"end":{"line":64,"column":6}},"23":{"start":{"line":65,"column":4},"end":{"line":65,"column":45}},"24":{"start":{"line":66,"column":4},"end":{"line":66,"column":20}},"25":{"start":{"line":67,"column":4},"end":{"line":72,"column":7}},"26":{"start":{"line":68,"column":6},"end":{"line":71,"column":7}},"27":{"start":{"line":69,"column":8},"end":{"line":69,"column":25}},"28":{"start":{"line":70,"column":8},"end":{"line":70,"column":20}},"29":{"start":{"line":75,"column":2},"end":{"line":75,"column":15}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"3":{"line":34,"type":"cond-expr","locations":[{"start":{"line":34,"column":29},"end":{"line":34,"column":33}},{"start":{"line":34,"column":36},"end":{"line":34,"column":41}}]},"4":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"5":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":2},"end":{"line":48,"column":2}},{"start":{"line":48,"column":2},"end":{"line":48,"column":2}}]},"6":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]},"7":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":6},"end":{"line":57,"column":26}},{"start":{"line":57,"column":30},"end":{"line":57,"column":48}}]},"8":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":6},"end":{"line":68,"column":6}},{"start":{"line":68,"column":6},"end":{"line":68,"column":6}}]}},"code":["module.exports = filter;","","var debug = require('debug')('snyk:policy');","var ignore = require('./ignore');","var patch = require('./patch');","var notes = require('./notes');","","// warning: mutates vulns","function filter(vulns, policy, root) {","  if (!root) {","    root = process.cwd();","  }","","  if (vulns.ok) {","    return vulns;","  }","","  var filtered = {","    ignore: [],","    patch: [],","  };","","  // strip the ignored modules from the results","  vulns.vulnerabilities = ignore(","    policy.ignore,","    vulns.vulnerabilities,","    filtered.ignore","  );","","  vulns.vulnerabilities = patch(","    policy.patch,","    vulns.vulnerabilities,","    root,","    policy.skipVerifyPatch ? true : false,","    filtered.patch","  );","","  if (policy.suggest) {","    vulns.vulnerabilities = notes(","      policy.suggest,","      vulns.vulnerabilities,","      root","    );","  }","","  // if there's no vulns after the ignore process, let's reset the `ok`","  // state and remove the vulns entirely.","  if (vulns.vulnerabilities.length === 0) {","    vulns.ok = true;","    vulns.vulnerabilities = [];","  }","","  vulns.filtered = filtered;","","  debug('> has threshold? %s', policy.failThreshold);","","  if (policy.failThreshold && vulns.ok === false) {","    // check what's left and switch the failure flag if there's anything","    // under our threshold","    var levels = {","      high: 3,","      medium: 2,","      low: 1,","    };","    var level = levels[policy.failThreshold];","    vulns.ok = true;","    vulns.vulnerabilities.some(function (vuln) {","      if (levels[vuln.severity] >= level) {","        vulns.ok = false;","        return true; // breaks","      }","    });","  }","","  return vulns;","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"9":1,"10":0,"11":0,"14":0,"15":0,"18":0,"24":0,"30":0,"38":0,"39":0,"48":0,"49":0,"50":0,"53":0,"55":0,"57":0,"60":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"75":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/ignore.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/ignore.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"filterIgnored","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":47}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":18},"end":{"line":21,"column":34}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":46},"end":{"line":34,"column":62}}},"4":{"name":"(anonymous_4)","line":57,"loc":{"start":{"line":57,"column":34},"end":{"line":57,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"4":{"start":{"line":9,"column":0},"end":{"line":66,"column":1}},"5":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":16}},"7":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":18}},"9":{"start":{"line":18,"column":2},"end":{"line":18,"column":29}},"10":{"start":{"line":19,"column":2},"end":{"line":19,"column":34}},"11":{"start":{"line":21,"column":2},"end":{"line":65,"column":21}},"12":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"13":{"start":{"line":23,"column":6},"end":{"line":23,"column":18}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":35}},"15":{"start":{"line":34,"column":4},"end":{"line":53,"column":7}},"16":{"start":{"line":35,"column":6},"end":{"line":35,"column":38}},"17":{"start":{"line":36,"column":6},"end":{"line":36,"column":39}},"18":{"start":{"line":39,"column":6},"end":{"line":39,"column":46}},"19":{"start":{"line":41,"column":6},"end":{"line":44,"column":7}},"20":{"start":{"line":42,"column":8},"end":{"line":42,"column":65}},"21":{"start":{"line":43,"column":8},"end":{"line":43,"column":21}},"22":{"start":{"line":46,"column":6},"end":{"line":50,"column":7}},"23":{"start":{"line":47,"column":8},"end":{"line":48,"column":42}},"24":{"start":{"line":49,"column":8},"end":{"line":49,"column":20}},"25":{"start":{"line":52,"column":6},"end":{"line":52,"column":19}},"26":{"start":{"line":55,"column":4},"end":{"line":62,"column":5}},"27":{"start":{"line":56,"column":6},"end":{"line":60,"column":8}},"28":{"start":{"line":58,"column":10},"end":{"line":58,"column":44}},"29":{"start":{"line":61,"column":6},"end":{"line":61,"column":26}},"30":{"start":{"line":64,"column":4},"end":{"line":64,"column":46}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"4":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":6},"end":{"line":41,"column":6}},{"start":{"line":41,"column":6},"end":{"line":41,"column":6}}]},"5":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":10},"end":{"line":41,"column":19}},{"start":{"line":41,"column":23},"end":{"line":41,"column":36}}]},"6":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":6},"end":{"line":46,"column":6}},{"start":{"line":46,"column":6},"end":{"line":46,"column":6}}]},"7":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":4}},{"start":{"line":55,"column":4},"end":{"line":55,"column":4}}]},"8":{"line":64,"type":"cond-expr","locations":[{"start":{"line":64,"column":33},"end":{"line":64,"column":38}},{"start":{"line":64,"column":41},"end":{"line":64,"column":45}}]}},"code":["module.exports = filterIgnored;","","var debug = require('debug')('snyk:policy');","var matchToRule = require('../match').matchToRule;","","// given an ignore ruleset (parsed from the .snyk yaml file) and a array of","// vulnerabilities, return the vulnerabilities that *are not* ignored","// see http://git.io/vCHmV for example of what ignore structure looks like","function filterIgnored(ignore, vuln, filtered) {","  if (!ignore) {","    return vuln;","  }","","  if (!filtered) {","    filtered = [];","  }","","  debug('filtering ignored');","  var now = (new Date()).toJSON();","","  return vuln.map(function (vuln) {","    if (!ignore[vuln.id]) {","      return vuln;","    }","","    debug('%s has rules', vuln.id);","","    // logic: loop through all rules (from `ignore[vuln.id]`), and if *any* dep","    // paths match our vuln.from dep chain AND the rule hasn't expired, then the","    // vulnerability is ignored. if none of the rules match, then let we'll","    // keep it.","","    // if rules.find, then ignore vuln","    var appliedRules = ignore[vuln.id].filter(function (rule) {","      var path = Object.keys(rule)[0]; // this is a string","      var expires = rule[path].expires;","","      // first check if the path is a match on the rule","      var pathMatch = matchToRule(vuln, rule);","","      if (pathMatch && expires < now) {","        debug('%s vuln rule has expired (%s)', vuln.id, expires);","        return false;","      }","","      if (pathMatch) {","        debug('ignoring based on path match: %s ~= %s', path,","          vuln.from.slice(1).join(' > '));","        return true;","      }","","      return false;","    });","","    if (appliedRules.length) {","      vuln.filtered = {","        ignored: appliedRules.map(function (rule) {","          return rule[Object.keys(rule)[0]];","        }),","      };","      filtered.push(vuln);","    }","","    return appliedRules.length ? false : vuln;","  }).filter(Boolean);","}",""],"l":{"1":1,"3":1,"4":1,"9":1,"10":0,"11":0,"14":0,"15":0,"18":0,"19":0,"21":0,"22":0,"23":0,"26":0,"34":0,"35":0,"36":0,"39":0,"41":0,"42":0,"43":0,"46":0,"47":0,"49":0,"52":0,"55":0,"56":0,"58":0,"61":0,"64":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/patch.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/patch.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"filterPatched","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":78}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":35}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":41},"end":{"line":34,"column":57}}},"4":{"name":"(anonymous_4)","line":50,"loc":{"start":{"line":50,"column":40},"end":{"line":50,"column":52}}},"5":{"name":"(anonymous_5)","line":77,"loc":{"start":{"line":77,"column":34},"end":{"line":77,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":38}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":49}},"7":{"start":{"line":10,"column":0},"end":{"line":86,"column":1}},"8":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":17}},"10":{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":25}},"12":{"start":{"line":20,"column":2},"end":{"line":20,"column":29}},"13":{"start":{"line":21,"column":2},"end":{"line":85,"column":21}},"14":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"15":{"start":{"line":23,"column":6},"end":{"line":23,"column":18}},"16":{"start":{"line":26,"column":4},"end":{"line":26,"column":35}},"17":{"start":{"line":34,"column":4},"end":{"line":47,"column":23}},"18":{"start":{"line":37,"column":6},"end":{"line":37,"column":46}},"19":{"start":{"line":39,"column":6},"end":{"line":44,"column":7}},"20":{"start":{"line":40,"column":8},"end":{"line":40,"column":40}},"21":{"start":{"line":41,"column":8},"end":{"line":42,"column":42}},"22":{"start":{"line":43,"column":8},"end":{"line":43,"column":20}},"23":{"start":{"line":46,"column":6},"end":{"line":46,"column":19}},"24":{"start":{"line":50,"column":4},"end":{"line":73,"column":7}},"25":{"start":{"line":52,"column":6},"end":{"line":54,"column":7}},"26":{"start":{"line":53,"column":8},"end":{"line":53,"column":20}},"27":{"start":{"line":56,"column":6},"end":{"line":56,"column":50}},"28":{"start":{"line":58,"column":6},"end":{"line":58,"column":42}},"29":{"start":{"line":59,"column":6},"end":{"line":59,"column":63}},"30":{"start":{"line":60,"column":6},"end":{"line":60,"column":71}},"31":{"start":{"line":61,"column":6},"end":{"line":61,"column":22}},"32":{"start":{"line":62,"column":6},"end":{"line":68,"column":7}},"33":{"start":{"line":63,"column":8},"end":{"line":63,"column":29}},"34":{"start":{"line":65,"column":8},"end":{"line":67,"column":22}},"35":{"start":{"line":66,"column":10},"end":{"line":66,"column":34}},"36":{"start":{"line":70,"column":6},"end":{"line":70,"column":46}},"37":{"start":{"line":72,"column":6},"end":{"line":72,"column":19}},"38":{"start":{"line":75,"column":4},"end":{"line":82,"column":5}},"39":{"start":{"line":76,"column":6},"end":{"line":80,"column":8}},"40":{"start":{"line":78,"column":10},"end":{"line":78,"column":44}},"41":{"start":{"line":81,"column":6},"end":{"line":81,"column":33}},"42":{"start":{"line":84,"column":4},"end":{"line":84,"column":46}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"4":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":6},"end":{"line":39,"column":6}},{"start":{"line":39,"column":6},"end":{"line":39,"column":6}}]},"5":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":6}},{"start":{"line":52,"column":6},"end":{"line":52,"column":6}}]},"6":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]},"7":{"line":84,"type":"cond-expr","locations":[{"start":{"line":84,"column":33},"end":{"line":84,"column":38}},{"start":{"line":84,"column":41},"end":{"line":84,"column":45}}]}},"code":["module.exports = filterPatched;","","var debug = require('debug')('snyk:policy');","var matchToRule = require('../match').matchToRule;","var path = require('path');","var statSync = require('fs').statSync;","var getVulnSource = require('./get-vuln-source');","","// cwd is used for testing","function filterPatched(patched, vulns, cwd, skipVerifyPatch, filteredPatches) {","  if (!patched) {","    return vulns;","  }","","  if (!filteredPatches) {","    filteredPatches = [];","  }","","","  debug('filtering patched');","  return vulns.map(function (vuln) {","    if (!patched[vuln.id]) {","      return vuln;","    }","","    debug('%s has rules', vuln.id);","","    // logic: loop through all rules (from `patched[vuln.id]`), and if *any* dep","    // paths match our vuln.from dep chain AND a flag exists, then the","    // vulnerability is ignored. if none of the rules match, then let we'll","    // keep it.","","    // if rules.find, then ignore vuln","    var vulnRules = patched[vuln.id].map(function (rule) {","","      // first check if the path is a match on the rule","      var pathMatch = matchToRule(vuln, rule);","","      if (pathMatch) {","        var path = Object.keys(rule)[0]; // this is a string","        debug('(patch) ignoring based on path match: %s ~= %s', path,","          vuln.from.slice(1).join(' > '));","        return rule;","      }","","      return false;","    }).filter(Boolean);","","    // run through the potential rules to check if there's a patch flag in place","    var appliedRules = vulnRules.filter(function () {","      // the target directory where our module name will live","      if (skipVerifyPatch) {","        return true;","      }","","      var source = getVulnSource(vuln, cwd, true);","","      var id = vuln.id.replace(/:/g, '-');","      var flag = path.resolve(source, '.snyk-' + id + '.flag');","      var oldFlag = path.resolve(source, '.snyk-' + vuln.id + '.flag');","      var res = false;","      try {","        res = statSync(flag);","      } catch (e) {","        try {","          res = statSync(oldFlag);","        } catch (e) {}","      }","","      debug('flag found for %s? %s', vuln.id);","","      return !!res;","    });","","    if (appliedRules.length) {","      vuln.filtered = {","        patches: appliedRules.map(function (rule) {","          return rule[Object.keys(rule)[0]];","        }),","      };","      filteredPatches.push(vuln);","    }","","    return appliedRules.length ? false : vuln;","  }).filter(Boolean);","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"10":1,"11":0,"12":0,"15":0,"16":0,"20":0,"21":0,"22":0,"23":0,"26":0,"34":0,"37":0,"39":0,"40":0,"41":0,"43":0,"46":0,"50":0,"52":0,"53":0,"56":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"65":0,"66":0,"70":0,"72":0,"75":0,"76":0,"78":0,"81":0,"84":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/get-vuln-source.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/get-vuln-source.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"getVulnSource","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":40}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":36},"end":{"line":12,"column":51}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":38}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":38}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":44}},"7":{"start":{"line":11,"column":0},"end":{"line":49,"column":1}},"8":{"start":{"line":12,"column":2},"end":{"line":14,"column":5}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":36}},"10":{"start":{"line":16,"column":2},"end":{"line":20,"column":4}},"11":{"start":{"line":22,"column":2},"end":{"line":24,"column":14}},"12":{"start":{"line":27,"column":2},"end":{"line":46,"column":3}},"13":{"start":{"line":28,"column":4},"end":{"line":28,"column":21}},"14":{"start":{"line":34,"column":4},"end":{"line":44,"column":5}},"15":{"start":{"line":35,"column":6},"end":{"line":35,"column":59}},"16":{"start":{"line":37,"column":6},"end":{"line":39,"column":7}},"17":{"start":{"line":38,"column":8},"end":{"line":38,"column":16}},"18":{"start":{"line":45,"column":4},"end":{"line":45,"column":57}},"19":{"start":{"line":48,"column":2},"end":{"line":48,"column":16}}},"branchMap":{"1":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":7}},{"start":{"line":17,"column":11},"end":{"line":17,"column":24}}]},"2":{"line":22,"type":"cond-expr","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":35}},{"start":{"line":24,"column":6},"end":{"line":24,"column":13}}]},"3":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":6},"end":{"line":37,"column":6}},{"start":{"line":37,"column":6},"end":{"line":37,"column":6}}]}},"code":["// FIXME move to ext module","","module.exports = getVulnSource;","","var debug = require('debug')('snyk:policy');","var resolve = require('snyk-resolve');","var path = require('path');","var statSync = require('fs').statSync;","var moduleToObject = require('snyk-module');","","function getVulnSource(vuln, cwd, live) {","  var from = vuln.from.slice(1).map(function (pkg) {","    return moduleToObject(pkg).name;","  });","","  var viaPath = path.resolve(","    cwd || process.cwd(),","    'node_modules',","    from.join('/node_modules/')","  );","","  var source = vuln.__filename ?","      path.dirname(vuln.__filename) :","      viaPath;","","  // try to stat the directory, if it throws, it doesn't exist...","  try {","    statSync(source);","  } catch (e) {","    // ...which means the package is located in a parent path (from an","    // npm dedupe process), so we remove the module name from the path","    // and use the `resolve` package to navigate the node_modules up","    // through parent directories.","    try {","      source = resolve.sync(from.slice(-1).pop(), viaPath);","    } catch (e) {","      if (live) {","        throw e;","      }","","      // otherwise this is a dry run so we don't mind that it won't be","      // able to patch - likely a scenario run, so it's fine that the","      // patch target won't be found","    }","    debug('found better source for package: %s', source);","  }","","  return source;","}","",""],"l":{"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"11":1,"12":0,"13":0,"16":0,"22":0,"27":0,"28":0,"34":0,"35":0,"37":0,"38":0,"45":0,"48":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/notes.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/filter/notes.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"attachNotes","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":18},"end":{"line":13,"column":34}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":27},"end":{"line":21,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"4":{"start":{"line":6,"column":0},"end":{"line":47,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":9,"column":3}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":16}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":27}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":34}},"9":{"start":{"line":13,"column":2},"end":{"line":46,"column":5}},"10":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"11":{"start":{"line":15,"column":6},"end":{"line":15,"column":18}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":35}},"13":{"start":{"line":21,"column":4},"end":{"line":43,"column":7}},"14":{"start":{"line":22,"column":6},"end":{"line":22,"column":38}},"15":{"start":{"line":23,"column":6},"end":{"line":23,"column":39}},"16":{"start":{"line":26,"column":6},"end":{"line":26,"column":46}},"17":{"start":{"line":28,"column":6},"end":{"line":31,"column":7}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":65}},"19":{"start":{"line":30,"column":8},"end":{"line":30,"column":21}},"20":{"start":{"line":33,"column":6},"end":{"line":40,"column":7}},"21":{"start":{"line":35,"column":8},"end":{"line":35,"column":78}},"22":{"start":{"line":36,"column":8},"end":{"line":37,"column":42}},"23":{"start":{"line":38,"column":8},"end":{"line":39,"column":66}},"24":{"start":{"line":42,"column":6},"end":{"line":42,"column":19}},"25":{"start":{"line":45,"column":4},"end":{"line":45,"column":16}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":6},"end":{"line":28,"column":6}},{"start":{"line":28,"column":6},"end":{"line":28,"column":6}}]},"4":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":10},"end":{"line":28,"column":19}},{"start":{"line":28,"column":23},"end":{"line":28,"column":36}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":6}},{"start":{"line":33,"column":6},"end":{"line":33,"column":6}}]}},"code":["module.exports = attachNotes;","","var debug = require('debug')('snyk:policy');","var matchToRule = require('../match').matchToRule;","","function attachNotes(notes, vuln) {","  if (!notes) {","    return vuln;","  }","  debug('attaching notes');","  var now = (new Date()).toJSON();","","  return vuln.map(function (vuln) {","    if (!notes[vuln.id]) {","      return vuln;","    }","","    debug('%s has rules', vuln.id);","","    // if rules.some, then add note to the vuln","    notes[vuln.id].forEach(function (rule) {","      var path = Object.keys(rule)[0]; // this is a string","      var expires = rule[path].expires;","","      // first check if the path is a match on the rule","      var pathMatch = matchToRule(vuln, rule);","","      if (pathMatch && expires < now) {","        debug('%s vuln rule has expired (%s)', vuln.id, expires);","        return false;","      }","","      if (pathMatch) {","        // strip any control characters in the 3rd party reason file","        var reason = rule[path].reason.replace('/[\\x00-\\x1F\\x7F-\\x9F]/u', '');","        debug('adding note based on path match: %s ~= %s', path,","          vuln.from.slice(1).join(' > '));","        vuln.note = 'Snyk policy in ' + rule[path].from +","          ' suggests ignoring this issue, with reason: ' + reason;","      }","","      return false;","    });","","    return vuln;","  });","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"8":0,"10":0,"11":0,"13":0,"14":0,"15":0,"18":0,"21":0,"22":0,"23":0,"26":0,"28":0,"29":0,"30":0,"33":0,"35":0,"36":0,"38":0,"42":0,"45":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/add.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-policy/lib/add.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"add","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":41},"end":{"line":16,"column":62}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":5,"column":0},"end":{"line":40,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":73}},"6":{"start":{"line":10,"column":2},"end":{"line":12,"column":3}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":70}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":22}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":26}},"10":{"start":{"line":16,"column":2},"end":{"line":23,"column":9}},"11":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"12":{"start":{"line":18,"column":6},"end":{"line":18,"column":17}},"13":{"start":{"line":21,"column":4},"end":{"line":21,"column":30}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":15}},"15":{"start":{"line":25,"column":2},"end":{"line":27,"column":3}},"16":{"start":{"line":26,"column":4},"end":{"line":26,"column":26}},"17":{"start":{"line":30,"column":2},"end":{"line":32,"column":3}},"18":{"start":{"line":31,"column":4},"end":{"line":31,"column":69},"skip":true},"19":{"start":{"line":34,"column":2},"end":{"line":34,"column":16}},"20":{"start":{"line":35,"column":2},"end":{"line":35,"column":20}},"21":{"start":{"line":37,"column":2},"end":{"line":37,"column":30}},"22":{"start":{"line":39,"column":2},"end":{"line":39,"column":16}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":6},"end":{"line":6,"column":23}},{"start":{"line":6,"column":27},"end":{"line":6,"column":43}}]},"3":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"4":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":14}},{"start":{"line":10,"column":18},"end":{"line":10,"column":29}},{"start":{"line":10,"column":33},"end":{"line":10,"column":46}}]},"5":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"6":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":21}},{"start":{"line":17,"column":25},"end":{"line":17,"column":40}}]},"7":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"8":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":2},"end":{"line":30,"column":2},"skip":true},{"start":{"line":30,"column":2},"end":{"line":30,"column":2}}]}},"code":["module.exports = add;","","var debug = require('debug')('snyk:policy');","","function add(policy, type, options) {","  if (type !== 'ignore' && type !== 'patch') {","    throw new Error('policy.add: unknown type \"' + type + '\" to add to');","  }","","  if (!options || !options.id || !options.path) {","    throw new Error('policy.add: required option props { id, path }');","  }","","  var id = options.id;","  var path = options.path;","  var data = Object.keys(options).reduce(function (acc, curr) {","    if (curr === 'id' || curr === 'path') {","      return acc;","    }","","    acc[curr] = options[curr];","    return acc;","  }, {});","","  if (!policy[type][id]) {","    policy[type][id] = [];","  }","","  /* istanbul ignore if */","  if (policy[type][id][path]) {","    debug('policy.add: path already exists', policy[type][id][path]);","  }","","  var rule = {};","  rule[path] = data;","","  policy[type][id].push(rule);","","  return policy;","}",""],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"10":0,"11":0,"14":0,"15":0,"16":0,"17":0,"18":0,"21":0,"22":0,"25":0,"26":0,"30":0,"31":1,"34":0,"35":0,"37":0,"39":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/args.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/args.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1,"28":1,"29":1,"30":0,"31":1,"32":0,"33":1,"34":1,"35":0,"36":1,"37":1,"38":1,"39":1,"40":0,"41":0,"42":0,"43":1,"44":1,"45":0,"46":0,"47":0,"48":1,"49":0,"50":1,"51":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,1],"6":[0,0],"7":[0,1],"8":[0,1],"9":[1,0],"10":[1,0,0],"11":[0,1],"12":[1,1],"13":[1,0],"14":[1,1],"15":[0,1],"16":[1,1],"17":[0,1],"18":[0,0],"19":[0,1],"20":[1,1,1,1,1,1,1]},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"args","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":27}}},"2":{"name":"reduce","line":11,"loc":{"start":{"line":11,"column":41},"end":{"line":11,"column":67}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":5,"column":9}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":18}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":17}},"6":{"start":{"line":9,"column":0},"end":{"line":116,"column":1}},"7":{"start":{"line":11,"column":2},"end":{"line":33,"column":16}},"8":{"start":{"line":12,"column":4},"end":{"line":30,"column":5}},"9":{"start":{"line":13,"column":6},"end":{"line":13,"column":25}},"10":{"start":{"line":15,"column":6},"end":{"line":27,"column":7}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":31}},"12":{"start":{"line":17,"column":13},"end":{"line":27,"column":7}},"13":{"start":{"line":18,"column":8},"end":{"line":18,"column":27}},"14":{"start":{"line":19,"column":8},"end":{"line":24,"column":9}},"15":{"start":{"line":20,"column":10},"end":{"line":20,"column":26}},"16":{"start":{"line":22,"column":10},"end":{"line":22,"column":37}},"17":{"start":{"line":23,"column":10},"end":{"line":23,"column":47}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":24}},"19":{"start":{"line":29,"column":6},"end":{"line":29,"column":22}},"20":{"start":{"line":32,"column":4},"end":{"line":32,"column":15}},"21":{"start":{"line":37,"column":2},"end":{"line":43,"column":3}},"22":{"start":{"line":38,"column":4},"end":{"line":38,"column":24}},"23":{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},"24":{"start":{"line":40,"column":6},"end":{"line":40,"column":40}},"25":{"start":{"line":42,"column":4},"end":{"line":42,"column":36}},"26":{"start":{"line":45,"column":2},"end":{"line":45,"column":39}},"27":{"start":{"line":49,"column":2},"end":{"line":49,"column":34}},"28":{"start":{"line":53,"column":2},"end":{"line":53,"column":31}},"29":{"start":{"line":56,"column":2},"end":{"line":58,"column":3}},"30":{"start":{"line":57,"column":4},"end":{"line":57,"column":35}},"31":{"start":{"line":61,"column":2},"end":{"line":63,"column":3}},"32":{"start":{"line":62,"column":4},"end":{"line":62,"column":24}},"33":{"start":{"line":65,"column":2},"end":{"line":75,"column":3}},"34":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"35":{"start":{"line":68,"column":6},"end":{"line":68,"column":25}},"36":{"start":{"line":70,"column":4},"end":{"line":70,"column":21}},"37":{"start":{"line":72,"column":4},"end":{"line":74,"column":5}},"38":{"start":{"line":73,"column":6},"end":{"line":73,"column":43}},"39":{"start":{"line":77,"column":2},"end":{"line":85,"column":3}},"40":{"start":{"line":82,"column":4},"end":{"line":82,"column":33}},"41":{"start":{"line":83,"column":4},"end":{"line":83,"column":26}},"42":{"start":{"line":84,"column":4},"end":{"line":84,"column":32}},"43":{"start":{"line":87,"column":2},"end":{"line":87,"column":28}},"44":{"start":{"line":89,"column":2},"end":{"line":95,"column":3}},"45":{"start":{"line":91,"column":4},"end":{"line":94,"column":5}},"46":{"start":{"line":92,"column":6},"end":{"line":92,"column":39}},"47":{"start":{"line":93,"column":6},"end":{"line":93,"column":27}},"48":{"start":{"line":98,"column":2},"end":{"line":107,"column":3}},"49":{"start":{"line":106,"column":4},"end":{"line":106,"column":22}},"50":{"start":{"line":109,"column":2},"end":{"line":109,"column":23}},"51":{"start":{"line":111,"column":2},"end":{"line":115,"column":4}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":6},"end":{"line":15,"column":6}},{"start":{"line":15,"column":6},"end":{"line":15,"column":6}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":13},"end":{"line":17,"column":13}},{"start":{"line":17,"column":13},"end":{"line":17,"column":13}}]},"4":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"5":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":37,"column":2}},{"start":{"line":37,"column":2},"end":{"line":37,"column":2}}]},"6":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":4}},{"start":{"line":39,"column":4},"end":{"line":39,"column":4}}]},"7":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":2},"end":{"line":56,"column":2}},{"start":{"line":56,"column":2},"end":{"line":56,"column":2}}]},"8":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":2},"end":{"line":61,"column":2}},{"start":{"line":61,"column":2},"end":{"line":61,"column":2}}]},"9":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]},"10":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":6},"end":{"line":65,"column":14}},{"start":{"line":65,"column":18},"end":{"line":65,"column":27}},{"start":{"line":65,"column":31},"end":{"line":65,"column":49}}]},"11":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]},"12":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":8},"end":{"line":67,"column":26}},{"start":{"line":67,"column":30},"end":{"line":67,"column":48}}]},"13":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":4}},{"start":{"line":72,"column":4},"end":{"line":72,"column":4}}]},"14":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":21},"end":{"line":73,"column":30}},{"start":{"line":73,"column":34},"end":{"line":73,"column":41}}]},"15":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]},"16":{"line":77,"type":"binary-expr","locations":[{"start":{"line":77,"column":6},"end":{"line":77,"column":13}},{"start":{"line":77,"column":17},"end":{"line":77,"column":49}}]},"17":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":2},"end":{"line":89,"column":2}},{"start":{"line":89,"column":2},"end":{"line":89,"column":2}}]},"18":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"19":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":2},"end":{"line":98,"column":2}},{"start":{"line":98,"column":2},"end":{"line":98,"column":2}}]},"20":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":27}},{"start":{"line":99,"column":6},"end":{"line":99,"column":24}},{"start":{"line":100,"column":6},"end":{"line":100,"column":27}},{"start":{"line":101,"column":6},"end":{"line":101,"column":28}},{"start":{"line":102,"column":6},"end":{"line":102,"column":27}},{"start":{"line":103,"column":6},"end":{"line":103,"column":26}},{"start":{"line":104,"column":6},"end":{"line":104,"column":26}}]}},"code":["module.exports = args;","","var abbrev = require('abbrev');","var alias = abbrev('copy', 'version', 'debug', 'help', 'quiet', 'interactive',","  'dev');","alias.d = 'debug'; // always make `-d` debug","alias.t = 'test';","","function args(processargv) {","  // allows us to support flags with true or false only","  var argv = processargv.slice(2).reduce(function reduce(acc, arg) {","    if (arg.indexOf('-') === 0) {","      arg = arg.slice(1);","","      if (alias[arg] !== undefined) {","        acc[alias[arg]] = true;","      } else if (arg.indexOf('-') === 0) {","        arg = arg.slice(1);","        if (arg.indexOf('=') === -1) {","          acc[arg] = true;","        } else {","          var parts = arg.split('=');","          acc[parts.shift()] = parts.join('=');","        }","      } else {","        acc[arg] = true;","      }","    } else {","      acc._.push(arg);","    }","","    return acc;","  }, { _: [] });","","  // by passing `-d` to the cli, we enable the debugging output, but this must","  // be as early as possible in the cli logic to capture all the output","  if (argv.debug) {","    var enable = 'snyk';","    if (process.env.DEBUG) {","      enable += ',' + process.env.DEBUG;","    }","    require('debug').enable(enable);","  }","","  var debug = require('debug')('snyk');","","  // this is done after the debug activation line above because we want to see","  // the debug messaging when we use the `-d` flag","  var cli = require('./commands');","","  // the first argument is the command we'll execute, everything else will be","  // an argument to our command, like `snyk help protect`","  var command = argv._.shift();","","  // alias switcheroo - allows us to have","  if (cli.aliases[command]) {","    command = cli.aliases[command];","  }","","  // alias `-v` to `snyk version`","  if (argv.version) {","    command = 'version';","  }","","  if (!command || argv.help || command === 'help') {","    // bit of a song and dance to support `snyk -h` and `snyk help`","    if (argv.help === true || command === 'help') {","      argv.help = 'help';","    }","    command = 'help';","","    if (!argv._.length) {","      argv._.unshift(argv.help || 'usage');","    }","  }","","  if (command && command.indexOf('config:') === 0) {","    // config looks like `config:set x=y` or `config:get x`","    // so we need to mangle the commands into this format:","    // snyk.config('set', 'api=x')","    // snyk.config('get', 'api') // etc","    var tmp = command.split(':');","    command = tmp.shift();","    argv._.unshift(tmp.shift());","  }","","  var method = cli[command];","","  if (!method) {","    // if we failed to find a command, then default to an error","    if (!method) {","      method = require('../lib/error');","      argv._.push(command);","    }","  }","","  // TODO decide why we can't do this cart blanche...","  if (command === 'protect' ||","      command === 'test' ||","      command === 'modules' ||","      command === 'scenario' ||","      command === 'monitor' ||","      command === 'wizard' ||","      command === 'ignore') {","    // copy all the options across to argv._ as an object","    argv._.push(argv);","  }","","  debug(command, argv);","","  return {","    method: method,","    command: command,","    options: argv,","  };","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":1,"9":1,"11":1,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"26":0,"29":0,"32":0,"37":1,"38":0,"39":0,"40":0,"42":0,"45":1,"49":1,"53":1,"56":1,"57":0,"61":1,"62":0,"65":1,"67":1,"68":0,"70":1,"72":1,"73":1,"77":1,"82":0,"83":0,"84":0,"87":1,"89":1,"91":0,"92":0,"93":0,"98":1,"106":0,"109":1,"111":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/copy.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/copy.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"copy","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"3":{"start":{"line":4,"column":0},"end":{"line":8,"column":20}},"4":{"start":{"line":10,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":46}}},"branchMap":{},"code":["module.exports = copy;","","var cp = require('child_process');","var program = {","  darwin: 'pbcopy',","  win32: 'clip',","  linux: 'xclip -selection clipboard',","}[process.platform];","","function copy(str) {","  return cp.execSync(program, { input: str });","}",""],"l":{"1":1,"3":1,"4":1,"10":1,"11":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":1,"44":1,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0},"b":{"1":[1,0],"2":[1,1],"3":[0,1],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,1],"10":[1,1],"11":[1,0],"12":[0,0]},"f":{"1":1,"2":0,"3":0,"4":1},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":55},"end":{"line":9,"column":73}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":26}}},"3":{"name":"(anonymous_3)","line":69,"loc":{"start":{"line":69,"column":9},"end":{"line":69,"column":22}}},"4":{"name":"(anonymous_4)","line":71,"loc":{"start":{"line":71,"column":8},"end":{"line":71,"column":23}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":29}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":17}},"5":{"start":{"line":9,"column":0},"end":{"line":76,"column":3}},"6":{"start":{"line":10,"column":2},"end":{"line":10,"column":46}},"7":{"start":{"line":11,"column":2},"end":{"line":14,"column":5}},"8":{"start":{"line":15,"column":2},"end":{"line":22,"column":3}},"9":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"10":{"start":{"line":17,"column":6},"end":{"line":17,"column":19}},"11":{"start":{"line":18,"column":6},"end":{"line":18,"column":48}},"12":{"start":{"line":20,"column":6},"end":{"line":20,"column":26}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":13}},"14":{"start":{"line":25,"column":2},"end":{"line":25,"column":42}},"15":{"start":{"line":26,"column":2},"end":{"line":26,"column":21}},"16":{"start":{"line":27,"column":2},"end":{"line":27,"column":46}},"17":{"start":{"line":28,"column":2},"end":{"line":28,"column":30}},"18":{"start":{"line":30,"column":2},"end":{"line":38,"column":3}},"19":{"start":{"line":32,"column":4},"end":{"line":32,"column":27}},"20":{"start":{"line":34,"column":4},"end":{"line":34,"column":50}},"21":{"start":{"line":35,"column":4},"end":{"line":35,"column":40}},"22":{"start":{"line":36,"column":4},"end":{"line":36,"column":44}},"23":{"start":{"line":37,"column":4},"end":{"line":37,"column":43}},"24":{"start":{"line":40,"column":2},"end":{"line":43,"column":5}},"25":{"start":{"line":45,"column":2},"end":{"line":65,"column":3}},"26":{"start":{"line":46,"column":4},"end":{"line":46,"column":29}},"27":{"start":{"line":48,"column":4},"end":{"line":48,"column":41}},"28":{"start":{"line":49,"column":4},"end":{"line":64,"column":5}},"29":{"start":{"line":51,"column":6},"end":{"line":51,"column":41}},"30":{"start":{"line":52,"column":6},"end":{"line":63,"column":7}},"31":{"start":{"line":53,"column":8},"end":{"line":53,"column":21}},"32":{"start":{"line":54,"column":8},"end":{"line":54,"column":50}},"33":{"start":{"line":56,"column":8},"end":{"line":61,"column":9}},"34":{"start":{"line":57,"column":10},"end":{"line":57,"column":52}},"35":{"start":{"line":59,"column":10},"end":{"line":59,"column":48}},"36":{"start":{"line":60,"column":10},"end":{"line":60,"column":38}},"37":{"start":{"line":62,"column":8},"end":{"line":62,"column":28}},"38":{"start":{"line":67,"column":2},"end":{"line":67,"column":15}},"39":{"start":{"line":68,"column":2},"end":{"line":68,"column":13}},"40":{"start":{"line":70,"column":2},"end":{"line":70,"column":37}},"41":{"start":{"line":72,"column":2},"end":{"line":74,"column":3}},"42":{"start":{"line":73,"column":4},"end":{"line":73,"column":27}},"43":{"start":{"line":75,"column":2},"end":{"line":75,"column":13}},"44":{"start":{"line":78,"column":0},"end":{"line":92,"column":1}},"45":{"start":{"line":79,"column":2},"end":{"line":79,"column":23}},"46":{"start":{"line":81,"column":2},"end":{"line":81,"column":36}},"47":{"start":{"line":83,"column":2},"end":{"line":83,"column":56}},"48":{"start":{"line":84,"column":2},"end":{"line":84,"column":39}},"49":{"start":{"line":87,"column":2},"end":{"line":91,"column":3}},"50":{"start":{"line":88,"column":4},"end":{"line":90,"column":16}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":6},"end":{"line":15,"column":12}},{"start":{"line":15,"column":16},"end":{"line":15,"column":35}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":2},"end":{"line":30,"column":2}},{"start":{"line":30,"column":2},"end":{"line":30,"column":2}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"7":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":6}},{"start":{"line":52,"column":6},"end":{"line":52,"column":6}}]},"8":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":8}},{"start":{"line":56,"column":8},"end":{"line":56,"column":8}}]},"9":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":2},"end":{"line":72,"column":2}},{"start":{"line":72,"column":2},"end":{"line":72,"column":2}}]},"10":{"line":72,"type":"binary-expr","locations":[{"start":{"line":72,"column":6},"end":{"line":72,"column":22}},{"start":{"line":72,"column":26},"end":{"line":72,"column":34}}]},"11":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":0},"end":{"line":78,"column":0}},{"start":{"line":78,"column":0},"end":{"line":78,"column":0}}]},"12":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":2},"end":{"line":87,"column":2}},{"start":{"line":87,"column":2},"end":{"line":87,"column":2}}]}},"code":["//#!/usr/bin/env node","","var args = require('./args')(process.argv);","var debug = require('debug')('snyk');","var copy = require('./copy');","","var exitcode = 0;","","var cli = args.method.apply(null, args.options._).then(function (result) {","  var analytics = require('../lib/analytics');","  var res = analytics({","    command: args.command,","    args: args.options._,","  });","  if (result && !args.options.quiet) {","    if (args.options.copy) {","      copy(result);","      console.log('Result copied to clipboard');","    } else {","      console.log(result);","    }","  }","  return res;","}).catch(function (error) {","  var spinner = require('../lib/spinner');","  spinner.clearAll();","  var analytics = require('../lib/analytics');","  var command = 'bad-command';","","  if (error.code === 'VULNS') {","    // this isn't a bad command, so we won't record it as such","    command = args.command;","  } else {","    analytics.add('error-message', error.message);","    analytics.add('error', error.stack);","    analytics.add('error-code', error.code);","    analytics.add('command', args.command);","  }","","  var res = analytics({","    command: command,","    args: args.options._,","  });","","  if (args.options.debug) {","    console.log(error.stack);","  } else {","    var errors = require('../lib/error');","    if (!args.options.quiet) {","","      var result = errors.message(error);","      if (args.options.copy) {","        copy(result);","        console.log('Result copied to clipboard');","      } else {","        if ((error.code + '').indexOf('AUTH_') === 0) {","          var ansiEscapes = require('ansi-escapes');","          // remove the last few lines","          var erase = ansiEscapes.eraseLines(4);","          process.stdout.write(erase);","        }","        console.log(result);","      }","    }","  }","","  exitcode = 1;","  return res;","}).catch(function (e) {","  console.log('super fail', e.stack);","}).then(function (res) {","  if (!process.env.TAP && exitcode) {","    return process.exit(1);","  }","  return res;","});","","if (module.parent) {","  module.exports = cli;","} else {","  debug('checking for cli updates');","  // finally, check for available update and returns an instance","  var defaults = require('../dist/lodash-min').defaults;","  var pkg = require('../package.json');","","  // only run if we're not inside an npm.script","  if (!process.env['npm_config_node_version']) { // jshint ignore:line","    require('update-notifier')({","      pkg: defaults(pkg, { version: '0.0.0' }),","    }).notify();","  }","}",""],"l":{"3":1,"4":1,"5":1,"7":1,"9":1,"10":1,"11":1,"15":1,"16":1,"17":0,"18":0,"20":1,"23":1,"25":0,"26":0,"27":0,"28":0,"30":0,"32":0,"34":0,"35":0,"36":0,"37":0,"40":0,"45":0,"46":0,"48":0,"49":0,"51":0,"52":0,"53":0,"54":0,"56":0,"57":0,"59":0,"60":0,"62":0,"67":0,"68":0,"70":0,"72":1,"73":0,"75":1,"78":1,"79":1,"81":0,"83":0,"84":0,"87":0,"88":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":54}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}},"4":{"start":{"line":8,"column":0},"end":{"line":22,"column":2}},"5":{"start":{"line":23,"column":0},"end":{"line":23,"column":49}},"6":{"start":{"line":24,"column":0},"end":{"line":24,"column":28}},"7":{"start":{"line":25,"column":0},"end":{"line":25,"column":26}}},"branchMap":{},"code":["var abbrev = require('abbrev');","var hotload = require('../../lib/hotload')(__dirname);","require('../../lib/spinner').isRequired = false;","","// the aim of this module is to load as little as possible to keep cli boot","// time as low as possible","","var commands = {","  auth: hotload('./auth'),","  config: hotload('./config'),","  help: hotload('./help'),","  ignore: hotload('./ignore'),","  modules: hotload('./modules'),","  monitor: hotload('./monitor'),","  policy: hotload('./policy'),","  protect: hotload('./protect'),","  scenario: hotload('./scenario'),","  test: hotload('./test'),","  'test-unpublished': hotload('./unpublished'),","  version: hotload('./version'),","  wizard: hotload('./protect/wizard'),","};","commands.aliases = abbrev(Object.keys(commands));","commands.aliases.t = 'test';","module.exports = commands;",""],"l":{"1":1,"2":1,"3":1,"8":1,"23":1,"24":1,"25":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/hotload.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/hotload.js","s":{"1":1,"2":1,"3":1,"4":1,"5":13,"6":13,"7":1,"8":1,"9":1},"b":{"1":[1,0]},"f":{"1":1,"2":13,"3":1},"fnMap":{"1":{"name":"hotload","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":22}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":9},"end":{"line":9,"column":25}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":11},"end":{"line":11,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":8,"column":0},"end":{"line":19,"column":1}},"4":{"start":{"line":9,"column":2},"end":{"line":18,"column":4}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":22}},"6":{"start":{"line":11,"column":4},"end":{"line":17,"column":6}},"7":{"start":{"line":12,"column":6},"end":{"line":14,"column":7}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":76}},"9":{"start":{"line":16,"column":6},"end":{"line":16,"column":43}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":6},"end":{"line":12,"column":6}},{"start":{"line":12,"column":6},"end":{"line":12,"column":6}}]}},"code":["module.exports = hotload;","","var path = require('path');","","// this will speed up the module load time, only loading the CLI commands","// as needed by the user, and totally avoiding if the module is being required","// into a user project","function hotload(dir) {","  return function (name) {","    var module = null;","    return function () {","      if (module === null) {","        module = require(path.relative(__dirname, path.resolve(dir, name)));","      }","","      return module.apply(null, arguments);","    };","  };","}",""],"l":{"1":1,"3":1,"8":1,"9":1,"10":13,"11":13,"12":1,"13":1,"16":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/help.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/help.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":1,"9":1,"10":0},"b":{"1":[0,1],"2":[1,1,1]},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"help","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":20}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":11},"end":{"line":17,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"4":{"start":{"line":6,"column":0},"end":{"line":20,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":9,"column":3}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":19}},"7":{"start":{"line":13,"column":2},"end":{"line":13,"column":39}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":76}},"9":{"start":{"line":16,"column":2},"end":{"line":19,"column":7}},"10":{"start":{"line":18,"column":6},"end":{"line":18,"column":51}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":6},"end":{"line":7,"column":11}},{"start":{"line":7,"column":15},"end":{"line":7,"column":28}},{"start":{"line":7,"column":32},"end":{"line":7,"column":56}}]}},"code":["module.exports = help;","","var fs = require('then-fs');","var path = require('path');","","function help(item) {","  if (!item || item === true || typeof item !== 'string') {","    item = 'usage';","  }","","  // cleanse the filename to only contain letters","  // aka: /\\W/g but figured this was eaiser to read","  item = item.replace(/[^a-z-]/gi, '');","","  var filename = path.resolve(__dirname, '..', '..', 'help', item + '.txt');","  return fs.readFile(filename, 'utf8')","    .catch(function () {","      return '\"' + item + '\" help can\\'t be found';","    });","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":1,"8":0,"13":1,"15":1,"16":1,"18":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/capture.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/capture.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"captureRequires","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":30},"end":{"line":9,"column":48}}},"3":{"name":"resolve","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":19}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":26},"end":{"line":21,"column":44}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":31},"end":{"line":26,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":17}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":25}},"5":{"start":{"line":7,"column":0},"end":{"line":16,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":19}},"7":{"start":{"line":9,"column":2},"end":{"line":15,"column":5}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":24}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":25}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":37}},"11":{"start":{"line":18,"column":0},"end":{"line":48,"column":1}},"12":{"start":{"line":21,"column":2},"end":{"line":23,"column":5}},"13":{"start":{"line":22,"column":4},"end":{"line":22,"column":21}},"14":{"start":{"line":26,"column":2},"end":{"line":41,"column":24}},"15":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"16":{"start":{"line":28,"column":6},"end":{"line":28,"column":17}},"17":{"start":{"line":31,"column":4},"end":{"line":34,"column":45}},"18":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"19":{"start":{"line":37,"column":6},"end":{"line":37,"column":21}},"20":{"start":{"line":40,"column":4},"end":{"line":40,"column":15}},"21":{"start":{"line":44,"column":2},"end":{"line":44,"column":42}},"22":{"start":{"line":45,"column":2},"end":{"line":47,"column":6}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"2":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]}},"code":["module.exports = captureRequires;","","var path = require('path');","var modules = [];","var snyk = require('..');","","function captureRequires() {","  var timer = null;","  snyk.bus.on('after:module', function (module) {","    clearTimeout(timer);","    modules.push(module);","","    // full task (rather than microtask)","    timer = setTimeout(resolve, 100);","  });","}","","function resolve() {","  // the monitor should capture everything *excluding* snyk modules","  // and post up to the snyk registry for the user","  var paths = modules.map(function (module) {","    return module.id;","  });","","  // work out the root directory of the project...","  var candidate = paths.reduce(function (acc, curr) {","    if (curr.indexOf('node_modules') === -1) {","      return acc;","    }","","    var path = curr","      .split('node_modules')","      .slice(0, -1)","      .join('node_modules') + 'node_modules';","","    if (acc.indexOf(path) === -1) {","      acc.push(path);","    }","","    return acc;","  }, []).sort().shift();","","  // then collect all the package deps and post a monitor","  var cwd = path.resolve(candidate, '..');","  snyk.modules(cwd).then(snyk.monitor.bind(null, cwd, {","    method: 'require',","  }));","}"],"l":{"1":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"14":0,"18":1,"21":0,"22":0,"26":0,"27":0,"28":0,"31":0,"36":0,"37":0,"40":0,"44":0,"45":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/display-policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/display-policy.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"display","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":40}}},"3":{"name":"displayRule","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":28}}},"4":{"name":"(anonymous_4)","line":28,"loc":{"start":{"line":28,"column":9},"end":{"line":28,"column":28}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":22},"end":{"line":32,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"6":{"start":{"line":8,"column":0},"end":{"line":25,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":24,"column":5}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":41}},"9":{"start":{"line":12,"column":4},"end":{"line":13,"column":22}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":51}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":50}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":70}},"13":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"14":{"start":{"line":19,"column":6},"end":{"line":19,"column":46}},"15":{"start":{"line":21,"column":4},"end":{"line":21,"column":58}},"16":{"start":{"line":23,"column":4},"end":{"line":23,"column":17}},"17":{"start":{"line":27,"column":0},"end":{"line":38,"column":1}},"18":{"start":{"line":28,"column":2},"end":{"line":37,"column":4}},"19":{"start":{"line":29,"column":4},"end":{"line":29,"column":11}},"20":{"start":{"line":30,"column":4},"end":{"line":36,"column":39}},"21":{"start":{"line":33,"column":8},"end":{"line":35,"column":75}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"2":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":22}},{"start":{"line":18,"column":26},"end":{"line":18,"column":41}}]},"3":{"line":34,"type":"cond-expr","locations":[{"start":{"line":34,"column":27},"end":{"line":35,"column":61}},{"start":{"line":35,"column":63},"end":{"line":35,"column":65}}]}},"code":["module.exports = display;","","var chalk = require('chalk');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var demunge = require('snyk-policy').demunge;","var config = require('./config');","","function display(policy) {","  return new Promise(function (resolve) {","    var p = demunge(policy, config.ROOT);","","    var res = chalk.bold('Current Snyk policy, read from ' + policy.__filename +","      ' file') + '\\n';","    res += 'Modified: ' + policy.__modified + '\\n';","    res += 'Created:  ' + policy.__created + '\\n';","","    res += p.patch.map(displayRule('Patch vulnerability')).join('\\n');","    if (p.patch.length && p.ignore.length) {","      res += '\\n\\n------------------------\\n';","    }","    res += p.ignore.map(displayRule('Ignore')).join('\\n');","","    resolve(res);","  });","}","","function displayRule(title) {","  return function (rule, i) {","    i += 1;","    return chalk.bold('\\n#' + i + ' ' + title + ' ' + rule.url) +","      ' in the following paths:\\n' +","      (rule.paths.map(function (p) {","        return p.path +","               (p.reason ? '\\nReason: ' + p.reason +","               '\\nExpires: ' + p.expires.toUTCString() + '\\n': '')  + '\\n';","      }).join('').replace(/\\s*$/, ''));","  };","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"12":0,"14":0,"15":0,"17":0,"18":0,"19":0,"21":0,"23":0,"27":1,"28":0,"29":0,"30":0,"33":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/error.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/error.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"error","line":58,"loc":{"start":{"line":58,"column":17},"end":{"line":58,"column":41}}},"2":{"name":"(anonymous_2)","line":64,"loc":{"start":{"line":64,"column":25},"end":{"line":64,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":38}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"4":{"start":{"line":5,"column":0},"end":{"line":34,"column":2}},"5":{"start":{"line":38,"column":0},"end":{"line":56,"column":2}},"6":{"start":{"line":58,"column":0},"end":{"line":62,"column":2}},"7":{"start":{"line":59,"column":2},"end":{"line":59,"column":57}},"8":{"start":{"line":60,"column":2},"end":{"line":60,"column":29}},"9":{"start":{"line":61,"column":2},"end":{"line":61,"column":27}},"10":{"start":{"line":64,"column":0},"end":{"line":88,"column":2}},"11":{"start":{"line":65,"column":2},"end":{"line":65,"column":22}},"12":{"start":{"line":66,"column":2},"end":{"line":85,"column":3}},"13":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"14":{"start":{"line":68,"column":6},"end":{"line":68,"column":27}},"15":{"start":{"line":74,"column":4},"end":{"line":75,"column":50}},"16":{"start":{"line":76,"column":4},"end":{"line":84,"column":5}},"17":{"start":{"line":77,"column":6},"end":{"line":77,"column":63}},"18":{"start":{"line":78,"column":6},"end":{"line":78,"column":40}},"19":{"start":{"line":79,"column":11},"end":{"line":84,"column":5}},"20":{"start":{"line":80,"column":6},"end":{"line":81,"column":60}},"21":{"start":{"line":83,"column":6},"end":{"line":83,"column":30}},"22":{"start":{"line":87,"column":2},"end":{"line":87,"column":17}}},"branchMap":{"1":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":2},"end":{"line":66,"column":2}},{"start":{"line":66,"column":2},"end":{"line":66,"column":2}}]},"2":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]},"3":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":14},"end":{"line":74,"column":48}},{"start":{"line":75,"column":14},"end":{"line":75,"column":49}}]},"4":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":20},"end":{"line":74,"column":30}},{"start":{"line":74,"column":34},"end":{"line":74,"column":47}}]},"5":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":21},"end":{"line":75,"column":31}},{"start":{"line":75,"column":35},"end":{"line":75,"column":48}}]},"6":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":4},"end":{"line":76,"column":4}},{"start":{"line":76,"column":4},"end":{"line":76,"column":4}}]},"7":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":11},"end":{"line":79,"column":11}},{"start":{"line":79,"column":11},"end":{"line":79,"column":11}}]}},"code":["var Promise = require('es6-promise').Promise; // jshint ignore:line","var config = require('../lib/config');","var chalk = require('chalk');","","var errors = {","  connect: 'Check your network connection, failed to connect to Snyk API',","  endpoint: 'The Snyk API is not available on ' + config.API,","  auth: 'Unauthorized: please ensure you are logged in using `snyk auth`',","  dotfile: 'Try running `snyk wizard` to define a Snyk protect policy',","  authfail: 'Authentication failed. Please check the API token on ' +","    config.ROOT,","  oldsnyk: 'You have an alpha format Snyk policy file in this directory. ' +","    'Please remove it, and re-create using `snyk wizard`',","  notfound: 'The package could not be found or does not exist',","  patchfail: 'The patch against %s failed.',","  updatefail: 'Encountered errors while running `npm update`.\\nRun ' +","    '`npm update` when the wizard completes to ensure updates have been ' +","    'applied.',","  updatepackage: 'Upgrade this package to \"%s\", then run the wizard again.',","  nodeModules: 'This directory looks like a node project, but is missing the ' +","    'contents of the node_modules directory.\\nPlease run `npm install` and ' +","    're-run your snyk command.',","  tryDevDeps: 'Snyk only tests production dependencies by default (which ' +","    'this project had none). Try re-running with the `--dev` flag.',","  noAuthInCI: 'Github auth cannot be used whilst inside CI. You must include ' +","    'your API token as an environment value: `API=12345678`',","  noApiToken: '%s requires an authenticated account. Please run `snyk auth` ' +","    'and try again.',","  timeout: 'The request has timed out on the server side.\\nPlease re-run ' +","    'this command with the `-d` flag and send the output to support@snyk.io.',","  policyFile: 'Bad policy file, please use --path=PATH to specify a ' +","    'directory with a .snyk file',","  idRequired: 'id is a required field for `snyk ignore`',","};","","// a key/value pair of error.code (or error.message) as the key, and our nice","// strings as the value.","var codes = {","  ECONNREFUSED: errors.connect,","  ENOTFOUND: errors.connect,","  NOT_FOUND: errors.notfound,","  404: errors.notfound,","  411: errors.endpoint, // try to post to a weird endpoint","  403: errors.endpoint,","  401: errors.auth,","  Unauthorized: errors.auth,","  MISSING_DOTFILE: errors.dotfile,","  MISSING_NODE_MODULES: errors.nodeModules,","  OLD_DOTFILE_FORMAT: errors.oldsnyk,","  FAIL_PATCH: errors.patchfail,","  FAIL_UPDATE: errors.updatefail,","  NOT_FOUND_HAS_DEV_DEPS: errors.tryDevDeps,","  NO_API_TOKEN: errors.noApiToken,","  502: errors.timeout,","  504: errors.timeout,","};","","module.exports = function error(command) {","  var e = new Error('Unknown command \"' + command + '\"');","  e.code = 'UNKNOWN_COMMAND';","  return Promise.reject(e);","};","","module.exports.message = function (error) {","  var message = error; // defaults to a string (which is super unlikely)","  if (error instanceof Error) {","    if (error.code === 'VULNS') {","      return error.message;","    }","","    // try to lookup the error string based either on the error code OR","    // the actual error.message (which can be \"Unauthorized\" for instance),","    // otherwise send the error message back","    message = codes[error.code || error.message] ||","              errors[error.code || error.message];","    if (message) {","      message = message.replace(/(%s)/g, error.message).trim();","      message = chalk.bold.red(message);","    } else if (error.code) { // means it's a code error","      message = 'An unknown error occurred. Please include the trace below ' +","                'when reporting to Snyk:\\n\\n' + error.stack;","    } else { // should be one of ours","      message = error.message;","    }","  }","","  return message;","};",""],"l":{"1":1,"2":1,"3":1,"5":1,"38":1,"58":1,"59":0,"60":0,"61":0,"64":1,"65":0,"66":0,"67":0,"68":0,"74":0,"76":0,"77":0,"78":0,"79":0,"80":0,"83":0,"87":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/hook.js","s":{"1":1,"2":0,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":29}}},"2":{"name":"stripBOM","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":27}}},"3":{"name":"loader","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":34}}},"4":{"name":"registerExtension","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":32}}},"5":{"name":"(anonymous_5)","line":31,"loc":{"start":{"line":31,"column":28},"end":{"line":31,"column":51}}},"6":{"name":"hookExtensions","line":39,"loc":{"start":{"line":39,"column":0},"end":{"line":39,"column":31}}},"7":{"name":"(anonymous_7)","line":40,"loc":{"start":{"line":40,"column":23},"end":{"line":40,"column":43}}},"8":{"name":"(anonymous_8)","line":50,"loc":{"start":{"line":50,"column":17},"end":{"line":50,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":2}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":26}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"7":{"start":{"line":11,"column":0},"end":{"line":19,"column":1}},"8":{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":31}},"10":{"start":{"line":18,"column":2},"end":{"line":18,"column":17}},"11":{"start":{"line":21,"column":0},"end":{"line":26,"column":1}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":43}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":50}},"14":{"start":{"line":24,"column":2},"end":{"line":24,"column":47}},"15":{"start":{"line":25,"column":2},"end":{"line":25,"column":40}},"16":{"start":{"line":28,"column":0},"end":{"line":36,"column":1}},"17":{"start":{"line":29,"column":2},"end":{"line":29,"column":80}},"18":{"start":{"line":31,"column":2},"end":{"line":35,"column":4}},"19":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"20":{"start":{"line":33,"column":6},"end":{"line":33,"column":31}},"21":{"start":{"line":39,"column":0},"end":{"line":54,"column":1}},"22":{"start":{"line":40,"column":2},"end":{"line":46,"column":5}},"23":{"start":{"line":41,"column":4},"end":{"line":45,"column":5}},"24":{"start":{"line":42,"column":6},"end":{"line":42,"column":37}},"25":{"start":{"line":44,"column":6},"end":{"line":44,"column":36}},"26":{"start":{"line":48,"column":2},"end":{"line":48,"column":19}},"27":{"start":{"line":50,"column":2},"end":{"line":53,"column":5}},"28":{"start":{"line":51,"column":4},"end":{"line":51,"column":47}},"29":{"start":{"line":52,"column":4},"end":{"line":52,"column":27}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":12},"end":{"line":29,"column":28}},{"start":{"line":29,"column":32},"end":{"line":29,"column":50}},{"start":{"line":29,"column":54},"end":{"line":29,"column":79}}]},"3":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"4":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":4}},{"start":{"line":41,"column":4},"end":{"line":41,"column":4}}]}},"code":["module.exports = function () {","  hookExtensions(['.js']);","};","","var forEach = require('../dist/lodash-min').forEach;","var fs = require('fs');","var oldHandlers = {};","var snyk = require('..');","","// source: https://github.com/joyent/node/blob/master/lib/module.js#L466","function stripBOM(content) {","  // Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)","  // because the buffer-to-string conversion in `fs.readFileSync()`","  // translates it to FEFF, the UTF-16 BOM.","  if (content.charCodeAt(0) === 0xFEFF) {","    content = content.slice(1);","  }","  return content;","}","","function loader(module, filename) {","  snyk.bus.emit('before:module', filename);","  var content = fs.readFileSync(filename, 'utf8');","  module._compile(stripBOM(content), filename);","  snyk.bus.emit('after:module', module);","}","","function registerExtension(ext) {","  var old = oldHandlers[ext] || oldHandlers['.js'] || require.extensions['.js'];","","  require.extensions[ext] = function (m, filename) {","    if (snyk.isolate.okay(filename)) {","      loader(m, filename, old);","    }","  };","}","","","function hookExtensions(_exts) {","  forEach(oldHandlers, function (old, ext) {","    if (old === undefined) {","      delete require.extensions[ext];","    } else {","      require.extensions[ext] = old;","    }","  });","","  oldHandlers = {};","","  forEach(_exts, function (ext) {","    oldHandlers[ext] = require.extensions[ext];","    registerExtension(ext);","  });","}","// TODO: unhook",""],"l":{"1":1,"2":0,"5":1,"6":1,"7":1,"8":1,"11":1,"15":0,"16":0,"18":0,"21":1,"22":0,"23":0,"24":0,"25":0,"28":1,"29":0,"31":0,"32":0,"33":0,"39":1,"40":0,"41":0,"42":0,"44":0,"48":0,"50":0,"51":0,"52":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/isolate.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/isolate.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"isolate","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":45},"end":{"line":17,"column":60}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":35}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":30},"end":{"line":29,"column":48}}},"5":{"name":"instrumentProps","line":36,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":39}}},"6":{"name":"instrumented","line":47,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":34}}},"7":{"name":"(anonymous_7)","line":55,"loc":{"start":{"line":55,"column":34},"end":{"line":55,"column":49}}},"8":{"name":"okay","line":69,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":24}}},"9":{"name":"checkIsolation","line":73,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":17}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":28}},"8":{"start":{"line":11,"column":0},"end":{"line":32,"column":1}},"9":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":17}},"11":{"start":{"line":16,"column":2},"end":{"line":27,"column":3}},"12":{"start":{"line":17,"column":4},"end":{"line":26,"column":11}},"13":{"start":{"line":18,"column":6},"end":{"line":18,"column":35}},"14":{"start":{"line":19,"column":6},"end":{"line":22,"column":8}},"15":{"start":{"line":24,"column":6},"end":{"line":24,"column":28}},"16":{"start":{"line":25,"column":6},"end":{"line":25,"column":17}},"17":{"start":{"line":29,"column":2},"end":{"line":31,"column":5}},"18":{"start":{"line":30,"column":4},"end":{"line":30,"column":58}},"19":{"start":{"line":36,"column":0},"end":{"line":67,"column":1}},"20":{"start":{"line":38,"column":2},"end":{"line":40,"column":3}},"21":{"start":{"line":39,"column":4},"end":{"line":39,"column":15}},"22":{"start":{"line":42,"column":2},"end":{"line":42,"column":22}},"23":{"start":{"line":43,"column":2},"end":{"line":43,"column":24}},"24":{"start":{"line":44,"column":2},"end":{"line":44,"column":21}},"25":{"start":{"line":46,"column":2},"end":{"line":52,"column":3}},"26":{"start":{"line":47,"column":4},"end":{"line":51,"column":6}},"27":{"start":{"line":48,"column":6},"end":{"line":48,"column":50}},"28":{"start":{"line":50,"column":6},"end":{"line":50,"column":38}},"29":{"start":{"line":54,"column":2},"end":{"line":62,"column":3}},"30":{"start":{"line":55,"column":4},"end":{"line":61,"column":7}},"31":{"start":{"line":56,"column":6},"end":{"line":56,"column":31}},"32":{"start":{"line":57,"column":6},"end":{"line":59,"column":7}},"33":{"start":{"line":58,"column":8},"end":{"line":58,"column":15}},"34":{"start":{"line":60,"column":6},"end":{"line":60,"column":48}},"35":{"start":{"line":64,"column":2},"end":{"line":64,"column":62}},"36":{"start":{"line":66,"column":2},"end":{"line":66,"column":13}},"37":{"start":{"line":69,"column":0},"end":{"line":71,"column":1}},"38":{"start":{"line":70,"column":2},"end":{"line":70,"column":35}},"39":{"start":{"line":73,"column":0},"end":{"line":101,"column":1}},"40":{"start":{"line":74,"column":2},"end":{"line":74,"column":46}},"41":{"start":{"line":75,"column":2},"end":{"line":75,"column":48}},"42":{"start":{"line":76,"column":2},"end":{"line":96,"column":3}},"43":{"start":{"line":77,"column":4},"end":{"line":77,"column":27}},"44":{"start":{"line":79,"column":4},"end":{"line":79,"column":43}},"45":{"start":{"line":81,"column":4},"end":{"line":94,"column":5}},"46":{"start":{"line":82,"column":6},"end":{"line":82,"column":50}},"47":{"start":{"line":83,"column":6},"end":{"line":83,"column":72}},"48":{"start":{"line":84,"column":6},"end":{"line":84,"column":18}},"49":{"start":{"line":85,"column":6},"end":{"line":87,"column":20}},"50":{"start":{"line":86,"column":8},"end":{"line":86,"column":42}},"51":{"start":{"line":88,"column":6},"end":{"line":93,"column":7}},"52":{"start":{"line":89,"column":8},"end":{"line":92,"column":9}},"53":{"start":{"line":90,"column":10},"end":{"line":91,"column":63}},"54":{"start":{"line":100,"column":2},"end":{"line":100,"column":15}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":16,"column":2}},{"start":{"line":16,"column":2},"end":{"line":16,"column":2}}]},"3":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"4":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":46,"column":2}},{"start":{"line":46,"column":2},"end":{"line":46,"column":2}}]},"5":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":35},"end":{"line":48,"column":38}},{"start":{"line":48,"column":42},"end":{"line":48,"column":44}}]},"6":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"7":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":23}},{"start":{"line":54,"column":27},"end":{"line":54,"column":46}}]},"8":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":6},"end":{"line":57,"column":6}},{"start":{"line":57,"column":6},"end":{"line":57,"column":6}}]},"9":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":2},"end":{"line":76,"column":2}},{"start":{"line":76,"column":2},"end":{"line":76,"column":2}}]},"10":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":22}},{"start":{"line":76,"column":26},"end":{"line":76,"column":32}}]},"11":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":4}},{"start":{"line":81,"column":4},"end":{"line":81,"column":4}}]},"12":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":6},"end":{"line":88,"column":6}},{"start":{"line":88,"column":6},"end":{"line":88,"column":6}}]},"13":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":8}},{"start":{"line":89,"column":8},"end":{"line":89,"column":8}}]}},"code":["module.exports = isolate;","module.exports.okay = okay;","","var snyk = require('..');","var semver = require('semver');","var fs = require('fs');","","var modules = {};","var potentialBlacklist = {};","","function isolate(options) {","  if (!options) {","    options = {};","  }","","  if (Array.isArray(options.isolate)) {","    potentialBlacklist = options.isolate.map(function (pkg) {","      var i = pkg.lastIndexOf('@');","      return {","        name: pkg.slice(0, i),","        version: pkg.slice(i + 1),","      };","    }).reduce(function (acc, curr) {","      acc[curr.name] = curr;","      return acc;","    }, {});","  }","","  snyk.bus.on('after:module', function (module) {","    instrumentProps(module.id, module.id, module.exports);","  });","}","","","","function instrumentProps(id, key, obj) {","  // only apply once","  if (obj.__snyked) {","    return obj;","  }","","  obj.__snyked = true;","  var type = typeof obj;","  var original = obj;","","  if (type === 'function') {","    obj = function instrumented() {","      console.log('NOTIFY: %s@%s', key || id, id);","      // snyk.notify(key, id);","      original.apply(this, arguments);","    };","  }","","  if (type === 'object' || type === 'function') {","    Object.keys(original).forEach(function (key) {","      var prop = original[key];","      if (key === '__snyked') {","        return;","      }","      obj[key] = instrumentProps(id, key, prop);","    });","  }","","  console.log('instrumented %s@%s', key, id.split('/').pop());","","  return obj;","}","","function okay(filename) {","  return !checkIsolation(filename);","}","","function checkIsolation(filename) {","  var parts = filename.split('node_modules/');","  var module = parts.slice(-1)[0].split('/')[0];","  if (!modules[module] && module) {","    modules[module] = true;","","    var check = potentialBlacklist[module];","","    if (check) {","      var pkgFilename = filename.split(module)[0];","      var pkg = fs.readFileSync(pkgFilename + module + '/package.json');","      var version;","      try {","        version = JSON.parse(pkg).version;","      } catch (e) {}","      if (version) {","        if (semver.satisfies(version, check.version)) {","          throw new Error('Snyk: Isolated module \"' + check.name +","            '@' + check.version + '\" was not allowed to load');","        }","      }","    }","","  }","","  // lookup the version","","  return false;","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"8":1,"9":1,"11":1,"12":0,"13":0,"16":0,"17":0,"18":0,"19":0,"24":0,"25":0,"29":0,"30":0,"36":1,"38":0,"39":0,"42":0,"43":0,"44":0,"46":0,"47":0,"48":0,"50":0,"54":0,"55":0,"56":0,"57":0,"58":0,"60":0,"64":0,"66":0,"69":1,"70":0,"73":1,"74":0,"75":0,"76":0,"77":0,"79":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"88":0,"89":0,"90":0,"100":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/npm.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/npm.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"npm","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":21},"end":{"line":24,"column":48}}},"3":{"name":"(anonymous_3)","line":38,"loc":{"start":{"line":38,"column":7},"end":{"line":38,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"4":{"start":{"line":6,"column":0},"end":{"line":55,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":22}},"6":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":18}},"8":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":26}},"10":{"start":{"line":18,"column":2},"end":{"line":20,"column":3}},"11":{"start":{"line":19,"column":4},"end":{"line":19,"column":25}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":34}},"13":{"start":{"line":24,"column":2},"end":{"line":54,"column":5}},"14":{"start":{"line":25,"column":4},"end":{"line":25,"column":57}},"15":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"16":{"start":{"line":27,"column":6},"end":{"line":27,"column":26}},"17":{"start":{"line":29,"column":4},"end":{"line":29,"column":30}},"18":{"start":{"line":31,"column":4},"end":{"line":34,"column":5}},"19":{"start":{"line":32,"column":6},"end":{"line":32,"column":36}},"20":{"start":{"line":33,"column":6},"end":{"line":33,"column":23}},"21":{"start":{"line":36,"column":4},"end":{"line":53,"column":7}},"22":{"start":{"line":39,"column":6},"end":{"line":41,"column":7}},"23":{"start":{"line":40,"column":8},"end":{"line":40,"column":29}},"24":{"start":{"line":43,"column":6},"end":{"line":48,"column":7}},"25":{"start":{"line":44,"column":8},"end":{"line":44,"column":37}},"26":{"start":{"line":45,"column":8},"end":{"line":45,"column":47}},"27":{"start":{"line":46,"column":8},"end":{"line":46,"column":31}},"28":{"start":{"line":47,"column":8},"end":{"line":47,"column":25}},"29":{"start":{"line":50,"column":6},"end":{"line":50,"column":39}},"30":{"start":{"line":52,"column":6},"end":{"line":52,"column":16}}},"branchMap":{"1":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":10},"end":{"line":7,"column":15}},{"start":{"line":7,"column":19},"end":{"line":7,"column":21}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"4":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":18,"column":2}},{"start":{"line":18,"column":2},"end":{"line":18,"column":2}}]},"5":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":6},"end":{"line":18,"column":21}},{"start":{"line":18,"column":25},"end":{"line":18,"column":38}}]},"6":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]},"7":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"8":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":6},"end":{"line":39,"column":6}},{"start":{"line":39,"column":6},"end":{"line":39,"column":6}}]},"9":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":6},"end":{"line":43,"column":6}},{"start":{"line":43,"column":6},"end":{"line":43,"column":6}}]}},"code":["module.exports = npm;","","var debug = require('debug')('snyk');","var exec = require('child_process').exec;","","function npm(method, packages, live, cwd, flags) {","  flags = flags || [];","  if (!packages) {","    packages = [];","  }","","  if (!Array.isArray(packages)) {","    packages = [packages];","  }","","  // only if we have packages, then always save, otherwise the command might","  // be something like `npm shrinkwrap'","  if (packages.length && !flags.length) {","    flags.push('--save');","  }","","  method += ' ' + flags.join(' ');","","  return new Promise(function (resolve, reject) {","    var cmd = 'npm ' + method + ' ' + packages.join(' ');","    if (!cwd) {","      cwd = process.cwd();","    }","    debug('%s$ %s', cwd, cmd);","","    if (!live) {","      debug('[skipping - dry run]');","      return resolve();","    }","","    exec(cmd, {","      cwd: cwd,","    }, function (error, stdout, stderr) {","      if (error) {","        return reject(error);","      }","","      if (stderr.indexOf('ERR!') !== -1) {","        console.error(stderr.trim());","        var e = new Error('npm update errors');","        e.code = 'FAIL_UPDATE';","        return reject(e);","      }","","      debug('npm %s complete', method);","","      resolve();","    });","  });","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"12":0,"13":0,"18":0,"19":0,"22":0,"24":0,"25":0,"26":0,"27":0,"29":0,"31":0,"32":0,"33":0,"36":0,"39":0,"40":0,"43":0,"44":0,"45":0,"46":0,"47":0,"50":0,"52":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/sub-process.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/sub-process.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":25},"end":{"line":4,"column":59}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":21},"end":{"line":10,"column":48}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":27},"end":{"line":15,"column":43}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":27},"end":{"line":16,"column":43}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":21},"end":{"line":18,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":44}},"3":{"start":{"line":4,"column":0},"end":{"line":25,"column":2}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":35}},"7":{"start":{"line":10,"column":2},"end":{"line":24,"column":5}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":20}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":20}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":63}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":72}},"12":{"start":{"line":15,"column":45},"end":{"line":15,"column":68}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":72}},"14":{"start":{"line":16,"column":45},"end":{"line":16,"column":68}},"15":{"start":{"line":18,"column":4},"end":{"line":23,"column":7}},"16":{"start":{"line":19,"column":6},"end":{"line":21,"column":7}},"17":{"start":{"line":20,"column":8},"end":{"line":20,"column":40}},"18":{"start":{"line":22,"column":6},"end":{"line":22,"column":50}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":6},"end":{"line":6,"column":13}},{"start":{"line":6,"column":17},"end":{"line":6,"column":28}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"4":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":22},"end":{"line":20,"column":28}},{"start":{"line":20,"column":32},"end":{"line":20,"column":38}}]}},"code":["var Promise = require('es6-promise').Promise;","var childProcess = require('child_process');","","module.exports.execute = function (command, args, options) {","  var spawnOptions = { shell: true };","  if (options && options.cwd) {","    spawnOptions.cwd = options.cwd;","  }","","  return new Promise(function (resolve, reject) {","    var stdout = '';","    var stderr = '';","","    var proc = childProcess.spawn(command, args, spawnOptions);","    proc.stdout.on('data', function (data) { stdout = stdout + data; });","    proc.stderr.on('data', function (data) { stderr = stderr + data; });","","    proc.on('close', function (code) {","      if (code !== 0) {","        return reject(stdout || stderr);","      }","      resolve({ stdout: stdout, stderr: stderr });","    });","  });","};",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"10":0,"11":0,"12":0,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/yarn.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/yarn.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"yarn","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":21},"end":{"line":18,"column":48}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":7},"end":{"line":32,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"4":{"start":{"line":6,"column":0},"end":{"line":49,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":22}},"6":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":18}},"8":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":26}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":34}},"11":{"start":{"line":18,"column":2},"end":{"line":48,"column":5}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":58}},"13":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"14":{"start":{"line":21,"column":6},"end":{"line":21,"column":26}},"15":{"start":{"line":23,"column":4},"end":{"line":23,"column":30}},"16":{"start":{"line":25,"column":4},"end":{"line":28,"column":5}},"17":{"start":{"line":26,"column":6},"end":{"line":26,"column":36}},"18":{"start":{"line":27,"column":6},"end":{"line":27,"column":23}},"19":{"start":{"line":30,"column":4},"end":{"line":47,"column":7}},"20":{"start":{"line":33,"column":6},"end":{"line":35,"column":7}},"21":{"start":{"line":34,"column":8},"end":{"line":34,"column":29}},"22":{"start":{"line":37,"column":6},"end":{"line":42,"column":7}},"23":{"start":{"line":38,"column":8},"end":{"line":38,"column":37}},"24":{"start":{"line":39,"column":8},"end":{"line":39,"column":48}},"25":{"start":{"line":40,"column":8},"end":{"line":40,"column":31}},"26":{"start":{"line":41,"column":8},"end":{"line":41,"column":25}},"27":{"start":{"line":44,"column":6},"end":{"line":44,"column":40}},"28":{"start":{"line":46,"column":6},"end":{"line":46,"column":16}}},"branchMap":{"1":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":10},"end":{"line":7,"column":15}},{"start":{"line":7,"column":19},"end":{"line":7,"column":21}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]},"4":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":20,"column":4}},{"start":{"line":20,"column":4},"end":{"line":20,"column":4}}]},"5":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"6":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":6}},{"start":{"line":33,"column":6},"end":{"line":33,"column":6}}]},"7":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":6},"end":{"line":37,"column":6}},{"start":{"line":37,"column":6},"end":{"line":37,"column":6}}]}},"code":["module.exports = yarn;","","var debug = require('debug')('snyk');","var exec = require('child_process').exec;","","function yarn(method, packages, live, cwd, flags) {","  flags = flags || [];","  if (!packages) {","    packages = [];","  }","","  if (!Array.isArray(packages)) {","    packages = [packages];","  }","","  method += ' ' + flags.join(' ');","","  return new Promise(function (resolve, reject) {","    var cmd = 'yarn ' + method + ' ' + packages.join(' ');","    if (!cwd) {","      cwd = process.cwd();","    }","    debug('%s$ %s', cwd, cmd);","","    if (!live) {","      debug('[skipping - dry run]');","      return resolve();","    }","","    exec(cmd, {","      cwd: cwd,","    }, function (error, stdout, stderr) {","      if (error) {","        return reject(error);","      }","","      if (stderr.indexOf('ERR!') !== -1) {","        console.error(stderr.trim());","        var e = new Error('yarn update errors');","        e.code = 'FAIL_UPDATE';","        return reject(e);","      }","","      debug('yarn %s complete', method);","","      resolve();","    });","  });","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"12":0,"13":0,"16":0,"18":0,"19":0,"20":0,"21":0,"23":0,"25":0,"26":0,"27":0,"30":0,"33":0,"34":0,"37":0,"38":0,"39":0,"40":0,"41":0,"44":0,"46":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/auth.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/auth.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"resetAttempts","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":25}}},"2":{"name":"githubAuth","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":25}}},"3":{"name":"(anonymous_3)","line":53,"loc":{"start":{"line":53,"column":27},"end":{"line":53,"column":39}}},"4":{"name":"(anonymous_4)","line":54,"loc":{"start":{"line":54,"column":15},"end":{"line":54,"column":27}}},"5":{"name":"testAuthComplete","line":63,"loc":{"start":{"line":63,"column":0},"end":{"line":63,"column":33}}},"6":{"name":"(anonymous_6)","line":73,"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":48}}},"7":{"name":"(anonymous_7)","line":75,"loc":{"start":{"line":75,"column":21},"end":{"line":75,"column":49}}},"8":{"name":"(anonymous_8)","line":97,"loc":{"start":{"line":97,"column":17},"end":{"line":97,"column":29}}},"9":{"name":"isAuthed","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":20}}},"10":{"name":"(anonymous_10)","line":114,"loc":{"start":{"line":114,"column":31},"end":{"line":114,"column":46}}},"11":{"name":"verifyAPI","line":119,"loc":{"start":{"line":119,"column":0},"end":{"line":119,"column":24}}},"12":{"name":"(anonymous_12)","line":129,"loc":{"start":{"line":129,"column":21},"end":{"line":129,"column":48}}},"13":{"name":"(anonymous_13)","line":130,"loc":{"start":{"line":130,"column":21},"end":{"line":130,"column":49}}},"14":{"name":"auth","line":143,"loc":{"start":{"line":143,"column":0},"end":{"line":143,"column":24}}},"15":{"name":"(anonymous_15)","line":153,"loc":{"start":{"line":153,"column":22},"end":{"line":153,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":33}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":43}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}},"12":{"start":{"line":13,"column":0},"end":{"line":13,"column":43}},"13":{"start":{"line":14,"column":0},"end":{"line":14,"column":35}},"14":{"start":{"line":15,"column":0},"end":{"line":15,"column":51}},"15":{"start":{"line":16,"column":0},"end":{"line":16,"column":21}},"16":{"start":{"line":18,"column":0},"end":{"line":20,"column":1}},"17":{"start":{"line":19,"column":2},"end":{"line":19,"column":20}},"18":{"start":{"line":22,"column":0},"end":{"line":61,"column":1}},"19":{"start":{"line":23,"column":2},"end":{"line":23,"column":24}},"20":{"start":{"line":24,"column":2},"end":{"line":26,"column":4}},"21":{"start":{"line":28,"column":2},"end":{"line":28,"column":46}},"22":{"start":{"line":32,"column":2},"end":{"line":34,"column":3}},"23":{"start":{"line":33,"column":4},"end":{"line":33,"column":75}},"24":{"start":{"line":36,"column":2},"end":{"line":40,"column":15}},"25":{"start":{"line":43,"column":2},"end":{"line":49,"column":3}},"26":{"start":{"line":44,"column":4},"end":{"line":44,"column":21}},"27":{"start":{"line":46,"column":4},"end":{"line":46,"column":40}},"28":{"start":{"line":47,"column":4},"end":{"line":47,"column":30}},"29":{"start":{"line":48,"column":4},"end":{"line":48,"column":33}},"30":{"start":{"line":51,"column":2},"end":{"line":51,"column":25}},"31":{"start":{"line":53,"column":2},"end":{"line":60,"column":5}},"32":{"start":{"line":54,"column":4},"end":{"line":56,"column":13}},"33":{"start":{"line":55,"column":6},"end":{"line":55,"column":16}},"34":{"start":{"line":59,"column":4},"end":{"line":59,"column":60}},"35":{"start":{"line":63,"column":0},"end":{"line":110,"column":1}},"36":{"start":{"line":64,"column":2},"end":{"line":71,"column":4}},"37":{"start":{"line":73,"column":2},"end":{"line":109,"column":5}},"38":{"start":{"line":74,"column":4},"end":{"line":74,"column":19}},"39":{"start":{"line":75,"column":4},"end":{"line":108,"column":7}},"40":{"start":{"line":76,"column":6},"end":{"line":76,"column":49}},"41":{"start":{"line":77,"column":6},"end":{"line":79,"column":7}},"42":{"start":{"line":78,"column":8},"end":{"line":78,"column":29}},"43":{"start":{"line":82,"column":6},"end":{"line":86,"column":7}},"44":{"start":{"line":83,"column":8},"end":{"line":83,"column":40}},"45":{"start":{"line":84,"column":8},"end":{"line":84,"column":32}},"46":{"start":{"line":85,"column":8},"end":{"line":85,"column":25}},"47":{"start":{"line":89,"column":6},"end":{"line":94,"column":7}},"48":{"start":{"line":90,"column":8},"end":{"line":93,"column":11}},"49":{"start":{"line":97,"column":6},"end":{"line":107,"column":15}},"50":{"start":{"line":98,"column":8},"end":{"line":98,"column":23}},"51":{"start":{"line":99,"column":8},"end":{"line":101,"column":9}},"52":{"start":{"line":100,"column":10},"end":{"line":100,"column":50}},"53":{"start":{"line":103,"column":8},"end":{"line":104,"column":58}},"54":{"start":{"line":105,"column":8},"end":{"line":105,"column":36}},"55":{"start":{"line":106,"column":8},"end":{"line":106,"column":22}},"56":{"start":{"line":112,"column":0},"end":{"line":117,"column":1}},"57":{"start":{"line":113,"column":2},"end":{"line":113,"column":37}},"58":{"start":{"line":114,"column":2},"end":{"line":116,"column":5}},"59":{"start":{"line":115,"column":4},"end":{"line":115,"column":23}},"60":{"start":{"line":119,"column":0},"end":{"line":141,"column":1}},"61":{"start":{"line":120,"column":2},"end":{"line":127,"column":4}},"62":{"start":{"line":129,"column":2},"end":{"line":140,"column":5}},"63":{"start":{"line":130,"column":4},"end":{"line":139,"column":7}},"64":{"start":{"line":131,"column":6},"end":{"line":133,"column":7}},"65":{"start":{"line":132,"column":8},"end":{"line":132,"column":29}},"66":{"start":{"line":135,"column":6},"end":{"line":138,"column":9}},"67":{"start":{"line":143,"column":0},"end":{"line":172,"column":1}},"68":{"start":{"line":144,"column":2},"end":{"line":144,"column":14}},"69":{"start":{"line":145,"column":2},"end":{"line":145,"column":18}},"70":{"start":{"line":146,"column":2},"end":{"line":151,"column":3}},"71":{"start":{"line":148,"column":4},"end":{"line":148,"column":29}},"72":{"start":{"line":150,"column":4},"end":{"line":150,"column":30}},"73":{"start":{"line":153,"column":2},"end":{"line":171,"column":5}},"74":{"start":{"line":154,"column":4},"end":{"line":154,"column":23}},"75":{"start":{"line":155,"column":4},"end":{"line":155,"column":24}},"76":{"start":{"line":156,"column":4},"end":{"line":156,"column":16}},"77":{"start":{"line":158,"column":4},"end":{"line":162,"column":5}},"78":{"start":{"line":159,"column":6},"end":{"line":159,"column":39}},"79":{"start":{"line":160,"column":6},"end":{"line":161,"column":21}},"80":{"start":{"line":164,"column":4},"end":{"line":168,"column":5}},"81":{"start":{"line":165,"column":6},"end":{"line":165,"column":42}},"82":{"start":{"line":166,"column":6},"end":{"line":166,"column":34}},"83":{"start":{"line":167,"column":6},"end":{"line":167,"column":18}},"84":{"start":{"line":170,"column":4},"end":{"line":170,"column":32}}},"branchMap":{"1":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":2},"end":{"line":32,"column":2}},{"start":{"line":32,"column":2},"end":{"line":32,"column":2}}]},"2":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":43,"column":2}},{"start":{"line":43,"column":2},"end":{"line":43,"column":2}}]},"3":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":20},"end":{"line":76,"column":23}},{"start":{"line":76,"column":27},"end":{"line":76,"column":29}}]},"4":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":6},"end":{"line":77,"column":6}},{"start":{"line":77,"column":6},"end":{"line":77,"column":6}}]},"5":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":6},"end":{"line":82,"column":6}},{"start":{"line":82,"column":6},"end":{"line":82,"column":6}}]},"6":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":6},"end":{"line":89,"column":6}},{"start":{"line":89,"column":6},"end":{"line":89,"column":6}}]},"7":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":8},"end":{"line":99,"column":8}},{"start":{"line":99,"column":8},"end":{"line":99,"column":8}}]},"8":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":6},"end":{"line":131,"column":6}},{"start":{"line":131,"column":6},"end":{"line":131,"column":6}}]},"9":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":2},"end":{"line":146,"column":2}},{"start":{"line":146,"column":2},"end":{"line":146,"column":2}}]},"10":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":4},"end":{"line":158,"column":4}},{"start":{"line":158,"column":4},"end":{"line":158,"column":4}}]},"11":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":8},"end":{"line":158,"column":30}},{"start":{"line":158,"column":34},"end":{"line":158,"column":56}}]},"12":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":4}},{"start":{"line":164,"column":4},"end":{"line":164,"column":4}}]}},"code":["module.exports = auth;","module.exports.isAuthed = isAuthed;","","var Promise = require('es6-promise').Promise; // jshint ignore:line","var debug = require('debug')('snyk');","var open = require('open');","var snyk = require('../../lib/');","var config = require('../../lib/config');","var isCI = require('../../lib/is-ci');","var request = require('../../lib/request');","var url = require('url');","var uuid = require('uuid');","var spinner = require('../../lib/spinner');","var apiUrl = url.parse(config.API);","var authUrl = apiUrl.protocol + '//' + apiUrl.host;","var attemptsLeft = 0;","","function resetAttempts() {","  attemptsLeft = 30;","}","","function githubAuth(via) {","  var token = uuid.v4(); // generate a random key","  var redirects = {","    wizard: '/authenticated',","  };","","  var url = authUrl + '/login?token=' + token;","","  // validate that via comes from our code, and not from user & CLI","  // currently only support `wizard` but we'll add more over time.","  if (redirects[via]) {","    url += '&redirectUri=' + new Buffer(redirects[via]).toString('base64');","  }","","  var msg =","    '\\nNow redirecting you to our github auth page, go ahead and log in,\\n' +","    'and once the auth is complete, return to this prompt and you\\'ll\\n' +","    'be ready to start using snyk.\\n\\nIf you can\\'t wait use this url:\\n' +","    url + '\\n';","","  // suppress this message in CI","  if (!isCI) {","    console.log(msg);","  } else {","    var error = new Error('noAuthInCI');","    error.code = 'AUTH_IN_CI';","    return Promise.reject(error);","  }","","  var lbl = 'Waiting...';","","  return spinner(lbl).then(function () {","    setTimeout(function () {","      open(url);","    }, 2000);","    // start checking the token immediately in case they've already","    // opened the url manually","    return testAuthComplete(token).then(spinner.clear(lbl));","  });","}","","function testAuthComplete(token) {","  var payload = {","    body: {","      token: token,","    },","    url: config.API + '/verify/callback',","    json: true,","    method: 'post',","  };","","  return new Promise(function (resolve, reject) {","    debug(payload);","    request(payload, function (error, res, body) {","      debug(error, (res || {}).statusCode, body);","      if (error) {","        return reject(error);","      }","","","      if (res.statusCode !== 200) {","        var e = new Error(body.message);","        e.code = res.statusCode;","        return reject(e);","      }","","      // we have success","      if (body.api) {","        return resolve({","          res: res,","          body: body,","        });","      }","","      // we need to wait and poll again in a moment","      setTimeout(function () {","        attemptsLeft--;","        if (attemptsLeft > 0) {","          return resolve(testAuthComplete(token));","        }","","        var error = new Error('Sorry, but your authentication token has now' +","          ' expired.\\nPlease try to authenticate again.');","        error.code = 'AUTH_TIMEOUT';","        reject(error);","      }, 1000);","    });","  });","}","","function isAuthed() {","  var token = snyk.config.get('api');","  return verifyAPI(token).then(function (res) {","    return res.body.ok;","  });","}","","function verifyAPI(api) {","  var payload = {","    body: {","      api: api,","    },","    method: 'POST',","    url: config.API + '/verify/token',","    json: true,","  };","","  return new Promise(function (resolve, reject) {","    request(payload, function (error, res, body) {","      if (error) {","        return reject(error);","      }","","      resolve({","        res: res,","        body: body,","      });","    });","  });","}","","function auth(api, via) {","  var promise;","  resetAttempts();","  if (api) {","    // user is manually setting the API token on the CLI - let's trust them","    promise = verifyAPI(api);","  } else {","    promise = githubAuth(via);","  }","","  return promise.then(function (data) {","    var res = data.res;","    var body = res.body;","    debug(body);","","    if (res.statusCode === 200 || res.statusCode === 201) {","      snyk.config.set('api', body.api);","      return '\\nYour account has been authenticated. Snyk is now ready to ' +","        'be used.\\n';","    }","","    if (body.message) {","      var error = new Error(body.message);","      error.code = res.statusCode;","      throw error;","    }","","    throw new Error('authfail');","  });","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"18":1,"19":0,"22":1,"23":0,"24":0,"28":0,"32":0,"33":0,"36":0,"43":0,"44":0,"46":0,"47":0,"48":0,"51":0,"53":0,"54":0,"55":0,"59":0,"63":1,"64":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"82":0,"83":0,"84":0,"85":0,"89":0,"90":0,"97":0,"98":0,"99":0,"100":0,"103":0,"105":0,"106":0,"112":1,"113":0,"114":0,"115":0,"119":1,"120":0,"129":0,"130":0,"131":0,"132":0,"135":0,"143":1,"144":0,"145":0,"146":0,"148":0,"150":0,"153":0,"154":0,"155":0,"156":0,"158":0,"159":0,"160":0,"164":0,"165":0,"166":0,"167":0,"170":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/ignore.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/ignore.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"ignore","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":25}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":9},"end":{"line":28,"column":26}}},"3":{"name":"ignoreIssue","line":34,"loc":{"start":{"line":34,"column":8},"end":{"line":34,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"5":{"start":{"line":7,"column":0},"end":{"line":46,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":56}},"7":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":47}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":44}},"10":{"start":{"line":13,"column":2},"end":{"line":16,"column":3}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":64}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":69}},"13":{"start":{"line":17,"column":2},"end":{"line":19,"column":3}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":34}},"15":{"start":{"line":20,"column":2},"end":{"line":23,"column":3}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":33}},"17":{"start":{"line":22,"column":4},"end":{"line":22,"column":33}},"18":{"start":{"line":25,"column":2},"end":{"line":26,"column":52}},"19":{"start":{"line":27,"column":2},"end":{"line":45,"column":5}},"20":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"21":{"start":{"line":30,"column":6},"end":{"line":30,"column":29}},"22":{"start":{"line":32,"column":4},"end":{"line":32,"column":30}},"23":{"start":{"line":35,"column":4},"end":{"line":43,"column":6}},"24":{"start":{"line":44,"column":4},"end":{"line":44,"column":35}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"4":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"5":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":4}},{"start":{"line":29,"column":4},"end":{"line":29,"column":4}}]}},"code":["module.exports = ignore;","","var debug = require('debug')('snyk');","var policy = require('snyk-policy');","var Promise = require('es6-promise').Promise; // jshint ignore:line","","function ignore(options) {","  debug('snyk ignore called with options: %O', options);","  if (!options.id) {","    return Promise.reject(Error('idRequired'));","  }","  options.expiry = new Date(options.expiry);","  if (options.expiry.getTime() !== options.expiry.getTime()) {","    debug('No/invalid expiry given, using the default 30 days');","    options.expiry = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);","  }","  if (!options.reason) {","    options.reason = 'None Given';","  }","  if (!options.path) {","    debug('using cwd() as path');","    options.path = process.cwd();","  }","","  debug('changing policy: ignore \"%s\", for all paths, reason: \"%s\", until: %o',","        options.id, options.reason, options.expiry);","  return policy.load(options.path)","  .catch(function (error) {","    if (error.code === 'ENOENT') {    // file does not exist - create it","      return policy.create();","    }","    throw Error('policyFile');","  })","  .then(function ignoreIssue(pol) {","    pol.ignore[options.id] = [","      {","        '*':","        {","          reason: options.reason,","          expires: options.expiry,","        },","      },","    ];","    policy.save(pol, options.path);","  });","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"17":0,"18":0,"20":0,"21":0,"22":0,"25":0,"27":0,"29":0,"30":0,"32":0,"35":0,"44":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/modules.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/modules.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":42}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":50},"end":{"line":8,"column":69}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":58},"end":{"line":19,"column":73}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":23,"column":2}},"4":{"start":{"line":5,"column":2},"end":{"line":7,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":17}},"6":{"start":{"line":8,"column":2},"end":{"line":22,"column":5}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"8":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"9":{"start":{"line":12,"column":6},"end":{"line":12,"column":35}},"10":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"11":{"start":{"line":16,"column":6},"end":{"line":16,"column":44}},"12":{"start":{"line":19,"column":4},"end":{"line":21,"column":18}},"13":{"start":{"line":20,"column":6},"end":{"line":20,"column":44}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]},"2":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":22},"end":{"line":8,"column":26}},{"start":{"line":8,"column":30},"end":{"line":8,"column":43}}]},"3":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"4":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]}},"code":["var snyk = require('../../lib');","var Promise = require('es6-promise').Promise; // jshint ignore:line","","module.exports = function (path, options) {","  if (!options) {","    options = {};","  }","  return snyk.modules(path || process.cwd()).then(function (modules) {","","    var parent = '';","    if (modules.parent) {","      parent = modules.parent.full;","    }","","    if (options.json) {","      return JSON.stringify(modules, '', 2);","    }","","    return parent + Object.keys(modules.dependencies).map(function (key) {","      return modules.dependencies[key].full;","    }).join('\\n');","  });","};"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"10":0,"11":0,"12":0,"15":0,"16":0,"19":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/policy.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/policy.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"displayPolicy","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":11},"end":{"line":9,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":50}},"4":{"start":{"line":6,"column":0},"end":{"line":15,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":14,"column":7}},"6":{"start":{"line":10,"column":6},"end":{"line":12,"column":7}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":35}},"8":{"start":{"line":13,"column":6},"end":{"line":13,"column":14}}},"branchMap":{"1":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":21},"end":{"line":7,"column":25}},{"start":{"line":7,"column":29},"end":{"line":7,"column":42}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":6}},{"start":{"line":10,"column":6},"end":{"line":10,"column":6}}]}},"code":["module.exports = displayPolicy;","","var policy = require('snyk-policy');","var display = require('../../lib/display-policy');","","function displayPolicy(path) {","  return policy.load(path || process.cwd())","    .then(display)","    .catch(function (e) {","      if (e.code === 'ENOENT') {","        e.code = 'MISSING_DOTFILE';","      }","      throw e;","    });","}"],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"10":0,"11":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/scenario.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/scenario.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":1,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":1,"191":0,"192":1,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":1,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":1,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"scenario","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":37}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":18},"end":{"line":18,"column":30}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":37},"end":{"line":21,"column":53}}},"4":{"name":"(anonymous_4)","line":28,"loc":{"start":{"line":28,"column":10},"end":{"line":28,"column":25}}},"5":{"name":"loadScenario","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":32}}},"6":{"name":"scenarioTest","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":28}}},"7":{"name":"(anonymous_7)","line":44,"loc":{"start":{"line":44,"column":9},"end":{"line":44,"column":21}}},"8":{"name":"(anonymous_8)","line":45,"loc":{"start":{"line":45,"column":23},"end":{"line":45,"column":42}}},"9":{"name":"parseScenario","line":54,"loc":{"start":{"line":54,"column":0},"end":{"line":54,"column":31}}},"10":{"name":"(anonymous_10)","line":102,"loc":{"start":{"line":102,"column":41},"end":{"line":102,"column":59}}},"11":{"name":"(anonymous_11)","line":126,"loc":{"start":{"line":126,"column":39},"end":{"line":126,"column":57}}},"12":{"name":"(anonymous_12)","line":150,"loc":{"start":{"line":150,"column":34},"end":{"line":150,"column":50}}},"13":{"name":"(anonymous_13)","line":196,"loc":{"start":{"line":196,"column":45},"end":{"line":196,"column":61}}},"14":{"name":"(anonymous_14)","line":245,"loc":{"start":{"line":245,"column":43},"end":{"line":245,"column":59}}},"15":{"name":"cleanDepTree","line":322,"loc":{"start":{"line":322,"column":0},"end":{"line":322,"column":43}}},"16":{"name":"(anonymous_16)","line":323,"loc":{"start":{"line":323,"column":15},"end":{"line":323,"column":31}}},"17":{"name":"trim","line":342,"loc":{"start":{"line":342,"column":0},"end":{"line":342,"column":17}}},"18":{"name":"cleanVersion","line":346,"loc":{"start":{"line":346,"column":0},"end":{"line":346,"column":25}}},"19":{"name":"matchDep","line":362,"loc":{"start":{"line":362,"column":0},"end":{"line":362,"column":32}}},"20":{"name":"patchDate","line":378,"loc":{"start":{"line":378,"column":0},"end":{"line":378,"column":22}}},"21":{"name":"(anonymous_21)","line":381,"loc":{"start":{"line":381,"column":31},"end":{"line":381,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":37}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":32}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":29}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"11":{"start":{"line":13,"column":0},"end":{"line":33,"column":1}},"12":{"start":{"line":14,"column":2},"end":{"line":17,"column":4}},"13":{"start":{"line":18,"column":2},"end":{"line":20,"column":4}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":33}},"15":{"start":{"line":21,"column":2},"end":{"line":32,"column":5}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":35}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":30}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":46}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":39}},"20":{"start":{"line":27,"column":4},"end":{"line":27,"column":27}},"21":{"start":{"line":29,"column":4},"end":{"line":29,"column":27}},"22":{"start":{"line":30,"column":4},"end":{"line":30,"column":35}},"23":{"start":{"line":31,"column":4},"end":{"line":31,"column":15}},"24":{"start":{"line":35,"column":0},"end":{"line":41,"column":1}},"25":{"start":{"line":36,"column":2},"end":{"line":38,"column":3}},"26":{"start":{"line":37,"column":4},"end":{"line":37,"column":61}},"27":{"start":{"line":40,"column":2},"end":{"line":40,"column":56}},"28":{"start":{"line":43,"column":0},"end":{"line":52,"column":1}},"29":{"start":{"line":44,"column":2},"end":{"line":51,"column":4}},"30":{"start":{"line":45,"column":4},"end":{"line":50,"column":7}},"31":{"start":{"line":46,"column":6},"end":{"line":49,"column":9}},"32":{"start":{"line":54,"column":0},"end":{"line":320,"column":1}},"33":{"start":{"line":55,"column":2},"end":{"line":55,"column":15}},"34":{"start":{"line":56,"column":2},"end":{"line":56,"column":16}},"35":{"start":{"line":57,"column":2},"end":{"line":57,"column":27}},"36":{"start":{"line":58,"column":2},"end":{"line":58,"column":34}},"37":{"start":{"line":59,"column":2},"end":{"line":59,"column":69}},"38":{"start":{"line":60,"column":2},"end":{"line":60,"column":31}},"39":{"start":{"line":62,"column":2},"end":{"line":62,"column":88}},"40":{"start":{"line":64,"column":2},"end":{"line":64,"column":39}},"41":{"start":{"line":65,"column":2},"end":{"line":65,"column":65}},"42":{"start":{"line":66,"column":2},"end":{"line":66,"column":8}},"43":{"start":{"line":68,"column":2},"end":{"line":68,"column":19}},"44":{"start":{"line":69,"column":2},"end":{"line":69,"column":24}},"45":{"start":{"line":70,"column":2},"end":{"line":70,"column":42}},"46":{"start":{"line":71,"column":2},"end":{"line":71,"column":24}},"47":{"start":{"line":72,"column":2},"end":{"line":72,"column":24}},"48":{"start":{"line":74,"column":2},"end":{"line":74,"column":20}},"49":{"start":{"line":75,"column":2},"end":{"line":75,"column":8}},"50":{"start":{"line":76,"column":2},"end":{"line":76,"column":8}},"51":{"start":{"line":77,"column":2},"end":{"line":77,"column":8}},"52":{"start":{"line":78,"column":2},"end":{"line":78,"column":11}},"53":{"start":{"line":80,"column":2},"end":{"line":80,"column":50}},"54":{"start":{"line":81,"column":2},"end":{"line":235,"column":3}},"55":{"start":{"line":82,"column":4},"end":{"line":82,"column":24}},"56":{"start":{"line":83,"column":4},"end":{"line":83,"column":26}},"57":{"start":{"line":86,"column":4},"end":{"line":86,"column":23}},"58":{"start":{"line":87,"column":4},"end":{"line":87,"column":24}},"59":{"start":{"line":88,"column":4},"end":{"line":88,"column":26}},"60":{"start":{"line":89,"column":4},"end":{"line":89,"column":25}},"61":{"start":{"line":90,"column":4},"end":{"line":90,"column":26}},"62":{"start":{"line":92,"column":4},"end":{"line":95,"column":5}},"63":{"start":{"line":93,"column":6},"end":{"line":93,"column":24}},"64":{"start":{"line":94,"column":6},"end":{"line":94,"column":15}},"65":{"start":{"line":98,"column":4},"end":{"line":141,"column":5}},"66":{"start":{"line":99,"column":6},"end":{"line":138,"column":7}},"67":{"start":{"line":100,"column":8},"end":{"line":114,"column":9}},"68":{"start":{"line":101,"column":10},"end":{"line":101,"column":37}},"69":{"start":{"line":102,"column":10},"end":{"line":112,"column":13}},"70":{"start":{"line":103,"column":12},"end":{"line":103,"column":38}},"71":{"start":{"line":104,"column":12},"end":{"line":104,"column":38}},"72":{"start":{"line":105,"column":12},"end":{"line":111,"column":14}},"73":{"start":{"line":113,"column":10},"end":{"line":113,"column":20}},"74":{"start":{"line":116,"column":8},"end":{"line":116,"column":28}},"75":{"start":{"line":117,"column":8},"end":{"line":117,"column":34}},"76":{"start":{"line":118,"column":8},"end":{"line":118,"column":31}},"77":{"start":{"line":119,"column":8},"end":{"line":123,"column":9}},"78":{"start":{"line":120,"column":10},"end":{"line":122,"column":12}},"79":{"start":{"line":124,"column":8},"end":{"line":124,"column":42}},"80":{"start":{"line":126,"column":8},"end":{"line":137,"column":11}},"81":{"start":{"line":127,"column":10},"end":{"line":127,"column":36}},"82":{"start":{"line":128,"column":10},"end":{"line":128,"column":36}},"83":{"start":{"line":129,"column":10},"end":{"line":129,"column":59}},"84":{"start":{"line":130,"column":10},"end":{"line":136,"column":12}},"85":{"start":{"line":140,"column":6},"end":{"line":140,"column":15}},"86":{"start":{"line":143,"column":4},"end":{"line":169,"column":5}},"87":{"start":{"line":144,"column":6},"end":{"line":144,"column":30}},"88":{"start":{"line":146,"column":6},"end":{"line":146,"column":50}},"89":{"start":{"line":147,"column":6},"end":{"line":147,"column":36}},"90":{"start":{"line":148,"column":6},"end":{"line":166,"column":7}},"91":{"start":{"line":149,"column":8},"end":{"line":164,"column":9}},"92":{"start":{"line":150,"column":10},"end":{"line":163,"column":13}},"93":{"start":{"line":151,"column":12},"end":{"line":162,"column":13}},"94":{"start":{"line":152,"column":14},"end":{"line":154,"column":15}},"95":{"start":{"line":153,"column":16},"end":{"line":153,"column":34}},"96":{"start":{"line":156,"column":14},"end":{"line":161,"column":17}},"97":{"start":{"line":168,"column":6},"end":{"line":168,"column":15}},"98":{"start":{"line":171,"column":4},"end":{"line":234,"column":5}},"99":{"start":{"line":172,"column":6},"end":{"line":172,"column":26}},"100":{"start":{"line":173,"column":6},"end":{"line":173,"column":25}},"101":{"start":{"line":174,"column":6},"end":{"line":233,"column":7}},"102":{"start":{"line":175,"column":8},"end":{"line":175,"column":39}},"103":{"start":{"line":176,"column":8},"end":{"line":176,"column":44}},"104":{"start":{"line":177,"column":8},"end":{"line":177,"column":53}},"105":{"start":{"line":178,"column":8},"end":{"line":178,"column":46}},"106":{"start":{"line":180,"column":8},"end":{"line":184,"column":9}},"107":{"start":{"line":181,"column":10},"end":{"line":183,"column":12}},"108":{"start":{"line":186,"column":8},"end":{"line":186,"column":32}},"109":{"start":{"line":187,"column":8},"end":{"line":189,"column":9}},"110":{"start":{"line":188,"column":10},"end":{"line":188,"column":21}},"111":{"start":{"line":190,"column":8},"end":{"line":190,"column":34}},"112":{"start":{"line":192,"column":8},"end":{"line":231,"column":9}},"113":{"start":{"line":193,"column":10},"end":{"line":193,"column":23}},"114":{"start":{"line":196,"column":10},"end":{"line":198,"column":13}},"115":{"start":{"line":197,"column":12},"end":{"line":197,"column":33}},"116":{"start":{"line":200,"column":10},"end":{"line":209,"column":11}},"117":{"start":{"line":201,"column":12},"end":{"line":204,"column":14}},"118":{"start":{"line":205,"column":12},"end":{"line":205,"column":79}},"119":{"start":{"line":206,"column":12},"end":{"line":206,"column":59}},"120":{"start":{"line":207,"column":12},"end":{"line":207,"column":51}},"121":{"start":{"line":208,"column":12},"end":{"line":208,"column":21}},"122":{"start":{"line":211,"column":10},"end":{"line":223,"column":12}},"123":{"start":{"line":225,"column":10},"end":{"line":225,"column":54}},"124":{"start":{"line":226,"column":10},"end":{"line":226,"column":62}},"125":{"start":{"line":227,"column":10},"end":{"line":227,"column":57}},"126":{"start":{"line":228,"column":10},"end":{"line":228,"column":54}},"127":{"start":{"line":230,"column":10},"end":{"line":230,"column":46}},"128":{"start":{"line":232,"column":8},"end":{"line":232,"column":17}},"129":{"start":{"line":237,"column":2},"end":{"line":237,"column":43}},"130":{"start":{"line":238,"column":2},"end":{"line":243,"column":3}},"131":{"start":{"line":239,"column":4},"end":{"line":239,"column":29}},"132":{"start":{"line":242,"column":4},"end":{"line":242,"column":38}},"133":{"start":{"line":245,"column":2},"end":{"line":313,"column":5}},"134":{"start":{"line":247,"column":4},"end":{"line":247,"column":44}},"135":{"start":{"line":248,"column":4},"end":{"line":248,"column":10}},"136":{"start":{"line":249,"column":4},"end":{"line":249,"column":75}},"137":{"start":{"line":250,"column":4},"end":{"line":310,"column":5}},"138":{"start":{"line":251,"column":6},"end":{"line":251,"column":38}},"139":{"start":{"line":252,"column":6},"end":{"line":252,"column":28}},"140":{"start":{"line":253,"column":6},"end":{"line":253,"column":27}},"141":{"start":{"line":254,"column":6},"end":{"line":254,"column":24}},"142":{"start":{"line":255,"column":6},"end":{"line":255,"column":57}},"143":{"start":{"line":257,"column":6},"end":{"line":257,"column":47}},"144":{"start":{"line":258,"column":6},"end":{"line":280,"column":7}},"145":{"start":{"line":259,"column":8},"end":{"line":259,"column":28}},"146":{"start":{"line":260,"column":8},"end":{"line":260,"column":52}},"147":{"start":{"line":262,"column":8},"end":{"line":279,"column":9}},"148":{"start":{"line":263,"column":10},"end":{"line":263,"column":51}},"149":{"start":{"line":264,"column":10},"end":{"line":264,"column":42}},"150":{"start":{"line":265,"column":10},"end":{"line":268,"column":73}},"151":{"start":{"line":270,"column":10},"end":{"line":278,"column":11}},"152":{"start":{"line":271,"column":12},"end":{"line":271,"column":46}},"153":{"start":{"line":272,"column":12},"end":{"line":272,"column":45}},"154":{"start":{"line":273,"column":12},"end":{"line":273,"column":23}},"155":{"start":{"line":274,"column":12},"end":{"line":274,"column":25}},"156":{"start":{"line":275,"column":12},"end":{"line":275,"column":35}},"157":{"start":{"line":276,"column":12},"end":{"line":276,"column":18}},"158":{"start":{"line":277,"column":12},"end":{"line":277,"column":21}},"159":{"start":{"line":282,"column":6},"end":{"line":297,"column":7}},"160":{"start":{"line":283,"column":8},"end":{"line":296,"column":9}},"161":{"start":{"line":284,"column":10},"end":{"line":284,"column":30}},"162":{"start":{"line":286,"column":10},"end":{"line":286,"column":36}},"163":{"start":{"line":288,"column":10},"end":{"line":295,"column":11}},"164":{"start":{"line":289,"column":12},"end":{"line":289,"column":53}},"165":{"start":{"line":290,"column":12},"end":{"line":290,"column":45}},"166":{"start":{"line":291,"column":12},"end":{"line":291,"column":35}},"167":{"start":{"line":292,"column":12},"end":{"line":292,"column":18}},"168":{"start":{"line":294,"column":12},"end":{"line":294,"column":18}},"169":{"start":{"line":299,"column":6},"end":{"line":301,"column":7}},"170":{"start":{"line":300,"column":8},"end":{"line":300,"column":41}},"171":{"start":{"line":304,"column":6},"end":{"line":304,"column":62}},"172":{"start":{"line":305,"column":6},"end":{"line":307,"column":7}},"173":{"start":{"line":306,"column":8},"end":{"line":306,"column":40}},"174":{"start":{"line":309,"column":6},"end":{"line":309,"column":18}},"175":{"start":{"line":312,"column":4},"end":{"line":312,"column":31}},"176":{"start":{"line":315,"column":2},"end":{"line":315,"column":17}},"177":{"start":{"line":316,"column":2},"end":{"line":316,"column":27}},"178":{"start":{"line":317,"column":2},"end":{"line":317,"column":41}},"179":{"start":{"line":319,"column":2},"end":{"line":319,"column":14}},"180":{"start":{"line":322,"column":0},"end":{"line":340,"column":1}},"181":{"start":{"line":323,"column":2},"end":{"line":339,"column":5}},"182":{"start":{"line":324,"column":4},"end":{"line":324,"column":43}},"183":{"start":{"line":325,"column":4},"end":{"line":325,"column":71}},"184":{"start":{"line":326,"column":4},"end":{"line":326,"column":79}},"185":{"start":{"line":327,"column":4},"end":{"line":327,"column":66}},"186":{"start":{"line":328,"column":4},"end":{"line":338,"column":5}},"187":{"start":{"line":329,"column":6},"end":{"line":330,"column":49}},"188":{"start":{"line":331,"column":6},"end":{"line":335,"column":8}},"189":{"start":{"line":337,"column":6},"end":{"line":337,"column":50}},"190":{"start":{"line":342,"column":0},"end":{"line":344,"column":1}},"191":{"start":{"line":343,"column":2},"end":{"line":343,"column":18}},"192":{"start":{"line":346,"column":0},"end":{"line":360,"column":1}},"193":{"start":{"line":347,"column":2},"end":{"line":349,"column":3}},"194":{"start":{"line":348,"column":4},"end":{"line":348,"column":12}},"195":{"start":{"line":350,"column":2},"end":{"line":350,"column":29}},"196":{"start":{"line":351,"column":2},"end":{"line":353,"column":3}},"197":{"start":{"line":352,"column":4},"end":{"line":352,"column":22}},"198":{"start":{"line":355,"column":2},"end":{"line":357,"column":3}},"199":{"start":{"line":356,"column":4},"end":{"line":356,"column":20}},"200":{"start":{"line":359,"column":2},"end":{"line":359,"column":11}},"201":{"start":{"line":362,"column":0},"end":{"line":376,"column":1}},"202":{"start":{"line":363,"column":2},"end":{"line":363,"column":31}},"203":{"start":{"line":364,"column":2},"end":{"line":373,"column":3}},"204":{"start":{"line":365,"column":4},"end":{"line":365,"column":22}},"205":{"start":{"line":366,"column":4},"end":{"line":368,"column":5}},"206":{"start":{"line":367,"column":6},"end":{"line":367,"column":23}},"207":{"start":{"line":370,"column":4},"end":{"line":372,"column":5}},"208":{"start":{"line":371,"column":6},"end":{"line":371,"column":54}},"209":{"start":{"line":375,"column":2},"end":{"line":375,"column":15}},"210":{"start":{"line":378,"column":0},"end":{"line":390,"column":1}},"211":{"start":{"line":379,"column":2},"end":{"line":379,"column":30}},"212":{"start":{"line":380,"column":2},"end":{"line":383,"column":21}},"213":{"start":{"line":382,"column":4},"end":{"line":382,"column":42}},"214":{"start":{"line":384,"column":2},"end":{"line":384,"column":24}},"215":{"start":{"line":386,"column":2},"end":{"line":388,"column":3}},"216":{"start":{"line":387,"column":4},"end":{"line":387,"column":24}},"217":{"start":{"line":389,"column":2},"end":{"line":389,"column":23}}},"branchMap":{"1":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":16},"end":{"line":24,"column":26}},{"start":{"line":24,"column":30},"end":{"line":24,"column":44}}]},"2":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":2},"end":{"line":36,"column":2}},{"start":{"line":36,"column":2},"end":{"line":36,"column":2}}]},"3":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]},"4":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":4},"end":{"line":98,"column":4}},{"start":{"line":98,"column":4},"end":{"line":98,"column":4}}]},"5":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":6},"end":{"line":99,"column":6}},{"start":{"line":99,"column":6},"end":{"line":99,"column":6}}]},"6":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"7":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":8},"end":{"line":119,"column":8}},{"start":{"line":119,"column":8},"end":{"line":119,"column":8}}]},"8":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":4},"end":{"line":143,"column":4}},{"start":{"line":143,"column":4},"end":{"line":143,"column":4}}]},"9":{"line":146,"type":"binary-expr","locations":[{"start":{"line":146,"column":18},"end":{"line":146,"column":37}},{"start":{"line":146,"column":41},"end":{"line":146,"column":49}}]},"10":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":6},"end":{"line":148,"column":6}},{"start":{"line":148,"column":6},"end":{"line":148,"column":6}}]},"11":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":12},"end":{"line":151,"column":12}},{"start":{"line":151,"column":12},"end":{"line":151,"column":12}}]},"12":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":14},"end":{"line":152,"column":14}},{"start":{"line":152,"column":14},"end":{"line":152,"column":14}}]},"13":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":4},"end":{"line":171,"column":4}},{"start":{"line":171,"column":4},"end":{"line":171,"column":4}}]},"14":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":6},"end":{"line":174,"column":6}},{"start":{"line":174,"column":6},"end":{"line":174,"column":6}}]},"15":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":23},"end":{"line":177,"column":27}},{"start":{"line":177,"column":31},"end":{"line":177,"column":40}}]},"16":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":8},"end":{"line":180,"column":8}},{"start":{"line":180,"column":8},"end":{"line":180,"column":8}}]},"17":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":8},"end":{"line":187,"column":8}},{"start":{"line":187,"column":8},"end":{"line":187,"column":8}}]},"18":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":10},"end":{"line":200,"column":10}},{"start":{"line":200,"column":10},"end":{"line":200,"column":10}}]},"19":{"line":206,"type":"cond-expr","locations":[{"start":{"line":206,"column":33},"end":{"line":206,"column":38}},{"start":{"line":206,"column":41},"end":{"line":206,"column":58}}]},"20":{"line":227,"type":"cond-expr","locations":[{"start":{"line":227,"column":31},"end":{"line":227,"column":36}},{"start":{"line":227,"column":39},"end":{"line":227,"column":56}}]},"21":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":2},"end":{"line":238,"column":2}},{"start":{"line":238,"column":2},"end":{"line":238,"column":2}}]},"22":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":4},"end":{"line":250,"column":4}},{"start":{"line":250,"column":4},"end":{"line":250,"column":4}}]},"23":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":8},"end":{"line":262,"column":8}},{"start":{"line":262,"column":8},"end":{"line":262,"column":8}}]},"24":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":10},"end":{"line":270,"column":10}},{"start":{"line":270,"column":10},"end":{"line":270,"column":10}}]},"25":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":6},"end":{"line":282,"column":6}},{"start":{"line":282,"column":6},"end":{"line":282,"column":6}}]},"26":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":10},"end":{"line":288,"column":10}},{"start":{"line":288,"column":10},"end":{"line":288,"column":10}}]},"27":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":14},"end":{"line":288,"column":26}},{"start":{"line":288,"column":30},"end":{"line":288,"column":45}}]},"28":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":6},"end":{"line":299,"column":6}},{"start":{"line":299,"column":6},"end":{"line":299,"column":6}}]},"29":{"line":328,"type":"if","locations":[{"start":{"line":328,"column":4},"end":{"line":328,"column":4}},{"start":{"line":328,"column":4},"end":{"line":328,"column":4}}]},"30":{"line":347,"type":"if","locations":[{"start":{"line":347,"column":2},"end":{"line":347,"column":2}},{"start":{"line":347,"column":2},"end":{"line":347,"column":2}}]},"31":{"line":351,"type":"if","locations":[{"start":{"line":351,"column":2},"end":{"line":351,"column":2}},{"start":{"line":351,"column":2},"end":{"line":351,"column":2}}]},"32":{"line":355,"type":"if","locations":[{"start":{"line":355,"column":2},"end":{"line":355,"column":2}},{"start":{"line":355,"column":2},"end":{"line":355,"column":2}}]},"33":{"line":366,"type":"if","locations":[{"start":{"line":366,"column":4},"end":{"line":366,"column":4}},{"start":{"line":366,"column":4},"end":{"line":366,"column":4}}]},"34":{"line":370,"type":"if","locations":[{"start":{"line":370,"column":4},"end":{"line":370,"column":4}},{"start":{"line":370,"column":4},"end":{"line":370,"column":4}}]},"35":{"line":379,"type":"binary-expr","locations":[{"start":{"line":379,"column":7},"end":{"line":379,"column":8}},{"start":{"line":379,"column":12},"end":{"line":379,"column":14}}]},"36":{"line":382,"type":"cond-expr","locations":[{"start":{"line":382,"column":32},"end":{"line":382,"column":33}},{"start":{"line":382,"column":36},"end":{"line":382,"column":41}}]},"37":{"line":386,"type":"if","locations":[{"start":{"line":386,"column":2},"end":{"line":386,"column":2}},{"start":{"line":386,"column":2},"end":{"line":386,"column":2}}]}},"code":["module.exports = scenario;","module.exports.loadScenario = loadScenario;","","var debug = require('debug')('snyk');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var fs = require('then-fs');","var semver = require('semver');","var _ = require('../../dist/lodash-min');","var snyk = require('../../lib');","var auth = require('./auth');","var wizard = require('./protect/wizard');","","function scenario(casefile, options) {","  var cache = {","    isAuthed: auth.isAuthed,","    test: snyk.test,","  };","  auth.isAuthed = function () {","    return Promise.resolve(true);","  };","  return loadScenario(casefile).then(function (data) {","    snyk.test = scenarioTest(data);","    options['dry-run'] = true;","    console.log(data.title || 'Unknown case');","    debug(JSON.stringify(data, '', 2));","    // process.exit(1);","    return wizard(options);","  }).then(function (res) {","    snyk.test = cache.test;","    auth.isAuthed = cache.isAuthed;","    return res;","  });","}","","function loadScenario(casefile) {","  if (casefile.indexOf('.json') === -1) {","    return fs.readFile(casefile, 'utf8').then(parseScenario);","  }","","  return fs.readFile(casefile, 'utf8').then(JSON.parse);","}","","function scenarioTest(data) {","  return function () {","    return new Promise(function (resolve) {","      resolve({","        ok: false,","        vulnerabilities: data.vulnerabilities.slice(0),","      });","    });","  };","}","","function parseScenario(source) {","  var pkg = {};","  var data = {};","  var vulnerabilities = [];","  var title = /^title:\\s+(.*)$/im;","  var vuln = /([A-Za-z]\\-\\d+) has.*vuln(?:.*in ([A-Za-z]\\-\\d+))?/mgi;","  var vulnIds = /([Vv]\\d+)/mgi;","  // jscs:disable","  var uses = /([A-Za-z]\\-\\d+|App|app) uses ([A-Za-z]\\-\\d+)(?: and ([A-Za-z]\\-\\d+))*/mgi;","  // jscs:enable","  var module = /([A-Za-z]\\-\\d+|App)/gi;","  var patches = /([Pp]\\d+) fixes (?:.*([Vv]\\d+)+.*in (\\w+))?/mgi;","  var m;","","  pkg.name = 'app';","  pkg.version = '0.0.0';","  pkg.full = pkg.name + '@' + pkg.version;","  pkg.dependencies = {};","  pkg.path = [pkg.full];","","  var packages = {};","  var k;","  var p;","  var i;","  var path;","","  var lines = source.trim().split('\\n').map(trim);","  for (i = 0; i < lines.length; i++) {","    var line = lines[i];","    debug('>>> %s', line);","","    // reset all the indicies of the regexp","    uses.lastIndex = 0;","    title.lastIndex = 0;","    vulnIds.lastIndex = 0;","    module.lastIndex = 0;","    patches.lastIndex = 0;","","    if ((m = title.exec(line)) !== null) {","      data.title = m[0];","      continue;","    }","","    // create the relationships","    if (line.indexOf(' uses ') !== -1) {","      if ((m = uses.exec(line)) !== null) {","        if (m[1] === 'App') {","          debug('App uses...', line);","          m.slice(2).filter(Boolean).map(function (module) {","            var p = module.split('-');","            p[1] = cleanVersion(p[1]);","            pkg.dependencies[p[0]] = {","              name: p[0],","              version: p[1],","              full: p.join('@'),","              path: [],","              dependencies: {},","            };","          }); // jshint ignore:line","          m.shift();","        }","","        p = m[1].split('-');","        p[1] = cleanVersion(p[1]);","        var full = p.join('@');","        if (!packages[full]) {","          packages[full] = {","            dependencies: {},","          };","        }","        debug('packages', packages, full);","","        m.slice(2).filter(Boolean).map(function (module) {","          var p = module.split('-');","          p[1] = cleanVersion(p[1]);","          debug('package module: %s', module, p.join('@'));","          packages[full].dependencies[p[0]] = {","            name: p[0],","            version: p[1],","            full: p.join('@'),","            path: [],","            dependencies: {},","          };","        }); // jshint ignore:line","      }","","      continue;","    }","","    if (line.indexOf(' fixes ') !== -1) {","      debug('found fixes...');","","      var vulns = line.match(vulnIds) || [, 'V1'];","      debug('vulns found? ', vulns);","      if ((m = patches.exec(line)) !== null) {","        for (k = 0; k < vulns.length; k++) {","          vulnerabilities.forEach(function (vuln) {","            if (vuln.id === vulns[k]) {","              if (!vuln.patches) {","                vuln.patches = [];","              }","","              vuln.patches.push({","                urls: ['https://example.com/patches/' + m[1]],","                version: '*',","                id: 'patch:' + m[1],","                modificationTime: patchDate(m.slice(-1).pop()),","              });","            }","          }); // jshint ignore:line","        }","","      }","","      continue;","    }","","    if (line.indexOf(' has ') !== -1) {","      debug('vuln found');","      vuln.lastIndex = 0;","      if ((m = vuln.exec(line)) !== null) {","        var vulnIn = (m[1]).split('-');","        vulnIn[1] = cleanVersion(vulnIn[1]);","        var fixedIn = (m[2] || '-<0.0.0').split('-'); // there is no fix","        fixedIn[1] = cleanVersion(fixedIn[1]);","","        if (!packages[fixedIn.join('@')]) {","          packages[fixedIn.join('@')] = {","            dependencies: {},","          };","        }","","        m = line.match(vulnIds);","        if (m === null) {","          m = ['V1'];","        }","        debug('vulnIds', m, line);","","        for (k = 0; k < m.length; k++) {","          var v = m[k];","","          // first check if the vuln exists","          var match = vulnerabilities.filter(function (vuln) {","            return vuln.id === v;","          }); // jshint ignore:line","","          if (match.length) {","            match[0].semver = {","              vulnerable: vulnIn[1],","              patched: fixedIn[1],","            };","            match[0].from = [ pkg.name + '@' + pkg.version, vulnIn.join('@') ];","            path = !fixedIn[0] ? false : fixedIn.join('@');","            match[0].upgradePath = [ false, path ];","            continue;","          }","","          var vulnerability = {","            moduleName: vulnIn[0],","            id: v,","            name: vulnIn[0],","            version: vulnIn[1],","            below: vulnIn[1],","            semver: {","              vulnerable: vulnIn[1],","              patched: fixedIn[1],","            },","            severity: 'high',","            info: ['https://example.com/vuln/' + v],","          };","","          var fullfrom = pkg.name + '@' + pkg.version;","          vulnerability.from = [ fullfrom, vulnIn.join('@') ];","          path = !fixedIn[0] ? false : fixedIn.join('@');","          vulnerability.upgradePath = [ false, path ];","","          vulnerabilities.push(vulnerability);","        }","        continue;","      }","    }","  }","","  var deps = Object.keys(pkg.dependencies);","  if (deps.length === 0) {","    pkg.dependencies = false;","  } else {","    // clean up (and join) dependencies","    cleanDepTree(deps, pkg, packages);","  }","","  vulnerabilities = vulnerabilities.filter(function (vuln) {","    // console.log(vuln);","    debug('checking new vuln: %s', vuln.id);","    var p;","    var match = matchDep(vuln.name + '@' + vuln.version, pkg.dependencies);","    if (match) {","      vuln.from = match.path.slice(0);","      vuln.upgradePath = [];","      var name = vuln.name;","      var dirty = false;","      var target = vuln.name + '@' + vuln.semver.patched;","","      var packagesFull = Object.keys(packages);","      for (var i = 0; i < packagesFull.length; i++) {","        p = packagesFull[i];","        debug('checking for deep %s ~ %s', p, name);","","        if (packages[p].dependencies[name]) {","          debug('found matching package %s', name);","          var v = target.split('@').pop();","          debug('semver.satisfies(%s, %s) === %s',","            packages[p].dependencies[name].version,","            v,","            semver.satisfies(packages[p].dependencies[name].version, v));","","          if (semver.satisfies(packages[p].dependencies[name].version, v)) {","            debug('target found: %s', target);","            vuln.upgradePath.unshift(target);","            target = p;","            dirty = true;","            name = p.split('@')[0];","            i = 0;","            continue;","          }","        }","      }","","      if (dirty === false) {","        for (i = 0; i < packagesFull.length; i++) {","          p = packagesFull[i];","","          debug('checking shallow');","","          if (p === target && dirty === false) {","            debug('target direct found: %s', target);","            vuln.upgradePath.unshift(target);","            name = p.split('@')[0];","            i = 0;","","            break;","          }","        }","      }","","      if (dirty) {","        vuln.upgradePath.unshift(target);","      }","","      // now match the lengths","      var length = vuln.from.length - vuln.upgradePath.length;","      for (i = 0; i < length; i++) {","        vuln.upgradePath.unshift(false);","      }","","      return true;","    }","","    debug('no match for vuln');","  });","","  data.pkg = pkg;","  data.packages = packages;","  data.vulnerabilities = vulnerabilities;","","  return data;","}","","function cleanDepTree(deps, pkg, packages) {","  deps.forEach(function (curr) {","    var full = pkg.dependencies[curr].full;","    debug('push on %s with %s', pkg.dependencies[curr].path, pkg.full);","    pkg.dependencies[curr].path = pkg.path.concat(pkg.dependencies[curr].path);","    pkg.dependencies[curr].path.push(pkg.dependencies[curr].full);","    if (packages[full]) {","      pkg.dependencies[curr].dependencies =","        _.cloneDeep(packages[full].dependencies);","      cleanDepTree(","        Object.keys(pkg.dependencies[curr].dependencies),","        pkg.dependencies[curr],","        packages","      );","    } else {","      pkg.dependencies[curr].dependencies = false;","    }","  });","}","","function trim(s) {","  return s.trim();","}","","function cleanVersion(s) {","  if (!s) {","    s = '0';","  }","  var version = s.split('.');","  if (version.length === 1) {","    return s + '.0.0';","  }","","  if (version.length === 2) {","    return s + '.0';","  }","","  return s;","}","","function matchDep(module, deps) {","  var keys = Object.keys(deps);","  for (var i = 0; i < keys.length; i++) {","    var key = keys[i];","    if (deps[key].full === module) {","      return deps[key];","    }","","    if (deps[key].dependencies) {","      return matchDep(module, deps[key].dependencies);","    }","  }","","  return false;","}","","function patchDate(s) {","  s = (s || '').toLowerCase();","  var d = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep',","    'oct', 'nov', 'dec', ].map(function (d, i) {","    return s.indexOf(d) === 0 ? i : false;","  }).filter(Boolean);","  var date = new Date();","","  if (d.length) {","    date.setMonth(d[0]);","  }","  return date.toJSON();","}","","/*","Title: Direct upgrade","A-1 has vuln V1, fixed in A-2","App uses A-1","","","","{","  \"name\": \"qs-package\",","  \"version\": \"1.0.0\",","  \"license\": \"ISC\",","  \"depType\": \"extraneous\",","  \"hasDevDependencies\": true,","  \"full\": \"qs-package@1.0.0\",","  \"dependencies\": {","    \"qs\": {","      \"name\": \"qs\",","      \"version\": \"0.6.6\",","      \"full\": \"qs@0.6.6\",","      \"valid\": true,","      \"devDependencies\": {","        \"mocha\": \"*\",","        \"expect.js\": \"*\"","      },","      \"depType\": \"prod\",","      \"license\": \"none\",","      \"dep\": \"^0.6.6\",","      \"dependencies\": false","    }","  }","}"," */",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":0,"18":0,"19":0,"21":0,"22":0,"23":0,"24":0,"25":0,"27":0,"29":0,"30":0,"31":0,"35":1,"36":0,"37":0,"40":0,"43":1,"44":0,"45":0,"46":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"62":0,"64":0,"65":0,"66":0,"68":0,"69":0,"70":0,"71":0,"72":0,"74":0,"75":0,"76":0,"77":0,"78":0,"80":0,"81":0,"82":0,"83":0,"86":0,"87":0,"88":0,"89":0,"90":0,"92":0,"93":0,"94":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"113":0,"116":0,"117":0,"118":0,"119":0,"120":0,"124":0,"126":0,"127":0,"128":0,"129":0,"130":0,"140":0,"143":0,"144":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"156":0,"168":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"180":0,"181":0,"186":0,"187":0,"188":0,"190":0,"192":0,"193":0,"196":0,"197":0,"200":0,"201":0,"205":0,"206":0,"207":0,"208":0,"211":0,"225":0,"226":0,"227":0,"228":0,"230":0,"232":0,"237":0,"238":0,"239":0,"242":0,"245":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"257":0,"258":0,"259":0,"260":0,"262":0,"263":0,"264":0,"265":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"282":0,"283":0,"284":0,"286":0,"288":0,"289":0,"290":0,"291":0,"292":0,"294":0,"299":0,"300":0,"304":0,"305":0,"306":0,"309":0,"312":0,"315":0,"316":0,"317":0,"319":0,"322":1,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"331":0,"337":0,"342":1,"343":0,"346":1,"347":0,"348":0,"350":0,"351":0,"352":0,"355":0,"356":0,"359":0,"362":1,"363":0,"364":0,"365":0,"366":0,"367":0,"370":0,"371":0,"375":0,"378":1,"379":0,"380":0,"382":0,"384":0,"386":0,"387":0,"389":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/protect/wizard.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/protect/wizard.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":1,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0},"fnMap":{"1":{"name":"wizard","line":33,"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":25}}},"2":{"name":"(anonymous_2)","line":42,"loc":{"start":{"line":42,"column":9},"end":{"line":42,"column":26}}},"3":{"name":"processPackageManager","line":47,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":40}}},"4":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":10},"end":{"line":66,"column":28}}},"5":{"name":"processWizardFlow","line":79,"loc":{"start":{"line":79,"column":0},"end":{"line":79,"column":36}}},"6":{"name":"(anonymous_6)","line":88,"loc":{"start":{"line":88,"column":41},"end":{"line":88,"column":58}}},"7":{"name":"(anonymous_7)","line":98,"loc":{"start":{"line":98,"column":10},"end":{"line":98,"column":28}}},"8":{"name":"(anonymous_8)","line":99,"loc":{"start":{"line":99,"column":32},"end":{"line":99,"column":50}}},"9":{"name":"(anonymous_9)","line":104,"loc":{"start":{"line":104,"column":12},"end":{"line":104,"column":24}}},"10":{"name":"(anonymous_10)","line":106,"loc":{"start":{"line":106,"column":45},"end":{"line":106,"column":60}}},"11":{"name":"(anonymous_11)","line":110,"loc":{"start":{"line":110,"column":14},"end":{"line":110,"column":26}}},"12":{"name":"(anonymous_12)","line":111,"loc":{"start":{"line":111,"column":27},"end":{"line":111,"column":46}}},"13":{"name":"(anonymous_13)","line":115,"loc":{"start":{"line":115,"column":55},"end":{"line":115,"column":74}}},"14":{"name":"(anonymous_14)","line":123,"loc":{"start":{"line":123,"column":14},"end":{"line":123,"column":26}}},"15":{"name":"(anonymous_15)","line":124,"loc":{"start":{"line":124,"column":44},"end":{"line":124,"column":59}}},"16":{"name":"(anonymous_16)","line":126,"loc":{"start":{"line":126,"column":57},"end":{"line":126,"column":74}}},"17":{"name":"(anonymous_17)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":75}}},"18":{"name":"(anonymous_18)","line":140,"loc":{"start":{"line":140,"column":47},"end":{"line":140,"column":63}}},"19":{"name":"(anonymous_19)","line":158,"loc":{"start":{"line":158,"column":46},"end":{"line":158,"column":61}}},"20":{"name":"(anonymous_20)","line":161,"loc":{"start":{"line":161,"column":54},"end":{"line":161,"column":73}}},"21":{"name":"interactive","line":171,"loc":{"start":{"line":171,"column":0},"end":{"line":171,"column":40}}},"22":{"name":"(anonymous_22)","line":181,"loc":{"start":{"line":181,"column":21},"end":{"line":181,"column":40}}},"23":{"name":"(anonymous_23)","line":185,"loc":{"start":{"line":185,"column":10},"end":{"line":185,"column":29}}},"24":{"name":"(anonymous_24)","line":188,"loc":{"start":{"line":188,"column":10},"end":{"line":188,"column":29}}},"25":{"name":"(anonymous_25)","line":191,"loc":{"start":{"line":191,"column":10},"end":{"line":191,"column":29}}},"26":{"name":"(anonymous_26)","line":194,"loc":{"start":{"line":194,"column":10},"end":{"line":194,"column":29}}},"27":{"name":"inquire","line":202,"loc":{"start":{"line":202,"column":0},"end":{"line":202,"column":35}}},"28":{"name":"(anonymous_28)","line":206,"loc":{"start":{"line":206,"column":21},"end":{"line":206,"column":40}}},"29":{"name":"(anonymous_29)","line":207,"loc":{"start":{"line":207,"column":34},"end":{"line":207,"column":58}}},"30":{"name":"processAnswers","line":214,"loc":{"start":{"line":214,"column":0},"end":{"line":214,"column":50}}},"31":{"name":"(anonymous_31)","line":231,"loc":{"start":{"line":231,"column":52},"end":{"line":231,"column":67}}},"32":{"name":"(anonymous_32)","line":264,"loc":{"start":{"line":264,"column":8},"end":{"line":264,"column":26}}},"33":{"name":"(anonymous_33)","line":275,"loc":{"start":{"line":275,"column":42},"end":{"line":275,"column":54}}},"34":{"name":"(anonymous_34)","line":281,"loc":{"start":{"line":281,"column":25},"end":{"line":281,"column":44}}},"35":{"name":"(anonymous_35)","line":284,"loc":{"start":{"line":284,"column":11},"end":{"line":284,"column":44}}},"36":{"name":"(anonymous_36)","line":299,"loc":{"start":{"line":299,"column":8},"end":{"line":299,"column":20}}},"37":{"name":"(anonymous_37)","line":304,"loc":{"start":{"line":304,"column":12},"end":{"line":304,"column":34}}},"38":{"name":"(anonymous_38)","line":309,"loc":{"start":{"line":309,"column":8},"end":{"line":309,"column":21}}},"39":{"name":"(anonymous_39)","line":320,"loc":{"start":{"line":320,"column":8},"end":{"line":320,"column":20}}},"40":{"name":"(anonymous_40)","line":343,"loc":{"start":{"line":343,"column":8},"end":{"line":343,"column":20}}},"41":{"name":"(anonymous_41)","line":377,"loc":{"start":{"line":377,"column":8},"end":{"line":377,"column":20}}},"42":{"name":"(anonymous_42)","line":421,"loc":{"start":{"line":421,"column":8},"end":{"line":421,"column":20}}},"43":{"name":"(anonymous_43)","line":431,"loc":{"start":{"line":431,"column":8},"end":{"line":431,"column":20}}},"44":{"name":"(anonymous_44)","line":448,"loc":{"start":{"line":448,"column":8},"end":{"line":448,"column":30}}},"45":{"name":"(anonymous_45)","line":479,"loc":{"start":{"line":479,"column":9},"end":{"line":479,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":47}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":35}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":28}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":45}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":29}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":25}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":44}},"14":{"start":{"line":17,"column":0},"end":{"line":17,"column":41}},"15":{"start":{"line":18,"column":0},"end":{"line":18,"column":37}},"16":{"start":{"line":19,"column":0},"end":{"line":19,"column":30}},"17":{"start":{"line":20,"column":0},"end":{"line":20,"column":39}},"18":{"start":{"line":21,"column":0},"end":{"line":21,"column":38}},"19":{"start":{"line":22,"column":0},"end":{"line":22,"column":40}},"20":{"start":{"line":23,"column":0},"end":{"line":23,"column":36}},"21":{"start":{"line":24,"column":0},"end":{"line":24,"column":41}},"22":{"start":{"line":25,"column":0},"end":{"line":25,"column":46}},"23":{"start":{"line":26,"column":0},"end":{"line":26,"column":44}},"24":{"start":{"line":27,"column":0},"end":{"line":27,"column":46}},"25":{"start":{"line":28,"column":0},"end":{"line":28,"column":50}},"26":{"start":{"line":29,"column":0},"end":{"line":29,"column":38}},"27":{"start":{"line":30,"column":0},"end":{"line":30,"column":24}},"28":{"start":{"line":31,"column":0},"end":{"line":31,"column":79}},"29":{"start":{"line":33,"column":0},"end":{"line":45,"column":1}},"30":{"start":{"line":34,"column":2},"end":{"line":36,"column":3}},"31":{"start":{"line":35,"column":4},"end":{"line":35,"column":17}},"32":{"start":{"line":37,"column":2},"end":{"line":39,"column":3}},"33":{"start":{"line":38,"column":4},"end":{"line":38,"column":29}},"34":{"start":{"line":40,"column":2},"end":{"line":44,"column":5}},"35":{"start":{"line":43,"column":4},"end":{"line":43,"column":33}},"36":{"start":{"line":47,"column":0},"end":{"line":77,"column":1}},"37":{"start":{"line":48,"column":2},"end":{"line":48,"column":58}},"38":{"start":{"line":49,"column":2},"end":{"line":52,"column":3}},"39":{"start":{"line":50,"column":4},"end":{"line":51,"column":70}},"40":{"start":{"line":53,"column":2},"end":{"line":56,"column":3}},"41":{"start":{"line":54,"column":4},"end":{"line":55,"column":67}},"42":{"start":{"line":57,"column":2},"end":{"line":74,"column":3}},"43":{"start":{"line":58,"column":4},"end":{"line":64,"column":6}},"44":{"start":{"line":65,"column":4},"end":{"line":73,"column":7}},"45":{"start":{"line":67,"column":6},"end":{"line":70,"column":7}},"46":{"start":{"line":68,"column":8},"end":{"line":68,"column":48}},"47":{"start":{"line":69,"column":8},"end":{"line":69,"column":40}},"48":{"start":{"line":71,"column":6},"end":{"line":71,"column":37}},"49":{"start":{"line":72,"column":6},"end":{"line":72,"column":38}},"50":{"start":{"line":75,"column":2},"end":{"line":75,"column":42}},"51":{"start":{"line":76,"column":2},"end":{"line":76,"column":34}},"52":{"start":{"line":79,"column":0},"end":{"line":169,"column":1}},"53":{"start":{"line":80,"column":2},"end":{"line":80,"column":19}},"54":{"start":{"line":82,"column":2},"end":{"line":86,"column":3}},"55":{"start":{"line":83,"column":4},"end":{"line":83,"column":30}},"56":{"start":{"line":85,"column":4},"end":{"line":85,"column":32}},"57":{"start":{"line":88,"column":2},"end":{"line":168,"column":5}},"58":{"start":{"line":92,"column":4},"end":{"line":95,"column":5}},"59":{"start":{"line":93,"column":6},"end":{"line":93,"column":31}},"60":{"start":{"line":94,"column":6},"end":{"line":94,"column":34}},"61":{"start":{"line":97,"column":4},"end":{"line":97,"column":16}},"62":{"start":{"line":99,"column":4},"end":{"line":167,"column":7}},"63":{"start":{"line":100,"column":6},"end":{"line":100,"column":44}},"64":{"start":{"line":101,"column":6},"end":{"line":103,"column":7}},"65":{"start":{"line":102,"column":8},"end":{"line":102,"column":36}},"66":{"start":{"line":105,"column":6},"end":{"line":105,"column":64}},"67":{"start":{"line":106,"column":6},"end":{"line":166,"column":9}},"68":{"start":{"line":107,"column":8},"end":{"line":109,"column":9}},"69":{"start":{"line":108,"column":10},"end":{"line":108,"column":27}},"70":{"start":{"line":111,"column":8},"end":{"line":122,"column":11}},"71":{"start":{"line":112,"column":10},"end":{"line":114,"column":11}},"72":{"start":{"line":113,"column":12},"end":{"line":113,"column":29}},"73":{"start":{"line":115,"column":10},"end":{"line":121,"column":13}},"74":{"start":{"line":116,"column":12},"end":{"line":116,"column":68}},"75":{"start":{"line":117,"column":12},"end":{"line":119,"column":13}},"76":{"start":{"line":118,"column":14},"end":{"line":118,"column":46}},"77":{"start":{"line":120,"column":12},"end":{"line":120,"column":22}},"78":{"start":{"line":124,"column":8},"end":{"line":165,"column":11}},"79":{"start":{"line":125,"column":10},"end":{"line":125,"column":62}},"80":{"start":{"line":126,"column":10},"end":{"line":128,"column":13}},"81":{"start":{"line":127,"column":12},"end":{"line":127,"column":44}},"82":{"start":{"line":129,"column":10},"end":{"line":132,"column":11}},"83":{"start":{"line":130,"column":12},"end":{"line":131,"column":47}},"84":{"start":{"line":133,"column":10},"end":{"line":135,"column":13}},"85":{"start":{"line":134,"column":12},"end":{"line":134,"column":43}},"86":{"start":{"line":136,"column":10},"end":{"line":156,"column":11}},"87":{"start":{"line":137,"column":12},"end":{"line":137,"column":44}},"88":{"start":{"line":138,"column":12},"end":{"line":138,"column":62}},"89":{"start":{"line":139,"column":12},"end":{"line":139,"column":55}},"90":{"start":{"line":140,"column":12},"end":{"line":142,"column":23}},"91":{"start":{"line":141,"column":14},"end":{"line":141,"column":29}},"92":{"start":{"line":144,"column":12},"end":{"line":151,"column":30}},"93":{"start":{"line":153,"column":12},"end":{"line":155,"column":35}},"94":{"start":{"line":158,"column":10},"end":{"line":164,"column":13}},"95":{"start":{"line":159,"column":12},"end":{"line":159,"column":48}},"96":{"start":{"line":160,"column":12},"end":{"line":160,"column":49}},"97":{"start":{"line":161,"column":12},"end":{"line":163,"column":15}},"98":{"start":{"line":162,"column":14},"end":{"line":162,"column":62}},"99":{"start":{"line":171,"column":0},"end":{"line":200,"column":1}},"100":{"start":{"line":172,"column":2},"end":{"line":172,"column":35}},"101":{"start":{"line":173,"column":2},"end":{"line":175,"column":3}},"102":{"start":{"line":174,"column":4},"end":{"line":174,"column":16}},"103":{"start":{"line":177,"column":2},"end":{"line":179,"column":3}},"104":{"start":{"line":178,"column":4},"end":{"line":178,"column":13}},"105":{"start":{"line":181,"column":2},"end":{"line":199,"column":5}},"106":{"start":{"line":182,"column":4},"end":{"line":182,"column":32}},"107":{"start":{"line":183,"column":4},"end":{"line":183,"column":61}},"108":{"start":{"line":184,"column":4},"end":{"line":184,"column":34}},"109":{"start":{"line":186,"column":4},"end":{"line":186,"column":60}},"110":{"start":{"line":187,"column":4},"end":{"line":187,"column":37}},"111":{"start":{"line":189,"column":4},"end":{"line":189,"column":61}},"112":{"start":{"line":190,"column":4},"end":{"line":190,"column":37}},"113":{"start":{"line":192,"column":4},"end":{"line":192,"column":71}},"114":{"start":{"line":193,"column":4},"end":{"line":193,"column":37}},"115":{"start":{"line":195,"column":4},"end":{"line":197,"column":5}},"116":{"start":{"line":196,"column":6},"end":{"line":196,"column":46}},"117":{"start":{"line":198,"column":4},"end":{"line":198,"column":19}},"118":{"start":{"line":202,"column":0},"end":{"line":212,"column":1}},"119":{"start":{"line":203,"column":2},"end":{"line":205,"column":3}},"120":{"start":{"line":204,"column":4},"end":{"line":204,"column":36}},"121":{"start":{"line":206,"column":2},"end":{"line":211,"column":5}},"122":{"start":{"line":207,"column":4},"end":{"line":210,"column":7}},"123":{"start":{"line":208,"column":6},"end":{"line":208,"column":38}},"124":{"start":{"line":209,"column":6},"end":{"line":209,"column":23}},"125":{"start":{"line":214,"column":0},"end":{"line":489,"column":1}},"126":{"start":{"line":215,"column":2},"end":{"line":217,"column":3}},"127":{"start":{"line":216,"column":4},"end":{"line":216,"column":17}},"128":{"start":{"line":218,"column":2},"end":{"line":218,"column":56}},"129":{"start":{"line":219,"column":2},"end":{"line":219,"column":58}},"130":{"start":{"line":222,"column":2},"end":{"line":224,"column":3}},"131":{"start":{"line":223,"column":4},"end":{"line":223,"column":59}},"132":{"start":{"line":226,"column":2},"end":{"line":226,"column":26}},"133":{"start":{"line":227,"column":2},"end":{"line":227,"column":54}},"134":{"start":{"line":229,"column":2},"end":{"line":229,"column":15}},"135":{"start":{"line":231,"column":2},"end":{"line":255,"column":22}},"136":{"start":{"line":233,"column":4},"end":{"line":235,"column":5}},"137":{"start":{"line":234,"column":6},"end":{"line":234,"column":13}},"138":{"start":{"line":238,"column":4},"end":{"line":240,"column":5}},"139":{"start":{"line":239,"column":6},"end":{"line":239,"column":13}},"140":{"start":{"line":242,"column":4},"end":{"line":242,"column":30}},"141":{"start":{"line":243,"column":4},"end":{"line":247,"column":6}},"142":{"start":{"line":249,"column":4},"end":{"line":252,"column":5}},"143":{"start":{"line":250,"column":6},"end":{"line":250,"column":49}},"144":{"start":{"line":251,"column":6},"end":{"line":251,"column":23}},"145":{"start":{"line":254,"column":4},"end":{"line":254,"column":15}},"146":{"start":{"line":257,"column":2},"end":{"line":257,"column":38}},"147":{"start":{"line":258,"column":2},"end":{"line":258,"column":15}},"148":{"start":{"line":260,"column":2},"end":{"line":260,"column":33}},"149":{"start":{"line":261,"column":2},"end":{"line":261,"column":24}},"150":{"start":{"line":263,"column":2},"end":{"line":486,"column":5}},"151":{"start":{"line":265,"column":4},"end":{"line":273,"column":5}},"152":{"start":{"line":270,"column":6},"end":{"line":270,"column":63}},"153":{"start":{"line":271,"column":6},"end":{"line":271,"column":24}},"154":{"start":{"line":272,"column":6},"end":{"line":272,"column":14}},"155":{"start":{"line":275,"column":4},"end":{"line":297,"column":7}},"156":{"start":{"line":277,"column":6},"end":{"line":279,"column":7}},"157":{"start":{"line":278,"column":8},"end":{"line":278,"column":33}},"158":{"start":{"line":281,"column":6},"end":{"line":296,"column":9}},"159":{"start":{"line":282,"column":8},"end":{"line":295,"column":11}},"160":{"start":{"line":285,"column":10},"end":{"line":287,"column":11}},"161":{"start":{"line":286,"column":12},"end":{"line":286,"column":54}},"162":{"start":{"line":289,"column":10},"end":{"line":291,"column":11}},"163":{"start":{"line":290,"column":12},"end":{"line":290,"column":63}},"164":{"start":{"line":294,"column":10},"end":{"line":294,"column":20}},"165":{"start":{"line":302,"column":4},"end":{"line":306,"column":9}},"166":{"start":{"line":305,"column":8},"end":{"line":305,"column":25}},"167":{"start":{"line":310,"column":4},"end":{"line":310,"column":33}},"168":{"start":{"line":313,"column":4},"end":{"line":317,"column":5}},"169":{"start":{"line":314,"column":6},"end":{"line":314,"column":14}},"170":{"start":{"line":316,"column":6},"end":{"line":316,"column":18}},"171":{"start":{"line":318,"column":4},"end":{"line":318,"column":20}},"172":{"start":{"line":321,"column":4},"end":{"line":321,"column":61}},"173":{"start":{"line":322,"column":4},"end":{"line":324,"column":5}},"174":{"start":{"line":323,"column":6},"end":{"line":323,"column":13}},"175":{"start":{"line":326,"column":4},"end":{"line":326,"column":43}},"176":{"start":{"line":328,"column":4},"end":{"line":330,"column":5}},"177":{"start":{"line":329,"column":6},"end":{"line":329,"column":23}},"178":{"start":{"line":332,"column":4},"end":{"line":332,"column":32}},"179":{"start":{"line":333,"column":4},"end":{"line":333,"column":26}},"180":{"start":{"line":334,"column":4},"end":{"line":341,"column":5}},"181":{"start":{"line":336,"column":6},"end":{"line":338,"column":7}},"182":{"start":{"line":337,"column":8},"end":{"line":337,"column":47}},"183":{"start":{"line":340,"column":6},"end":{"line":340,"column":29}},"184":{"start":{"line":344,"column":4},"end":{"line":344,"column":67}},"185":{"start":{"line":345,"column":4},"end":{"line":347,"column":5}},"186":{"start":{"line":346,"column":6},"end":{"line":346,"column":13}},"187":{"start":{"line":349,"column":4},"end":{"line":349,"column":46}},"188":{"start":{"line":351,"column":4},"end":{"line":353,"column":5}},"189":{"start":{"line":352,"column":6},"end":{"line":352,"column":23}},"190":{"start":{"line":355,"column":4},"end":{"line":355,"column":49}},"191":{"start":{"line":357,"column":4},"end":{"line":357,"column":37}},"192":{"start":{"line":358,"column":4},"end":{"line":358,"column":43}},"193":{"start":{"line":359,"column":4},"end":{"line":366,"column":5}},"194":{"start":{"line":361,"column":6},"end":{"line":363,"column":7}},"195":{"start":{"line":362,"column":8},"end":{"line":362,"column":56}},"196":{"start":{"line":365,"column":6},"end":{"line":365,"column":35}},"197":{"start":{"line":370,"column":4},"end":{"line":370,"column":46}},"198":{"start":{"line":371,"column":4},"end":{"line":373,"column":5}},"199":{"start":{"line":372,"column":6},"end":{"line":372,"column":65}},"200":{"start":{"line":375,"column":4},"end":{"line":375,"column":20}},"201":{"start":{"line":378,"column":4},"end":{"line":378,"column":41}},"202":{"start":{"line":379,"column":4},"end":{"line":410,"column":5}},"203":{"start":{"line":380,"column":6},"end":{"line":380,"column":40}},"204":{"start":{"line":382,"column":6},"end":{"line":409,"column":7}},"205":{"start":{"line":390,"column":8},"end":{"line":408,"column":9}},"206":{"start":{"line":391,"column":10},"end":{"line":393,"column":11}},"207":{"start":{"line":392,"column":12},"end":{"line":392,"column":34}},"208":{"start":{"line":394,"column":10},"end":{"line":394,"column":46}},"209":{"start":{"line":395,"column":10},"end":{"line":396,"column":41}},"210":{"start":{"line":399,"column":10},"end":{"line":401,"column":11}},"211":{"start":{"line":400,"column":12},"end":{"line":400,"column":44}},"212":{"start":{"line":402,"column":15},"end":{"line":408,"column":9}},"213":{"start":{"line":403,"column":10},"end":{"line":405,"column":11}},"214":{"start":{"line":404,"column":12},"end":{"line":404,"column":37}},"215":{"start":{"line":406,"column":10},"end":{"line":406,"column":68}},"216":{"start":{"line":407,"column":10},"end":{"line":407,"column":49}},"217":{"start":{"line":412,"column":4},"end":{"line":419,"column":5}},"218":{"start":{"line":414,"column":6},"end":{"line":415,"column":50}},"219":{"start":{"line":416,"column":6},"end":{"line":418,"column":34}},"220":{"start":{"line":422,"column":4},"end":{"line":429,"column":5}},"221":{"start":{"line":423,"column":6},"end":{"line":423,"column":35}},"222":{"start":{"line":425,"column":6},"end":{"line":425,"column":50}},"223":{"start":{"line":426,"column":6},"end":{"line":428,"column":34}},"224":{"start":{"line":432,"column":4},"end":{"line":436,"column":5}},"225":{"start":{"line":433,"column":6},"end":{"line":435,"column":8}},"226":{"start":{"line":438,"column":4},"end":{"line":438,"column":29}},"227":{"start":{"line":439,"column":4},"end":{"line":440,"column":25}},"228":{"start":{"line":441,"column":4},"end":{"line":446,"column":32}},"229":{"start":{"line":449,"column":4},"end":{"line":449,"column":41}},"230":{"start":{"line":450,"column":4},"end":{"line":450,"column":20}},"231":{"start":{"line":451,"column":4},"end":{"line":453,"column":5}},"232":{"start":{"line":452,"column":6},"end":{"line":452,"column":40}},"233":{"start":{"line":454,"column":4},"end":{"line":454,"column":61}},"234":{"start":{"line":455,"column":4},"end":{"line":455,"column":42}},"235":{"start":{"line":456,"column":4},"end":{"line":456,"column":43}},"236":{"start":{"line":457,"column":4},"end":{"line":457,"column":41}},"237":{"start":{"line":459,"column":4},"end":{"line":477,"column":10}},"238":{"start":{"line":481,"column":4},"end":{"line":483,"column":5}},"239":{"start":{"line":482,"column":6},"end":{"line":482,"column":27}},"240":{"start":{"line":485,"column":4},"end":{"line":485,"column":16}},"241":{"start":{"line":488,"column":2},"end":{"line":488,"column":13}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"2":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":37,"column":2}},{"start":{"line":37,"column":2},"end":{"line":37,"column":2}}]},"3":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]},"4":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":2},"end":{"line":53,"column":2}},{"start":{"line":53,"column":2},"end":{"line":53,"column":2}}]},"5":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]},"6":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":6},"end":{"line":67,"column":6}},{"start":{"line":67,"column":6},"end":{"line":67,"column":6}}]},"7":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":82,"column":2}},{"start":{"line":82,"column":2},"end":{"line":82,"column":2}}]},"8":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]},"9":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":6},"end":{"line":101,"column":6}},{"start":{"line":101,"column":6},"end":{"line":101,"column":6}}]},"10":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":8},"end":{"line":107,"column":8}},{"start":{"line":107,"column":8},"end":{"line":107,"column":8}}]},"11":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":10},"end":{"line":112,"column":10}},{"start":{"line":112,"column":10},"end":{"line":112,"column":10}}]},"12":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":12},"end":{"line":117,"column":12}},{"start":{"line":117,"column":12},"end":{"line":117,"column":12}}]},"13":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":10},"end":{"line":129,"column":10}},{"start":{"line":129,"column":10},"end":{"line":129,"column":10}}]},"14":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":10},"end":{"line":136,"column":10}},{"start":{"line":136,"column":10},"end":{"line":136,"column":10}}]},"15":{"line":138,"type":"cond-expr","locations":[{"start":{"line":138,"column":45},"end":{"line":138,"column":51}},{"start":{"line":138,"column":54},"end":{"line":138,"column":61}}]},"16":{"line":139,"type":"cond-expr","locations":[{"start":{"line":139,"column":43},"end":{"line":139,"column":46}},{"start":{"line":139,"column":49},"end":{"line":139,"column":54}}]},"17":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":2},"end":{"line":173,"column":2}},{"start":{"line":173,"column":2},"end":{"line":173,"column":2}}]},"18":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":2},"end":{"line":177,"column":2}},{"start":{"line":177,"column":2},"end":{"line":177,"column":2}}]},"19":{"line":192,"type":"cond-expr","locations":[{"start":{"line":192,"column":54},"end":{"line":192,"column":59}},{"start":{"line":192,"column":62},"end":{"line":192,"column":69}}]},"20":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":4},"end":{"line":195,"column":4}},{"start":{"line":195,"column":4},"end":{"line":195,"column":4}}]},"21":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":2},"end":{"line":203,"column":2}},{"start":{"line":203,"column":2},"end":{"line":203,"column":2}}]},"22":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":2},"end":{"line":215,"column":2}},{"start":{"line":215,"column":2},"end":{"line":215,"column":2}}]},"23":{"line":218,"type":"binary-expr","locations":[{"start":{"line":218,"column":27},"end":{"line":218,"column":49}},{"start":{"line":218,"column":53},"end":{"line":218,"column":55}}]},"24":{"line":219,"type":"binary-expr","locations":[{"start":{"line":219,"column":28},"end":{"line":219,"column":51}},{"start":{"line":219,"column":55},"end":{"line":219,"column":57}}]},"25":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":2},"end":{"line":222,"column":2}},{"start":{"line":222,"column":2},"end":{"line":222,"column":2}}]},"26":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":4},"end":{"line":233,"column":4}},{"start":{"line":233,"column":4},"end":{"line":233,"column":4}}]},"27":{"line":238,"type":"if","locations":[{"start":{"line":238,"column":4},"end":{"line":238,"column":4}},{"start":{"line":238,"column":4},"end":{"line":238,"column":4}}]},"28":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":4},"end":{"line":249,"column":4}},{"start":{"line":249,"column":4},"end":{"line":249,"column":4}}]},"29":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":4},"end":{"line":265,"column":4}},{"start":{"line":265,"column":4},"end":{"line":265,"column":4}}]},"30":{"line":277,"type":"if","locations":[{"start":{"line":277,"column":6},"end":{"line":277,"column":6}},{"start":{"line":277,"column":6},"end":{"line":277,"column":6}}]},"31":{"line":277,"type":"binary-expr","locations":[{"start":{"line":277,"column":10},"end":{"line":277,"column":14}},{"start":{"line":277,"column":18},"end":{"line":277,"column":33}}]},"32":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":10},"end":{"line":285,"column":10}},{"start":{"line":285,"column":10},"end":{"line":285,"column":10}}]},"33":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":10},"end":{"line":289,"column":10}},{"start":{"line":289,"column":10},"end":{"line":289,"column":10}}]},"34":{"line":313,"type":"if","locations":[{"start":{"line":313,"column":4},"end":{"line":313,"column":4}},{"start":{"line":313,"column":4},"end":{"line":313,"column":4}}]},"35":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":4},"end":{"line":322,"column":4}},{"start":{"line":322,"column":4},"end":{"line":322,"column":4}}]},"36":{"line":328,"type":"if","locations":[{"start":{"line":328,"column":4},"end":{"line":328,"column":4}},{"start":{"line":328,"column":4},"end":{"line":328,"column":4}}]},"37":{"line":334,"type":"if","locations":[{"start":{"line":334,"column":4},"end":{"line":334,"column":4}},{"start":{"line":334,"column":4},"end":{"line":334,"column":4}}]},"38":{"line":334,"type":"binary-expr","locations":[{"start":{"line":334,"column":8},"end":{"line":334,"column":12}},{"start":{"line":334,"column":16},"end":{"line":334,"column":68}}]},"39":{"line":336,"type":"if","locations":[{"start":{"line":336,"column":6},"end":{"line":336,"column":6}},{"start":{"line":336,"column":6},"end":{"line":336,"column":6}}]},"40":{"line":345,"type":"if","locations":[{"start":{"line":345,"column":4},"end":{"line":345,"column":4}},{"start":{"line":345,"column":4},"end":{"line":345,"column":4}}]},"41":{"line":351,"type":"if","locations":[{"start":{"line":351,"column":4},"end":{"line":351,"column":4}},{"start":{"line":351,"column":4},"end":{"line":351,"column":4}}]},"42":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":4},"end":{"line":359,"column":4}},{"start":{"line":359,"column":4},"end":{"line":359,"column":4}}]},"43":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":6},"end":{"line":361,"column":6}},{"start":{"line":361,"column":6},"end":{"line":361,"column":6}}]},"44":{"line":371,"type":"if","locations":[{"start":{"line":371,"column":4},"end":{"line":371,"column":4}},{"start":{"line":371,"column":4},"end":{"line":371,"column":4}}]},"45":{"line":371,"type":"binary-expr","locations":[{"start":{"line":371,"column":8},"end":{"line":371,"column":19}},{"start":{"line":371,"column":23},"end":{"line":371,"column":54}}]},"46":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":4},"end":{"line":379,"column":4}},{"start":{"line":379,"column":4},"end":{"line":379,"column":4}}]},"47":{"line":379,"type":"binary-expr","locations":[{"start":{"line":379,"column":8},"end":{"line":379,"column":32}},{"start":{"line":379,"column":36},"end":{"line":379,"column":63}}]},"48":{"line":382,"type":"if","locations":[{"start":{"line":382,"column":6},"end":{"line":382,"column":6}},{"start":{"line":382,"column":6},"end":{"line":382,"column":6}}]},"49":{"line":382,"type":"binary-expr","locations":[{"start":{"line":382,"column":10},"end":{"line":382,"column":45}},{"start":{"line":383,"column":10},"end":{"line":383,"column":49}},{"start":{"line":384,"column":10},"end":{"line":384,"column":53}}]},"50":{"line":390,"type":"if","locations":[{"start":{"line":390,"column":8},"end":{"line":390,"column":8}},{"start":{"line":390,"column":8},"end":{"line":390,"column":8}}]},"51":{"line":391,"type":"if","locations":[{"start":{"line":391,"column":10},"end":{"line":391,"column":10}},{"start":{"line":391,"column":10},"end":{"line":391,"column":10}}]},"52":{"line":399,"type":"if","locations":[{"start":{"line":399,"column":10},"end":{"line":399,"column":10}},{"start":{"line":399,"column":10},"end":{"line":399,"column":10}}]},"53":{"line":402,"type":"if","locations":[{"start":{"line":402,"column":15},"end":{"line":402,"column":15}},{"start":{"line":402,"column":15},"end":{"line":402,"column":15}}]},"54":{"line":403,"type":"if","locations":[{"start":{"line":403,"column":10},"end":{"line":403,"column":10}},{"start":{"line":403,"column":10},"end":{"line":403,"column":10}}]},"55":{"line":412,"type":"if","locations":[{"start":{"line":412,"column":4},"end":{"line":412,"column":4}},{"start":{"line":412,"column":4},"end":{"line":412,"column":4}}]},"56":{"line":412,"type":"binary-expr","locations":[{"start":{"line":412,"column":8},"end":{"line":412,"column":32}},{"start":{"line":412,"column":36},"end":{"line":412,"column":63}},{"start":{"line":413,"column":10},"end":{"line":413,"column":29}}]},"57":{"line":422,"type":"if","locations":[{"start":{"line":422,"column":4},"end":{"line":422,"column":4}},{"start":{"line":422,"column":4},"end":{"line":422,"column":4}}]},"58":{"line":422,"type":"binary-expr","locations":[{"start":{"line":422,"column":8},"end":{"line":422,"column":40}},{"start":{"line":422,"column":44},"end":{"line":422,"column":63}}]},"59":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":4},"end":{"line":432,"column":4}},{"start":{"line":432,"column":4},"end":{"line":432,"column":4}}]},"60":{"line":451,"type":"if","locations":[{"start":{"line":451,"column":4},"end":{"line":451,"column":4}},{"start":{"line":451,"column":4},"end":{"line":451,"column":4}}]},"61":{"line":459,"type":"cond-expr","locations":[{"start":{"line":461,"column":6},"end":{"line":462,"column":68}},{"start":{"line":464,"column":6},"end":{"line":464,"column":63}}]},"62":{"line":468,"type":"cond-expr","locations":[{"start":{"line":469,"column":6},"end":{"line":470,"column":22}},{"start":{"line":471,"column":6},"end":{"line":472,"column":56}}]},"63":{"line":473,"type":"cond-expr","locations":[{"start":{"line":474,"column":6},"end":{"line":476,"column":47}},{"start":{"line":477,"column":6},"end":{"line":477,"column":8}}]},"64":{"line":481,"type":"if","locations":[{"start":{"line":481,"column":4},"end":{"line":481,"column":4}},{"start":{"line":481,"column":4},"end":{"line":481,"column":4}}]}},"code":["module.exports = wizard;","// used for testing","module.exports.processAnswers = processAnswers;","module.exports.inquire = inquire;","module.exports.interactive = interactive;","","var Promise = require('es6-promise').Promise; // jshint ignore:line","","var debug = require('debug')('snyk');","var path = require('path');","var inquirer = require('inquirer');","var fs = require('then-fs');","var tryRequire = require('snyk-try-require');","var chalk = require('chalk');","var url = require('url');","var _ = require('../../../dist/lodash-min');","var exec = require('child_process').exec;","var undefsafe = require('undefsafe');","var auth = require('../auth');","var getVersion = require('../version');","var allPrompts = require('./prompts');","var answersToTasks = require('./tasks');","var snyk = require('../../../lib/');","var isCI = require('../../../lib/is-ci');","var protect = require('../../../lib/protect');","var config = require('../../../lib/config');","var spinner = require('../../../lib/spinner');","var analytics = require('../../../lib/analytics');","var npm = require('../../../lib/npm');","var cwd = process.cwd();","var detectPackageManager = require('../../../lib/detect').detectPackageManager;","","function wizard(options) {","  if (!options) {","    options = {};","  }","  if (config.org) {","    options.org = config.org;","  }","  return processPackageManager(options)","  .then(processWizardFlow)","  .catch(function (error) {","    return Promise.reject(error);","  });","}","","function processPackageManager(options) {","  var packageManager = detectPackageManager(cwd, options);","  if (packageManager === 'rubygems') {","    return Promise.reject(","      'Snyk wizard for RubyGems projects is not currently supported');","  }","  if (packageManager === 'maven') {","    return Promise.reject(","      'Snyk wizard for Maven projects is not currently supported');","  }","  if (packageManager === 'yarn') {","    var prompt = {","      name: 'choose-yarn',","      message: 'A yarn.lock file was detected.\\n' +","        '  Should the wizard use Yarn [Y] or npm [n] when applying updates?',","      type: 'confirm',","      default: true,","    };","    return inquire(prompt, {})","    .then(function (answer) {","      if (answer['choose-yarn']) {","        options.packageManager = packageManager;","        return Promise.resolve(options);","      }","      options.packageManager = 'npm';","      return Promise.resolve(options);","    });","  }","  options.packageManager = packageManager;","  return Promise.resolve(options);","}","","function processWizardFlow(options) {","  spinner.sticky();","","  if (options['dry-run']) {","    debug('*** dry run ****');","  } else {","    debug('~~~~ LIVE RUN ~~~~');","  }","","  return snyk.policy.load(options).catch(function (error) {","    // if we land in the catch, but we're in interactive mode, then it means","    // the file hasn't been created yet, and that's fine, so we'll resolve","    // with an empty object","    if (error.code === 'ENOENT') {","      options.newPolicy = true;","      return snyk.policy.create();","    }","","    throw error;","  }).then(function (policy) {","    return auth.isAuthed().then(function (authed) {","      analytics.add('inline-auth', !authed);","      if (!authed) {","        return auth(null, 'wizard');","      }","    }).then(function () {","      var intro = __dirname + '/../../../help/wizard-intro.txt';","      return fs.readFile(intro, 'utf8').then(function (str) {","        if (!isCI) {","          console.log(str);","        }","      }).then(function () {","        return new Promise(function (resolve) {","          if (options.newPolicy) {","            return resolve(); // don't prompt to start over","          }","          inquirer.prompt(allPrompts.startOver()).then(function (answers) {","            analytics.add('start-over', answers['misc-start-over']);","            if (answers['misc-start-over']) {","              options['ignore-policy'] = true;","            }","            resolve();","          });","        });","      }).then(function () {","        return snyk.test(cwd, options).then(function (res) {","          var packageFile = path.resolve(cwd, 'package.json');","          var licenseIssues = res.vulnerabilities.filter(function (issue) {","            return issue.type === 'license';","          });","          if (licenseIssues) {","            console.log('\\nLicense issues are not supported by the wizard, ' +","                        'use `snyk ignore`\\n');","          }","          res.vulnerabilities = res.vulnerabilities.filter(function (vuln) {","            return vuln.type !== 'license';","          });","          if (!res.ok) {","            var vulns = res.vulnerabilities;","            var paths = vulns.length === 1 ? 'path' : 'paths';","            var ies = vulns.length === 1 ? 'y' : 'ies';","            var uniqueCount = _.uniq(vulns.map(function (vuln) {","              return vuln.id;","            })).length;","            // echo out the deps + vulns found","            console.log('Tested %s dependencies for known vulnerabilities, %s',","              res.dependencyCount,","              chalk.bold.red('found ' +","                uniqueCount +","                ' vulnerabilit' + ies +","                ', ' + vulns.length +","                ' vulnerable ' +","                paths + '.'));","          } else {","            console.log(chalk.green('✓ Tested %s dependencies for known ' +","              'vulnerabilities, no vulnerable paths found.'),","              res.dependencyCount);","          }","","          return tryRequire(packageFile).then(function (pkg) {","            options.packageLeading = pkg.prefix;","            options.packageTrailing = pkg.suffix;","            return interactive(res, pkg, policy).then(function (answers) {","              return processAnswers(answers, policy, options);","            });","          });","        });","      });","    });","  });","}","","function interactive(test, pkg, policy) {","  var vulns = test.vulnerabilities;","  if (!policy) {","    policy = {};","  }","","  if (!pkg) { // only really happening in tests","    pkg = {};","  }","","  return new Promise(function (resolve) {","    debug('starting questions');","    var prompts = allPrompts.getUpdatePrompts(vulns, policy);","    resolve(inquire(prompts, {}));","  }).then(function (answers) {","    var prompts = allPrompts.getPatchPrompts(vulns, policy);","    return inquire(prompts, answers);","  }).then(function (answers) {","    var prompts = allPrompts.getIgnorePrompts(vulns, policy);","    return inquire(prompts, answers);","  }).then(function (answers) {","    var prompts = allPrompts.nextSteps(pkg, test.ok ? false : answers);","    return inquire(prompts, answers);","  }).then(function (answers) {","    if (pkg.shrinkwrap) {","      answers['misc-build-shrinkwrap'] = true;","    }","    return answers;","  });","}","","function inquire(prompts, answers) {","  if (prompts.length === 0) {","    return Promise.resolve(answers);","  }","  return new Promise(function (resolve) {","    inquirer.prompt(prompts).then(function (theseAnswers) {","      _.extend(answers, theseAnswers);","      resolve(answers);","    });","  });","}","","function processAnswers(answers, policy, options) {","  if (!options) {","    options = {};","  }","  options.packageLeading = options.packageLeading || '';","  options.packageTrailing = options.packageTrailing || '';","  // allow us to capture the answers the users gave so we can combine this","  // the scenario running","  if (options.json) {","    return Promise.resolve(JSON.stringify(answers, '', 2));","  }","","  var cwd = process.cwd();","  var packageFile = path.resolve(cwd, 'package.json');","","  var pkg = {};","","  analytics.add('answers', Object.keys(answers).map(function (key) {","    // if we're looking at a reason, skip it","    if (key.indexOf('-reason') !== -1) {","      return;","    }","","    // ignore misc questions, like \"add snyk test to package?\"","    if (key.indexOf('misc-') === 0) {","      return;","    }","","    var answer = answers[key];","    var res = {","      vulnId: answer.vuln.id,","      choice: answer.choice,","      from: answer.vuln.from.slice(1),","    };","","    if (answer.vuln.grouped) {","      res.batchMain = !!answer.vuln.grouped.main;","      res.batch = true;","    }","","    return res;","  }).filter(Boolean));","","  var tasks = answersToTasks(answers);","  debug(tasks);","","  var live = !options['dry-run'];","  var snykVersion = '*';","","  var res = protect.generatePolicy(policy, tasks, live, options.packageManager)","  .then(function (policy) {","    if (!live) {","      // if this was a dry run, we'll throw an error to bail out of the","      // promise chain, then in the catch, check the error.code and if","      // it matches `DRYRUN` we'll return the text and not an error","      // (which avoids the exit code 1).","      var e = new Error('This was a dry run: nothing changed');","      e.code = 'DRYRUN';","      throw e;","    }","","    return policy.save(cwd, spinner).then(function () {","      // don't do this during testing","      if (isCI || process.env.TAP) {","        return Promise.resolve();","      }","","      return new Promise(function (resolve) {","        exec('git add .snyk', {","          cwd: cwd,","        }, function (error, stdout, stderr) {","          if (error) {","            debug('error adding .snyk to git', error);","          }","","          if (stderr) {","            debug('stderr adding .snyk to git', stderr.trim());","          }","","          // resolve either way","          resolve();","        });","      });","    });","  })","  .then(function () {","    // re-read the package.json - because the generatePolicy can apply","    // an `npm install` which will change the deps","    return fs.readFile(packageFile, 'utf8')","      .then(JSON.parse)","      .then(function (updatedPkg) {","        pkg = updatedPkg;","      });","  })","  .then(getVersion)","  .then(function (v) {","    debug('snyk version: %s', v);","    // little hack to circumvent local testing where the version will","    // be the git branch + commit","    if (v.match(/^\\d+\\./) === null) {","      v = '*';","    } else {","      v = '^' + v;","    }","    snykVersion = v;","  })","  .then(function () {","    analytics.add('add-snyk-test', answers['misc-add-test']);","    if (!answers['misc-add-test']) {","      return;","    }","","    debug('adding `snyk test` to package');","","    if (!pkg.scripts) {","      pkg.scripts = {};","    }","","    var test = pkg.scripts.test;","    var cmd = 'snyk test';","    if (test && test !== 'echo \"Error: no test specified\" && exit 1') {","      // only add the test if it's not already in the test","      if (test.indexOf(cmd) === -1) {","        pkg.scripts.test = cmd + ' && ' + test;","      }","    } else {","      pkg.scripts.test = cmd;","    }","  })","  .then(function () {","    analytics.add('add-snyk-protect', answers['misc-add-protect']);","    if (!answers['misc-add-protect']) {","      return;","    }","","    debug('adding `snyk protect` to package');","","    if (!pkg.scripts) {","      pkg.scripts = {};","    }","","    pkg.scripts['snyk-protect'] = 'snyk protect';","","    var cmd = 'npm run snyk-protect';","    var runScript = pkg.scripts.prepublish;","    if (runScript) {","      // only add the prepublish if it's not already in the prepublish","      if (runScript.indexOf(cmd) === -1) {","        pkg.scripts.prepublish = cmd + '; ' + runScript;","      }","    } else {","      pkg.scripts.prepublish = cmd;","    }","","    // legacy check for `postinstall`, if `npm run snyk-protect` is in there","    // we'll replace it with `true` so it can be cleanly swapped out","    var postinstall = pkg.scripts.postinstall;","    if (postinstall && postinstall.indexOf(cmd) !== -1) {","      pkg.scripts.postinstall = postinstall.replace(cmd, 'true');","    }","","    pkg.snyk = true;","  })","  .then(function () {","    var lbl = 'Updating package.json...';","    if (answers['misc-add-test'] || answers['misc-add-protect']) {","      debug('updating %s', packageFile);","","      if (undefsafe(pkg, 'dependencies.snyk') ||","          undefsafe(pkg, 'peerDependencies.snyk') ||","          undefsafe(pkg, 'optionalDependencies.snyk')) {","        // nothing to do as the user already has Snyk","        // TODO decide whether we should update the version being used","        // and how do we reconcile if the global install is older","        // than the local version?","      } else {","        if (answers['misc-add-protect']) {","          if (!pkg.dependencies) {","            pkg.dependencies = {};","          }","          pkg.dependencies.snyk = snykVersion;","          lbl = 'Adding Snyk to production dependencies ' +","                '(used by snyk protect)';","","          // but also check if we should remove it from devDependencies","          if (undefsafe(pkg, 'devDependencies.snyk')) {","            delete pkg.devDependencies.snyk;","          }","        } else if (!undefsafe(pkg, 'devDependencies.snyk')) {","          if (!pkg.devDependencies) {","            pkg.devDependencies = {};","          }","          lbl = 'Adding Snyk to devDependencies (used by npm test)';","          pkg.devDependencies.snyk = snykVersion;","        }","      }","    }","","    if (answers['misc-add-test'] || answers['misc-add-protect'] ||","          tasks.update.length) {","      var packageString = options.packageLeading + JSON.stringify(pkg, '', 2) +","                          options.packageTrailing;","      return spinner(lbl)","        .then(fs.writeFile(packageFile, packageString))","        .then(spinner.clear(lbl));","    }","  })","  .then(function () {","    if (answers['misc-build-shrinkwrap'] && tasks.update.length) {","      debug('updating shrinkwrap');","","      var lbl = 'Updating npm-shrinkwrap.json...';","      return spinner(lbl)","        .then(npm.bind(null, 'shrinkwrap', null, live, cwd, null))","        .then(spinner.clear(lbl));","    }","  })","  .then(function () {","    if (answers['misc-test-no-monitor']) { // allows us to automate tests","      return {","        id: 'test',","      };","    }","","    debug('running monitor');","    var lbl = 'Remembering current dependencies for future ' +","      'notifications...';","    return snyk.modules(cwd)","      .then(spinner(lbl))","      .then(snyk.monitor.bind(null, cwd, {","        method: 'wizard',","      }))","      .then(spinner.clear(lbl));","  })","  .then(function (monitorRes) {","    var endpoint = url.parse(config.API);","    var leader = '';","    if (monitorRes.org) {","      leader = '/org/' + monitorRes.org;","    }","    endpoint.pathname = leader + '/monitor/' + monitorRes.id;","    var monitorUrl = url.format(endpoint);","    endpoint.pathname = leader + '/manage';","    var manageUrl = url.format(endpoint);","","    return (options.newPolicy ?","      // if it's a newly created file","      '\\nYour policy file has been created with the actions you\\'ve ' +","        'selected, add it to your source control (`git add .snyk`).' :","      // otherwise we updated it","      '\\nYour .snyk policy file has been successfully updated.') +","      '\\nTo review your policy, run `snyk policy`.\\n\\n' +","      'You can see a snapshot of your dependencies here:\\n' +","      monitorUrl + '\\n\\n' +","      (monitorRes.isMonitored ?","      'We\\'ll notify you when relevant new vulnerabilities are ' +","      'disclosed.\\n\\n' :","      chalk.bold.red('Project is inactive, so notifications are turned off.\\n' +","      'Activate this project here: ' + manageUrl + '\\n')) +","      (monitorRes.trialStarted ?","      chalk.yellow('You\\'re over the free plan usage limit, \\n' +","      'and are now on a free 14-day premium trial.\\n' +","      'View plans here: ' + manageUrl + '\\n\\n') :","      '');","  })","  .catch(function (error) {","    // if it's a dry run - exit with 0 status","    if (error.code === 'DRYRUN') {","      return error.message;","    }","","    throw error;","  });","","  return res;","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"7":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"33":1,"34":0,"35":0,"37":0,"38":0,"40":0,"43":0,"47":1,"48":0,"49":0,"50":0,"53":0,"54":0,"57":0,"58":0,"65":0,"67":0,"68":0,"69":0,"71":0,"72":0,"75":0,"76":0,"79":1,"80":0,"82":0,"83":0,"85":0,"88":0,"92":0,"93":0,"94":0,"97":0,"99":0,"100":0,"101":0,"102":0,"105":0,"106":0,"107":0,"108":0,"111":0,"112":0,"113":0,"115":0,"116":0,"117":0,"118":0,"120":0,"124":0,"125":0,"126":0,"127":0,"129":0,"130":0,"133":0,"134":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"144":0,"153":0,"158":0,"159":0,"160":0,"161":0,"162":0,"171":1,"172":0,"173":0,"174":0,"177":0,"178":0,"181":0,"182":0,"183":0,"184":0,"186":0,"187":0,"189":0,"190":0,"192":0,"193":0,"195":0,"196":0,"198":0,"202":1,"203":0,"204":0,"206":0,"207":0,"208":0,"209":0,"214":1,"215":0,"216":0,"218":0,"219":0,"222":0,"223":0,"226":0,"227":0,"229":0,"231":0,"233":0,"234":0,"238":0,"239":0,"242":0,"243":0,"249":0,"250":0,"251":0,"254":0,"257":0,"258":0,"260":0,"261":0,"263":0,"265":0,"270":0,"271":0,"272":0,"275":0,"277":0,"278":0,"281":0,"282":0,"285":0,"286":0,"289":0,"290":0,"294":0,"302":0,"305":0,"310":0,"313":0,"314":0,"316":0,"318":0,"321":0,"322":0,"323":0,"326":0,"328":0,"329":0,"332":0,"333":0,"334":0,"336":0,"337":0,"340":0,"344":0,"345":0,"346":0,"349":0,"351":0,"352":0,"355":0,"357":0,"358":0,"359":0,"361":0,"362":0,"365":0,"370":0,"371":0,"372":0,"375":0,"378":0,"379":0,"380":0,"382":0,"390":0,"391":0,"392":0,"394":0,"395":0,"399":0,"400":0,"402":0,"403":0,"404":0,"406":0,"407":0,"412":0,"414":0,"416":0,"422":0,"423":0,"425":0,"426":0,"432":0,"433":0,"438":0,"439":0,"441":0,"449":0,"450":0,"451":0,"452":0,"454":0,"455":0,"456":0,"457":0,"459":0,"481":0,"482":0,"485":0,"488":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/version.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/version.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}}},"branchMap":{},"code":["module.exports = require('../../lib/version');"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/protect/prompts.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/protect/prompts.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":1,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":1,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":1,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":1,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":1,"329":0,"330":1,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0],"114":[0,0],"115":[0,0],"116":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"fnMap":{"1":{"name":"sort","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":20}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":9},"end":{"line":28,"column":25}}},"3":{"name":"sortUpgradePrompts","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":34}}},"4":{"name":"sortPatchPrompts","line":83,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":32}}},"5":{"name":"stripInvalidPatches","line":111,"loc":{"start":{"line":111,"column":0},"end":{"line":111,"column":36}}},"6":{"name":"(anonymous_6)","line":114,"loc":{"start":{"line":114,"column":19},"end":{"line":114,"column":35}}},"7":{"name":"(anonymous_7)","line":120,"loc":{"start":{"line":120,"column":41},"end":{"line":120,"column":58}}},"8":{"name":"(anonymous_8)","line":125,"loc":{"start":{"line":125,"column":39},"end":{"line":125,"column":55}}},"9":{"name":"getPrompts","line":140,"loc":{"start":{"line":140,"column":0},"end":{"line":140,"column":35}}},"10":{"name":"getPatchPrompts","line":146,"loc":{"start":{"line":146,"column":0},"end":{"line":146,"column":40}}},"11":{"name":"(anonymous_11)","line":152,"loc":{"start":{"line":152,"column":59},"end":{"line":152,"column":75}}},"12":{"name":"(anonymous_12)","line":168,"loc":{"start":{"line":168,"column":22},"end":{"line":168,"column":51}}},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":27},"end":{"line":180,"column":43}}},"14":{"name":"(anonymous_14)","line":255,"loc":{"start":{"line":255,"column":53},"end":{"line":255,"column":72}}},"15":{"name":"(anonymous_15)","line":280,"loc":{"start":{"line":280,"column":19},"end":{"line":280,"column":35}}},"16":{"name":"getIgnorePrompts","line":300,"loc":{"start":{"line":300,"column":0},"end":{"line":300,"column":41}}},"17":{"name":"(anonymous_17)","line":306,"loc":{"start":{"line":306,"column":59},"end":{"line":306,"column":75}}},"18":{"name":"getUpdatePrompts","line":327,"loc":{"start":{"line":327,"column":0},"end":{"line":327,"column":41}}},"19":{"name":"(anonymous_19)","line":333,"loc":{"start":{"line":333,"column":59},"end":{"line":333,"column":75}}},"20":{"name":"(anonymous_20)","line":347,"loc":{"start":{"line":347,"column":22},"end":{"line":347,"column":46}}},"21":{"name":"(anonymous_21)","line":401,"loc":{"start":{"line":401,"column":19},"end":{"line":401,"column":35}}},"22":{"name":"canBeUpgraded","line":410,"loc":{"start":{"line":410,"column":0},"end":{"line":410,"column":29}}},"23":{"name":"(anonymous_23)","line":419,"loc":{"start":{"line":419,"column":31},"end":{"line":419,"column":49}}},"24":{"name":"generatePrompt","line":436,"loc":{"start":{"line":436,"column":0},"end":{"line":436,"column":47}}},"25":{"name":"(anonymous_25)","line":475,"loc":{"start":{"line":475,"column":26},"end":{"line":475,"column":45}}},"26":{"name":"(anonymous_26)","line":538,"loc":{"start":{"line":538,"column":12},"end":{"line":538,"column":31}}},"27":{"name":"(anonymous_27)","line":544,"loc":{"start":{"line":544,"column":53},"end":{"line":544,"column":68}}},"28":{"name":"(anonymous_28)","line":572,"loc":{"start":{"line":572,"column":35},"end":{"line":572,"column":53}}},"29":{"name":"(anonymous_29)","line":726,"loc":{"start":{"line":726,"column":31},"end":{"line":726,"column":52}}},"30":{"name":"(anonymous_30)","line":728,"loc":{"start":{"line":728,"column":14},"end":{"line":728,"column":32}}},"31":{"name":"(anonymous_31)","line":733,"loc":{"start":{"line":733,"column":30},"end":{"line":733,"column":48}}},"32":{"name":"(anonymous_32)","line":758,"loc":{"start":{"line":758,"column":27},"end":{"line":758,"column":48}}},"33":{"name":"(anonymous_33)","line":773,"loc":{"start":{"line":773,"column":12},"end":{"line":773,"column":31}}},"34":{"name":"startOver","line":786,"loc":{"start":{"line":786,"column":0},"end":{"line":786,"column":21}}},"35":{"name":"nextSteps","line":796,"loc":{"start":{"line":796,"column":0},"end":{"line":796,"column":37}}},"36":{"name":"(anonymous_36)","line":822,"loc":{"start":{"line":822,"column":49},"end":{"line":822,"column":64}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":2}},"2":{"start":{"line":10,"column":0},"end":{"line":10,"column":44}},"3":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}},"5":{"start":{"line":13,"column":0},"end":{"line":13,"column":37}},"6":{"start":{"line":14,"column":0},"end":{"line":14,"column":46}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":44}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":37}},"9":{"start":{"line":17,"column":0},"end":{"line":17,"column":44}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"11":{"start":{"line":21,"column":0},"end":{"line":32,"column":1}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":20}},"13":{"start":{"line":23,"column":2},"end":{"line":26,"column":3}},"14":{"start":{"line":24,"column":4},"end":{"line":24,"column":19}},"15":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"16":{"start":{"line":28,"column":2},"end":{"line":31,"column":4}},"17":{"start":{"line":29,"column":4},"end":{"line":29,"column":72}},"18":{"start":{"line":30,"column":4},"end":{"line":30,"column":30}},"19":{"start":{"line":34,"column":0},"end":{"line":81,"column":1}},"20":{"start":{"line":35,"column":2},"end":{"line":35,"column":14}},"21":{"start":{"line":38,"column":2},"end":{"line":40,"column":3}},"22":{"start":{"line":39,"column":4},"end":{"line":39,"column":14}},"23":{"start":{"line":42,"column":2},"end":{"line":44,"column":3}},"24":{"start":{"line":43,"column":4},"end":{"line":43,"column":13}},"25":{"start":{"line":46,"column":2},"end":{"line":46,"column":37}},"26":{"start":{"line":47,"column":2},"end":{"line":47,"column":37}},"27":{"start":{"line":48,"column":2},"end":{"line":48,"column":29}},"28":{"start":{"line":49,"column":2},"end":{"line":51,"column":3}},"29":{"start":{"line":50,"column":4},"end":{"line":50,"column":15}},"30":{"start":{"line":54,"column":2},"end":{"line":78,"column":3}},"31":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"32":{"start":{"line":57,"column":6},"end":{"line":57,"column":15}},"33":{"start":{"line":59,"column":4},"end":{"line":59,"column":47}},"34":{"start":{"line":60,"column":4},"end":{"line":60,"column":47}},"35":{"start":{"line":62,"column":4},"end":{"line":62,"column":56}},"36":{"start":{"line":64,"column":4},"end":{"line":66,"column":5}},"37":{"start":{"line":65,"column":6},"end":{"line":65,"column":17}},"38":{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},"39":{"start":{"line":69,"column":6},"end":{"line":69,"column":16}},"40":{"start":{"line":72,"column":4},"end":{"line":74,"column":5}},"41":{"start":{"line":73,"column":6},"end":{"line":73,"column":15}},"42":{"start":{"line":77,"column":4},"end":{"line":77,"column":40}},"43":{"start":{"line":80,"column":2},"end":{"line":80,"column":13}},"44":{"start":{"line":83,"column":0},"end":{"line":109,"column":1}},"45":{"start":{"line":84,"column":2},"end":{"line":84,"column":14}},"46":{"start":{"line":87,"column":2},"end":{"line":87,"column":36}},"47":{"start":{"line":88,"column":2},"end":{"line":88,"column":36}},"48":{"start":{"line":90,"column":2},"end":{"line":92,"column":3}},"49":{"start":{"line":91,"column":4},"end":{"line":91,"column":14}},"50":{"start":{"line":94,"column":2},"end":{"line":96,"column":3}},"51":{"start":{"line":95,"column":4},"end":{"line":95,"column":13}},"52":{"start":{"line":98,"column":2},"end":{"line":98,"column":33}},"53":{"start":{"line":99,"column":2},"end":{"line":99,"column":33}},"54":{"start":{"line":100,"column":2},"end":{"line":100,"column":29}},"55":{"start":{"line":101,"column":2},"end":{"line":103,"column":3}},"56":{"start":{"line":102,"column":4},"end":{"line":102,"column":15}},"57":{"start":{"line":106,"column":2},"end":{"line":106,"column":38}},"58":{"start":{"line":108,"column":2},"end":{"line":108,"column":13}},"59":{"start":{"line":111,"column":0},"end":{"line":138,"column":1}},"60":{"start":{"line":114,"column":2},"end":{"line":136,"column":5}},"61":{"start":{"line":116,"column":4},"end":{"line":116,"column":28}},"62":{"start":{"line":117,"column":4},"end":{"line":117,"column":23}},"63":{"start":{"line":119,"column":4},"end":{"line":133,"column":5}},"64":{"start":{"line":120,"column":6},"end":{"line":122,"column":9}},"65":{"start":{"line":121,"column":8},"end":{"line":121,"column":61}},"66":{"start":{"line":125,"column":6},"end":{"line":127,"column":21}},"67":{"start":{"line":126,"column":8},"end":{"line":126,"column":64}},"68":{"start":{"line":130,"column":6},"end":{"line":132,"column":7}},"69":{"start":{"line":131,"column":8},"end":{"line":131,"column":80}},"70":{"start":{"line":135,"column":4},"end":{"line":135,"column":16}},"71":{"start":{"line":140,"column":0},"end":{"line":144,"column":1}},"72":{"start":{"line":141,"column":2},"end":{"line":143,"column":59}},"73":{"start":{"line":146,"column":0},"end":{"line":298,"column":1}},"74":{"start":{"line":147,"column":2},"end":{"line":147,"column":27}},"75":{"start":{"line":148,"column":2},"end":{"line":150,"column":3}},"76":{"start":{"line":149,"column":4},"end":{"line":149,"column":14}},"77":{"start":{"line":152,"column":2},"end":{"line":155,"column":5}},"78":{"start":{"line":154,"column":4},"end":{"line":154,"column":46}},"79":{"start":{"line":158,"column":2},"end":{"line":158,"column":29}},"80":{"start":{"line":162,"column":2},"end":{"line":162,"column":16}},"81":{"start":{"line":163,"column":2},"end":{"line":163,"column":17}},"82":{"start":{"line":168,"column":2},"end":{"line":275,"column":9}},"83":{"start":{"line":171,"column":4},"end":{"line":272,"column":5}},"84":{"start":{"line":174,"column":6},"end":{"line":174,"column":25}},"85":{"start":{"line":176,"column":6},"end":{"line":207,"column":7}},"86":{"start":{"line":177,"column":8},"end":{"line":177,"column":23}},"87":{"start":{"line":180,"column":8},"end":{"line":205,"column":31}},"88":{"start":{"line":181,"column":10},"end":{"line":181,"column":38}},"89":{"start":{"line":185,"column":10},"end":{"line":187,"column":11}},"90":{"start":{"line":186,"column":12},"end":{"line":186,"column":25}},"91":{"start":{"line":190,"column":10},"end":{"line":192,"column":11}},"92":{"start":{"line":191,"column":12},"end":{"line":191,"column":25}},"93":{"start":{"line":195,"column":10},"end":{"line":204,"column":11}},"94":{"start":{"line":199,"column":12},"end":{"line":203,"column":13}},"95":{"start":{"line":200,"column":14},"end":{"line":201,"column":74}},"96":{"start":{"line":202,"column":14},"end":{"line":202,"column":26}},"97":{"start":{"line":209,"column":6},"end":{"line":214,"column":7}},"98":{"start":{"line":211,"column":8},"end":{"line":211,"column":39}},"99":{"start":{"line":212,"column":8},"end":{"line":212,"column":25}},"100":{"start":{"line":213,"column":8},"end":{"line":213,"column":19}},"101":{"start":{"line":217,"column":6},"end":{"line":245,"column":7}},"102":{"start":{"line":218,"column":8},"end":{"line":232,"column":10}},"103":{"start":{"line":234,"column":8},"end":{"line":234,"column":57}},"104":{"start":{"line":238,"column":8},"end":{"line":241,"column":10}},"105":{"start":{"line":243,"column":8},"end":{"line":243,"column":46}},"106":{"start":{"line":244,"column":8},"end":{"line":244,"column":17}},"107":{"start":{"line":247,"column":6},"end":{"line":247,"column":32}},"108":{"start":{"line":249,"column":6},"end":{"line":252,"column":8}},"109":{"start":{"line":255,"column":6},"end":{"line":257,"column":16}},"110":{"start":{"line":256,"column":8},"end":{"line":256,"column":62}},"111":{"start":{"line":259,"column":6},"end":{"line":271,"column":7}},"112":{"start":{"line":260,"column":8},"end":{"line":265,"column":11}},"113":{"start":{"line":267,"column":8},"end":{"line":269,"column":9}},"114":{"start":{"line":268,"column":10},"end":{"line":268,"column":42}},"115":{"start":{"line":270,"column":8},"end":{"line":270,"column":49}},"116":{"start":{"line":274,"column":4},"end":{"line":274,"column":15}},"117":{"start":{"line":280,"column":2},"end":{"line":290,"column":5}},"118":{"start":{"line":285,"column":4},"end":{"line":287,"column":5}},"119":{"start":{"line":286,"column":6},"end":{"line":286,"column":19}},"120":{"start":{"line":289,"column":4},"end":{"line":289,"column":16}},"121":{"start":{"line":293,"column":2},"end":{"line":293,"column":49}},"122":{"start":{"line":296,"column":2},"end":{"line":296,"column":17}},"123":{"start":{"line":300,"column":0},"end":{"line":325,"column":1}},"124":{"start":{"line":301,"column":2},"end":{"line":301,"column":28}},"125":{"start":{"line":302,"column":2},"end":{"line":304,"column":3}},"126":{"start":{"line":303,"column":4},"end":{"line":303,"column":14}},"127":{"start":{"line":306,"column":2},"end":{"line":319,"column":5}},"128":{"start":{"line":310,"column":4},"end":{"line":312,"column":5}},"129":{"start":{"line":311,"column":6},"end":{"line":311,"column":19}},"130":{"start":{"line":314,"column":4},"end":{"line":316,"column":5}},"131":{"start":{"line":315,"column":6},"end":{"line":315,"column":19}},"132":{"start":{"line":318,"column":4},"end":{"line":318,"column":16}},"133":{"start":{"line":321,"column":2},"end":{"line":321,"column":49}},"134":{"start":{"line":323,"column":2},"end":{"line":323,"column":17}},"135":{"start":{"line":327,"column":0},"end":{"line":408,"column":1}},"136":{"start":{"line":328,"column":2},"end":{"line":328,"column":28}},"137":{"start":{"line":329,"column":2},"end":{"line":331,"column":3}},"138":{"start":{"line":330,"column":4},"end":{"line":330,"column":14}},"139":{"start":{"line":333,"column":2},"end":{"line":336,"column":5}},"140":{"start":{"line":335,"column":4},"end":{"line":335,"column":31}},"141":{"start":{"line":339,"column":2},"end":{"line":339,"column":31}},"142":{"start":{"line":341,"column":2},"end":{"line":341,"column":18}},"143":{"start":{"line":342,"column":2},"end":{"line":342,"column":17}},"144":{"start":{"line":347,"column":2},"end":{"line":398,"column":9}},"145":{"start":{"line":348,"column":4},"end":{"line":348,"column":28}},"146":{"start":{"line":350,"column":4},"end":{"line":355,"column":5}},"147":{"start":{"line":352,"column":6},"end":{"line":352,"column":31}},"148":{"start":{"line":353,"column":6},"end":{"line":353,"column":23}},"149":{"start":{"line":354,"column":6},"end":{"line":354,"column":17}},"150":{"start":{"line":357,"column":4},"end":{"line":357,"column":54}},"151":{"start":{"line":359,"column":4},"end":{"line":395,"column":5}},"152":{"start":{"line":360,"column":6},"end":{"line":379,"column":7}},"153":{"start":{"line":361,"column":8},"end":{"line":367,"column":10}},"154":{"start":{"line":368,"column":8},"end":{"line":368,"column":47}},"155":{"start":{"line":372,"column":8},"end":{"line":375,"column":10}},"156":{"start":{"line":377,"column":8},"end":{"line":377,"column":40}},"157":{"start":{"line":378,"column":8},"end":{"line":378,"column":17}},"158":{"start":{"line":381,"column":6},"end":{"line":381,"column":32}},"159":{"start":{"line":383,"column":6},"end":{"line":386,"column":8}},"160":{"start":{"line":388,"column":6},"end":{"line":388,"column":39}},"161":{"start":{"line":389,"column":6},"end":{"line":394,"column":7}},"162":{"start":{"line":392,"column":8},"end":{"line":392,"column":51}},"163":{"start":{"line":393,"column":8},"end":{"line":393,"column":50}},"164":{"start":{"line":397,"column":4},"end":{"line":397,"column":15}},"165":{"start":{"line":401,"column":2},"end":{"line":403,"column":5}},"166":{"start":{"line":402,"column":4},"end":{"line":402,"column":33}},"167":{"start":{"line":405,"column":2},"end":{"line":405,"column":49}},"168":{"start":{"line":407,"column":2},"end":{"line":407,"column":17}},"169":{"start":{"line":410,"column":0},"end":{"line":434,"column":1}},"170":{"start":{"line":411,"column":2},"end":{"line":413,"column":3}},"171":{"start":{"line":412,"column":4},"end":{"line":412,"column":17}},"172":{"start":{"line":415,"column":2},"end":{"line":417,"column":3}},"173":{"start":{"line":416,"column":4},"end":{"line":416,"column":17}},"174":{"start":{"line":419,"column":2},"end":{"line":433,"column":5}},"175":{"start":{"line":423,"column":4},"end":{"line":425,"column":5}},"176":{"start":{"line":424,"column":6},"end":{"line":424,"column":18}},"177":{"start":{"line":430,"column":4},"end":{"line":432,"column":5}},"178":{"start":{"line":431,"column":6},"end":{"line":431,"column":18}},"179":{"start":{"line":436,"column":0},"end":{"line":784,"column":1}},"180":{"start":{"line":437,"column":2},"end":{"line":439,"column":3}},"181":{"start":{"line":438,"column":4},"end":{"line":438,"column":16}},"182":{"start":{"line":440,"column":2},"end":{"line":442,"column":3}},"183":{"start":{"line":441,"column":4},"end":{"line":441,"column":15}},"184":{"start":{"line":444,"column":2},"end":{"line":448,"column":4}},"185":{"start":{"line":450,"column":2},"end":{"line":458,"column":4}},"186":{"start":{"line":460,"column":2},"end":{"line":466,"column":4}},"187":{"start":{"line":468,"column":2},"end":{"line":473,"column":4}},"188":{"start":{"line":475,"column":2},"end":{"line":753,"column":5}},"189":{"start":{"line":476,"column":4},"end":{"line":476,"column":65}},"190":{"start":{"line":478,"column":4},"end":{"line":478,"column":27}},"191":{"start":{"line":481,"column":4},"end":{"line":481,"column":43}},"192":{"start":{"line":482,"column":4},"end":{"line":482,"column":39}},"193":{"start":{"line":483,"column":4},"end":{"line":483,"column":41}},"194":{"start":{"line":484,"column":4},"end":{"line":484,"column":43}},"195":{"start":{"line":485,"column":4},"end":{"line":489,"column":6}},"196":{"start":{"line":491,"column":4},"end":{"line":491,"column":21}},"197":{"start":{"line":493,"column":4},"end":{"line":493,"column":58}},"198":{"start":{"line":496,"column":4},"end":{"line":501,"column":5}},"199":{"start":{"line":497,"column":6},"end":{"line":497,"column":22}},"200":{"start":{"line":498,"column":6},"end":{"line":498,"column":49}},"201":{"start":{"line":499,"column":6},"end":{"line":499,"column":35}},"202":{"start":{"line":500,"column":6},"end":{"line":500,"column":18}},"203":{"start":{"line":502,"column":4},"end":{"line":502,"column":43}},"204":{"start":{"line":503,"column":4},"end":{"line":503,"column":75}},"205":{"start":{"line":505,"column":4},"end":{"line":505,"column":44}},"206":{"start":{"line":506,"column":4},"end":{"line":506,"column":21}},"207":{"start":{"line":507,"column":4},"end":{"line":507,"column":25}},"208":{"start":{"line":508,"column":4},"end":{"line":508,"column":73}},"209":{"start":{"line":510,"column":4},"end":{"line":526,"column":5}},"210":{"start":{"line":511,"column":6},"end":{"line":512,"column":31}},"211":{"start":{"line":513,"column":6},"end":{"line":513,"column":51}},"212":{"start":{"line":514,"column":6},"end":{"line":514,"column":74}},"213":{"start":{"line":515,"column":6},"end":{"line":517,"column":63}},"214":{"start":{"line":519,"column":6},"end":{"line":519,"column":37}},"215":{"start":{"line":520,"column":6},"end":{"line":522,"column":76}},"216":{"start":{"line":523,"column":6},"end":{"line":523,"column":48}},"217":{"start":{"line":524,"column":6},"end":{"line":525,"column":60}},"218":{"start":{"line":528,"column":4},"end":{"line":528,"column":21}},"219":{"start":{"line":529,"column":4},"end":{"line":535,"column":5}},"220":{"start":{"line":530,"column":6},"end":{"line":534,"column":7}},"221":{"start":{"line":533,"column":8},"end":{"line":533,"column":38}},"222":{"start":{"line":537,"column":4},"end":{"line":599,"column":6}},"223":{"start":{"line":539,"column":8},"end":{"line":539,"column":23}},"224":{"start":{"line":542,"column":8},"end":{"line":585,"column":9}},"225":{"start":{"line":544,"column":10},"end":{"line":563,"column":29}},"226":{"start":{"line":545,"column":12},"end":{"line":561,"column":13}},"227":{"start":{"line":549,"column":14},"end":{"line":560,"column":15}},"228":{"start":{"line":550,"column":16},"end":{"line":557,"column":17}},"229":{"start":{"line":552,"column":18},"end":{"line":555,"column":21}},"230":{"start":{"line":556,"column":18},"end":{"line":556,"column":31}},"231":{"start":{"line":559,"column":16},"end":{"line":559,"column":36}},"232":{"start":{"line":562,"column":12},"end":{"line":562,"column":25}},"233":{"start":{"line":565,"column":10},"end":{"line":568,"column":11}},"234":{"start":{"line":566,"column":12},"end":{"line":566,"column":70}},"235":{"start":{"line":567,"column":12},"end":{"line":567,"column":25}},"236":{"start":{"line":571,"column":10},"end":{"line":571,"column":31}},"237":{"start":{"line":572,"column":10},"end":{"line":577,"column":26}},"238":{"start":{"line":573,"column":12},"end":{"line":576,"column":13}},"239":{"start":{"line":574,"column":14},"end":{"line":574,"column":33}},"240":{"start":{"line":575,"column":14},"end":{"line":575,"column":26}},"241":{"start":{"line":579,"column":10},"end":{"line":584,"column":11}},"242":{"start":{"line":581,"column":12},"end":{"line":582,"column":44}},"243":{"start":{"line":583,"column":12},"end":{"line":583,"column":70}},"244":{"start":{"line":587,"column":8},"end":{"line":589,"column":9}},"245":{"start":{"line":588,"column":10},"end":{"line":588,"column":26}},"246":{"start":{"line":591,"column":8},"end":{"line":591,"column":53}},"247":{"start":{"line":593,"column":8},"end":{"line":593,"column":19}},"248":{"start":{"line":601,"column":4},"end":{"line":601,"column":47}},"249":{"start":{"line":607,"column":4},"end":{"line":658,"column":5}},"250":{"start":{"line":608,"column":6},"end":{"line":608,"column":27}},"251":{"start":{"line":609,"column":6},"end":{"line":609,"column":63}},"252":{"start":{"line":611,"column":6},"end":{"line":611,"column":68}},"253":{"start":{"line":613,"column":6},"end":{"line":613,"column":38}},"254":{"start":{"line":614,"column":6},"end":{"line":614,"column":33}},"255":{"start":{"line":615,"column":6},"end":{"line":615,"column":63}},"256":{"start":{"line":616,"column":6},"end":{"line":616,"column":77}},"257":{"start":{"line":617,"column":6},"end":{"line":617,"column":20}},"258":{"start":{"line":618,"column":6},"end":{"line":618,"column":51}},"259":{"start":{"line":619,"column":6},"end":{"line":623,"column":7}},"260":{"start":{"line":620,"column":8},"end":{"line":620,"column":38}},"261":{"start":{"line":622,"column":8},"end":{"line":622,"column":20}},"262":{"start":{"line":625,"column":6},"end":{"line":625,"column":37}},"263":{"start":{"line":626,"column":6},"end":{"line":635,"column":7}},"264":{"start":{"line":627,"column":8},"end":{"line":627,"column":54}},"265":{"start":{"line":629,"column":8},"end":{"line":629,"column":54}},"266":{"start":{"line":630,"column":8},"end":{"line":634,"column":9}},"267":{"start":{"line":631,"column":10},"end":{"line":631,"column":35}},"268":{"start":{"line":632,"column":15},"end":{"line":634,"column":9}},"269":{"start":{"line":633,"column":10},"end":{"line":633,"column":39}},"270":{"start":{"line":636,"column":6},"end":{"line":636,"column":24}},"271":{"start":{"line":639,"column":6},"end":{"line":639,"column":22}},"272":{"start":{"line":641,"column":6},"end":{"line":650,"column":7}},"273":{"start":{"line":642,"column":8},"end":{"line":643,"column":52}},"274":{"start":{"line":644,"column":13},"end":{"line":650,"column":7}},"275":{"start":{"line":645,"column":8},"end":{"line":646,"column":51}},"276":{"start":{"line":648,"column":8},"end":{"line":649,"column":25}},"277":{"start":{"line":652,"column":6},"end":{"line":657,"column":9}},"278":{"start":{"line":660,"column":4},"end":{"line":660,"column":23}},"279":{"start":{"line":662,"column":4},"end":{"line":682,"column":5}},"280":{"start":{"line":665,"column":6},"end":{"line":681,"column":7}},"281":{"start":{"line":667,"column":8},"end":{"line":667,"column":50}},"282":{"start":{"line":669,"column":8},"end":{"line":680,"column":9}},"283":{"start":{"line":670,"column":10},"end":{"line":672,"column":11}},"284":{"start":{"line":671,"column":12},"end":{"line":671,"column":33}},"285":{"start":{"line":673,"column":10},"end":{"line":673,"column":32}},"286":{"start":{"line":675,"column":10},"end":{"line":677,"column":11}},"287":{"start":{"line":676,"column":12},"end":{"line":676,"column":74}},"288":{"start":{"line":679,"column":10},"end":{"line":679,"column":30}},"289":{"start":{"line":685,"column":4},"end":{"line":699,"column":5}},"290":{"start":{"line":686,"column":6},"end":{"line":698,"column":7}},"291":{"start":{"line":691,"column":8},"end":{"line":697,"column":11}},"292":{"start":{"line":701,"column":4},"end":{"line":711,"column":5}},"293":{"start":{"line":702,"column":6},"end":{"line":705,"column":8}},"294":{"start":{"line":706,"column":6},"end":{"line":706,"column":27}},"295":{"start":{"line":708,"column":6},"end":{"line":708,"column":32}},"296":{"start":{"line":709,"column":6},"end":{"line":709,"column":37}},"297":{"start":{"line":710,"column":6},"end":{"line":710,"column":36}},"298":{"start":{"line":714,"column":4},"end":{"line":716,"column":5}},"299":{"start":{"line":715,"column":6},"end":{"line":715,"column":28}},"300":{"start":{"line":718,"column":4},"end":{"line":718,"column":25}},"301":{"start":{"line":719,"column":4},"end":{"line":719,"column":23}},"302":{"start":{"line":726,"column":4},"end":{"line":730,"column":30}},"303":{"start":{"line":727,"column":6},"end":{"line":727,"column":47}},"304":{"start":{"line":729,"column":6},"end":{"line":729,"column":28}},"305":{"start":{"line":733,"column":4},"end":{"line":748,"column":7}},"306":{"start":{"line":734,"column":6},"end":{"line":734,"column":31}},"307":{"start":{"line":736,"column":6},"end":{"line":741,"column":7}},"308":{"start":{"line":737,"column":8},"end":{"line":739,"column":9}},"309":{"start":{"line":738,"column":10},"end":{"line":738,"column":27}},"310":{"start":{"line":740,"column":8},"end":{"line":740,"column":52}},"311":{"start":{"line":742,"column":6},"end":{"line":746,"column":8}},"312":{"start":{"line":747,"column":6},"end":{"line":747,"column":20}},"313":{"start":{"line":750,"column":4},"end":{"line":750,"column":20}},"314":{"start":{"line":752,"column":4},"end":{"line":752,"column":15}},"315":{"start":{"line":758,"column":2},"end":{"line":781,"column":9}},"316":{"start":{"line":759,"column":4},"end":{"line":759,"column":19}},"317":{"start":{"line":761,"column":4},"end":{"line":761,"column":72}},"318":{"start":{"line":762,"column":4},"end":{"line":762,"column":37}},"319":{"start":{"line":763,"column":4},"end":{"line":765,"column":5}},"320":{"start":{"line":764,"column":6},"end":{"line":764,"column":34}},"321":{"start":{"line":766,"column":4},"end":{"line":768,"column":36}},"322":{"start":{"line":769,"column":4},"end":{"line":779,"column":7}},"323":{"start":{"line":774,"column":8},"end":{"line":776,"column":9}},"324":{"start":{"line":775,"column":10},"end":{"line":775,"column":23}},"325":{"start":{"line":777,"column":8},"end":{"line":777,"column":54}},"326":{"start":{"line":780,"column":4},"end":{"line":780,"column":15}},"327":{"start":{"line":783,"column":2},"end":{"line":783,"column":17}},"328":{"start":{"line":786,"column":0},"end":{"line":794,"column":1}},"329":{"start":{"line":787,"column":2},"end":{"line":793,"column":4}},"330":{"start":{"line":796,"column":0},"end":{"line":840,"column":1}},"331":{"start":{"line":797,"column":2},"end":{"line":797,"column":26}},"332":{"start":{"line":798,"column":2},"end":{"line":798,"column":19}},"333":{"start":{"line":799,"column":2},"end":{"line":799,"column":8}},"334":{"start":{"line":801,"column":2},"end":{"line":801,"column":66}},"335":{"start":{"line":802,"column":2},"end":{"line":811,"column":3}},"336":{"start":{"line":803,"column":4},"end":{"line":810,"column":7}},"337":{"start":{"line":814,"column":2},"end":{"line":816,"column":3}},"338":{"start":{"line":815,"column":4},"end":{"line":815,"column":19}},"339":{"start":{"line":818,"column":2},"end":{"line":818,"column":71}},"340":{"start":{"line":821,"column":2},"end":{"line":827,"column":3}},"341":{"start":{"line":822,"column":4},"end":{"line":824,"column":7}},"342":{"start":{"line":823,"column":6},"end":{"line":823,"column":49}},"343":{"start":{"line":826,"column":4},"end":{"line":826,"column":23}},"344":{"start":{"line":829,"column":2},"end":{"line":837,"column":3}},"345":{"start":{"line":830,"column":4},"end":{"line":836,"column":7}},"346":{"start":{"line":839,"column":2},"end":{"line":839,"column":17}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":23,"column":2}},{"start":{"line":23,"column":2},"end":{"line":23,"column":2}}]},"2":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":39},"end":{"line":29,"column":41}},{"start":{"line":29,"column":44},"end":{"line":29,"column":71}}]},"3":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":66},"end":{"line":29,"column":67}},{"start":{"line":29,"column":70},"end":{"line":29,"column":71}}]},"4":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":2},"end":{"line":42,"column":2}},{"start":{"line":42,"column":2},"end":{"line":42,"column":2}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]},"7":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"8":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":22}},{"start":{"line":54,"column":26},"end":{"line":54,"column":42}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"10":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"11":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]},"12":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":4}},{"start":{"line":72,"column":4},"end":{"line":72,"column":4}}]},"13":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":2},"end":{"line":90,"column":2}},{"start":{"line":90,"column":2},"end":{"line":90,"column":2}}]},"14":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":2},"end":{"line":94,"column":2}},{"start":{"line":94,"column":2},"end":{"line":94,"column":2}}]},"15":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]},"16":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":4},"end":{"line":119,"column":4}},{"start":{"line":119,"column":4},"end":{"line":119,"column":4}}]},"17":{"line":126,"type":"cond-expr","locations":[{"start":{"line":126,"column":57},"end":{"line":126,"column":59}},{"start":{"line":126,"column":62},"end":{"line":126,"column":63}}]},"18":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":6},"end":{"line":130,"column":6}},{"start":{"line":130,"column":6},"end":{"line":130,"column":6}}]},"19":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":10},"end":{"line":130,"column":25}},{"start":{"line":130,"column":29},"end":{"line":130,"column":48}}]},"20":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":2},"end":{"line":148,"column":2}},{"start":{"line":148,"column":2},"end":{"line":148,"column":2}}]},"21":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":6},"end":{"line":148,"column":12}},{"start":{"line":148,"column":16},"end":{"line":148,"column":34}}]},"22":{"line":154,"type":"cond-expr","locations":[{"start":{"line":154,"column":33},"end":{"line":154,"column":38}},{"start":{"line":154,"column":41},"end":{"line":154,"column":45}}]},"23":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":4},"end":{"line":171,"column":4}},{"start":{"line":171,"column":4},"end":{"line":171,"column":4}}]},"24":{"line":171,"type":"binary-expr","locations":[{"start":{"line":171,"column":8},"end":{"line":171,"column":20}},{"start":{"line":171,"column":24},"end":{"line":171,"column":43}}]},"25":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":6},"end":{"line":176,"column":6}},{"start":{"line":176,"column":6},"end":{"line":176,"column":6}}]},"26":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":16},"end":{"line":205,"column":18}},{"start":{"line":205,"column":22},"end":{"line":205,"column":26}}]},"27":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":10},"end":{"line":185,"column":10}},{"start":{"line":185,"column":10},"end":{"line":185,"column":10}}]},"28":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":10},"end":{"line":190,"column":10}},{"start":{"line":190,"column":10},"end":{"line":190,"column":10}}]},"29":{"line":190,"type":"binary-expr","locations":[{"start":{"line":190,"column":14},"end":{"line":190,"column":37}},{"start":{"line":190,"column":41},"end":{"line":190,"column":47}}]},"30":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":10},"end":{"line":195,"column":10}},{"start":{"line":195,"column":10},"end":{"line":195,"column":10}}]},"31":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":12},"end":{"line":199,"column":12}},{"start":{"line":199,"column":12},"end":{"line":199,"column":12}}]},"32":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":6},"end":{"line":209,"column":6}},{"start":{"line":209,"column":6},"end":{"line":209,"column":6}}]},"33":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":6},"end":{"line":217,"column":6}},{"start":{"line":217,"column":6},"end":{"line":217,"column":6}}]},"34":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":6},"end":{"line":259,"column":6}},{"start":{"line":259,"column":6},"end":{"line":259,"column":6}}]},"35":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":8}},{"start":{"line":267,"column":8},"end":{"line":267,"column":8}}]},"36":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":4},"end":{"line":285,"column":4}},{"start":{"line":285,"column":4},"end":{"line":285,"column":4}}]},"37":{"line":285,"type":"binary-expr","locations":[{"start":{"line":285,"column":8},"end":{"line":285,"column":21}},{"start":{"line":285,"column":25},"end":{"line":285,"column":50}}]},"38":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":2},"end":{"line":302,"column":2}},{"start":{"line":302,"column":2},"end":{"line":302,"column":2}}]},"39":{"line":302,"type":"binary-expr","locations":[{"start":{"line":302,"column":6},"end":{"line":302,"column":12}},{"start":{"line":302,"column":16},"end":{"line":302,"column":34}}]},"40":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":4},"end":{"line":310,"column":4}},{"start":{"line":310,"column":4},"end":{"line":310,"column":4}}]},"41":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":4},"end":{"line":314,"column":4}},{"start":{"line":314,"column":4},"end":{"line":314,"column":4}}]},"42":{"line":314,"type":"binary-expr","locations":[{"start":{"line":314,"column":8},"end":{"line":314,"column":20}},{"start":{"line":314,"column":24},"end":{"line":314,"column":43}}]},"43":{"line":329,"type":"if","locations":[{"start":{"line":329,"column":2},"end":{"line":329,"column":2}},{"start":{"line":329,"column":2},"end":{"line":329,"column":2}}]},"44":{"line":329,"type":"binary-expr","locations":[{"start":{"line":329,"column":6},"end":{"line":329,"column":12}},{"start":{"line":329,"column":16},"end":{"line":329,"column":34}}]},"45":{"line":350,"type":"if","locations":[{"start":{"line":350,"column":4},"end":{"line":350,"column":4}},{"start":{"line":350,"column":4},"end":{"line":350,"column":4}}]},"46":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":4},"end":{"line":359,"column":4}},{"start":{"line":359,"column":4},"end":{"line":359,"column":4}}]},"47":{"line":359,"type":"binary-expr","locations":[{"start":{"line":359,"column":8},"end":{"line":359,"column":16}},{"start":{"line":359,"column":20},"end":{"line":359,"column":39}}]},"48":{"line":360,"type":"if","locations":[{"start":{"line":360,"column":6},"end":{"line":360,"column":6}},{"start":{"line":360,"column":6},"end":{"line":360,"column":6}}]},"49":{"line":389,"type":"if","locations":[{"start":{"line":389,"column":6},"end":{"line":389,"column":6}},{"start":{"line":389,"column":6},"end":{"line":389,"column":6}}]},"50":{"line":389,"type":"binary-expr","locations":[{"start":{"line":389,"column":10},"end":{"line":389,"column":52}},{"start":{"line":390,"column":8},"end":{"line":391,"column":39}}]},"51":{"line":411,"type":"if","locations":[{"start":{"line":411,"column":2},"end":{"line":411,"column":2}},{"start":{"line":411,"column":2},"end":{"line":411,"column":2}}]},"52":{"line":415,"type":"if","locations":[{"start":{"line":415,"column":2},"end":{"line":415,"column":2}},{"start":{"line":415,"column":2},"end":{"line":415,"column":2}}]},"53":{"line":423,"type":"if","locations":[{"start":{"line":423,"column":4},"end":{"line":423,"column":4}},{"start":{"line":423,"column":4},"end":{"line":423,"column":4}}]},"54":{"line":423,"type":"binary-expr","locations":[{"start":{"line":423,"column":8},"end":{"line":423,"column":28}},{"start":{"line":423,"column":32},"end":{"line":423,"column":52}}]},"55":{"line":430,"type":"if","locations":[{"start":{"line":430,"column":4},"end":{"line":430,"column":4}},{"start":{"line":430,"column":4},"end":{"line":430,"column":4}}]},"56":{"line":437,"type":"if","locations":[{"start":{"line":437,"column":2},"end":{"line":437,"column":2}},{"start":{"line":437,"column":2},"end":{"line":437,"column":2}}]},"57":{"line":440,"type":"if","locations":[{"start":{"line":440,"column":2},"end":{"line":440,"column":2}},{"start":{"line":440,"column":2},"end":{"line":440,"column":2}}]},"58":{"line":476,"type":"binary-expr","locations":[{"start":{"line":476,"column":13},"end":{"line":476,"column":20}},{"start":{"line":476,"column":25},"end":{"line":476,"column":63}}]},"59":{"line":496,"type":"if","locations":[{"start":{"line":496,"column":4},"end":{"line":496,"column":4}},{"start":{"line":496,"column":4},"end":{"line":496,"column":4}}]},"60":{"line":508,"type":"cond-expr","locations":[{"start":{"line":508,"column":52},"end":{"line":508,"column":64}},{"start":{"line":508,"column":67},"end":{"line":508,"column":72}}]},"61":{"line":508,"type":"binary-expr","locations":[{"start":{"line":508,"column":16},"end":{"line":508,"column":28}},{"start":{"line":508,"column":32},"end":{"line":508,"column":49}}]},"62":{"line":510,"type":"if","locations":[{"start":{"line":510,"column":4},"end":{"line":510,"column":4}},{"start":{"line":510,"column":4},"end":{"line":510,"column":4}}]},"63":{"line":513,"type":"cond-expr","locations":[{"start":{"line":513,"column":38},"end":{"line":513,"column":42}},{"start":{"line":513,"column":45},"end":{"line":513,"column":50}}]},"64":{"line":514,"type":"cond-expr","locations":[{"start":{"line":514,"column":45},"end":{"line":514,"column":53}},{"start":{"line":514,"column":56},"end":{"line":514,"column":73}}]},"65":{"line":522,"type":"cond-expr","locations":[{"start":{"line":522,"column":44},"end":{"line":522,"column":51}},{"start":{"line":522,"column":54},"end":{"line":522,"column":60}}]},"66":{"line":524,"type":"cond-expr","locations":[{"start":{"line":525,"column":10},"end":{"line":525,"column":53}},{"start":{"line":525,"column":56},"end":{"line":525,"column":58}}]},"67":{"line":529,"type":"if","locations":[{"start":{"line":529,"column":4},"end":{"line":529,"column":4}},{"start":{"line":529,"column":4},"end":{"line":529,"column":4}}]},"68":{"line":530,"type":"if","locations":[{"start":{"line":530,"column":6},"end":{"line":530,"column":6}},{"start":{"line":530,"column":6},"end":{"line":530,"column":6}}]},"69":{"line":530,"type":"binary-expr","locations":[{"start":{"line":530,"column":10},"end":{"line":530,"column":15}},{"start":{"line":530,"column":19},"end":{"line":530,"column":30}}]},"70":{"line":542,"type":"if","locations":[{"start":{"line":542,"column":8},"end":{"line":542,"column":8}},{"start":{"line":542,"column":8},"end":{"line":542,"column":8}}]},"71":{"line":542,"type":"binary-expr","locations":[{"start":{"line":542,"column":12},"end":{"line":542,"column":24}},{"start":{"line":542,"column":28},"end":{"line":542,"column":46}}]},"72":{"line":545,"type":"if","locations":[{"start":{"line":545,"column":12},"end":{"line":545,"column":12}},{"start":{"line":545,"column":12},"end":{"line":545,"column":12}}]},"73":{"line":549,"type":"if","locations":[{"start":{"line":549,"column":14},"end":{"line":549,"column":14}},{"start":{"line":549,"column":14},"end":{"line":549,"column":14}}]},"74":{"line":550,"type":"if","locations":[{"start":{"line":550,"column":16},"end":{"line":550,"column":16}},{"start":{"line":550,"column":16},"end":{"line":550,"column":16}}]},"75":{"line":550,"type":"binary-expr","locations":[{"start":{"line":550,"column":20},"end":{"line":550,"column":52}},{"start":{"line":551,"column":20},"end":{"line":551,"column":44}}]},"76":{"line":565,"type":"if","locations":[{"start":{"line":565,"column":10},"end":{"line":565,"column":10}},{"start":{"line":565,"column":10},"end":{"line":565,"column":10}}]},"77":{"line":573,"type":"if","locations":[{"start":{"line":573,"column":12},"end":{"line":573,"column":12}},{"start":{"line":573,"column":12},"end":{"line":573,"column":12}}]},"78":{"line":579,"type":"if","locations":[{"start":{"line":579,"column":10},"end":{"line":579,"column":10}},{"start":{"line":579,"column":10},"end":{"line":579,"column":10}}]},"79":{"line":587,"type":"if","locations":[{"start":{"line":587,"column":8},"end":{"line":587,"column":8}},{"start":{"line":587,"column":8},"end":{"line":587,"column":8}}]},"80":{"line":607,"type":"if","locations":[{"start":{"line":607,"column":4},"end":{"line":607,"column":4}},{"start":{"line":607,"column":4},"end":{"line":607,"column":4}}]},"81":{"line":611,"type":"cond-expr","locations":[{"start":{"line":611,"column":38},"end":{"line":611,"column":51}},{"start":{"line":611,"column":54},"end":{"line":611,"column":67}}]},"82":{"line":619,"type":"if","locations":[{"start":{"line":619,"column":6},"end":{"line":619,"column":6}},{"start":{"line":619,"column":6},"end":{"line":619,"column":6}}]},"83":{"line":626,"type":"if","locations":[{"start":{"line":626,"column":6},"end":{"line":626,"column":6}},{"start":{"line":626,"column":6},"end":{"line":626,"column":6}}]},"84":{"line":626,"type":"binary-expr","locations":[{"start":{"line":626,"column":10},"end":{"line":626,"column":15}},{"start":{"line":626,"column":19},"end":{"line":626,"column":40}}]},"85":{"line":630,"type":"if","locations":[{"start":{"line":630,"column":8},"end":{"line":630,"column":8}},{"start":{"line":630,"column":8},"end":{"line":630,"column":8}}]},"86":{"line":632,"type":"if","locations":[{"start":{"line":632,"column":15},"end":{"line":632,"column":15}},{"start":{"line":632,"column":15},"end":{"line":632,"column":15}}]},"87":{"line":641,"type":"if","locations":[{"start":{"line":641,"column":6},"end":{"line":641,"column":6}},{"start":{"line":641,"column":6},"end":{"line":641,"column":6}}]},"88":{"line":644,"type":"if","locations":[{"start":{"line":644,"column":13},"end":{"line":644,"column":13}},{"start":{"line":644,"column":13},"end":{"line":644,"column":13}}]},"89":{"line":662,"type":"if","locations":[{"start":{"line":662,"column":4},"end":{"line":662,"column":4}},{"start":{"line":662,"column":4},"end":{"line":662,"column":4}}]},"90":{"line":662,"type":"binary-expr","locations":[{"start":{"line":662,"column":8},"end":{"line":662,"column":24}},{"start":{"line":662,"column":28},"end":{"line":662,"column":33}}]},"91":{"line":665,"type":"if","locations":[{"start":{"line":665,"column":6},"end":{"line":665,"column":6}},{"start":{"line":665,"column":6},"end":{"line":665,"column":6}}]},"92":{"line":665,"type":"binary-expr","locations":[{"start":{"line":665,"column":10},"end":{"line":665,"column":22}},{"start":{"line":665,"column":26},"end":{"line":665,"column":45}}]},"93":{"line":669,"type":"if","locations":[{"start":{"line":669,"column":8},"end":{"line":669,"column":8}},{"start":{"line":669,"column":8},"end":{"line":669,"column":8}}]},"94":{"line":670,"type":"if","locations":[{"start":{"line":670,"column":10},"end":{"line":670,"column":10}},{"start":{"line":670,"column":10},"end":{"line":670,"column":10}}]},"95":{"line":675,"type":"if","locations":[{"start":{"line":675,"column":10},"end":{"line":675,"column":10}},{"start":{"line":675,"column":10},"end":{"line":675,"column":10}}]},"96":{"line":685,"type":"if","locations":[{"start":{"line":685,"column":4},"end":{"line":685,"column":4}},{"start":{"line":685,"column":4},"end":{"line":685,"column":4}}]},"97":{"line":685,"type":"binary-expr","locations":[{"start":{"line":685,"column":8},"end":{"line":685,"column":34}},{"start":{"line":685,"column":38},"end":{"line":685,"column":44}}]},"98":{"line":686,"type":"if","locations":[{"start":{"line":686,"column":6},"end":{"line":686,"column":6}},{"start":{"line":686,"column":6},"end":{"line":686,"column":6}}]},"99":{"line":701,"type":"if","locations":[{"start":{"line":701,"column":4},"end":{"line":701,"column":4}},{"start":{"line":701,"column":4},"end":{"line":701,"column":4}}]},"100":{"line":714,"type":"if","locations":[{"start":{"line":714,"column":4},"end":{"line":714,"column":4}},{"start":{"line":714,"column":4},"end":{"line":714,"column":4}}]},"101":{"line":714,"type":"binary-expr","locations":[{"start":{"line":714,"column":8},"end":{"line":714,"column":24}},{"start":{"line":714,"column":28},"end":{"line":714,"column":45}}]},"102":{"line":726,"type":"binary-expr","locations":[{"start":{"line":726,"column":19},"end":{"line":730,"column":14}},{"start":{"line":730,"column":18},"end":{"line":730,"column":26}}]},"103":{"line":736,"type":"if","locations":[{"start":{"line":736,"column":6},"end":{"line":736,"column":6}},{"start":{"line":736,"column":6},"end":{"line":736,"column":6}}]},"104":{"line":736,"type":"binary-expr","locations":[{"start":{"line":736,"column":10},"end":{"line":736,"column":22}},{"start":{"line":736,"column":26},"end":{"line":736,"column":44}}]},"105":{"line":737,"type":"if","locations":[{"start":{"line":737,"column":8},"end":{"line":737,"column":8}},{"start":{"line":737,"column":8},"end":{"line":737,"column":8}}]},"106":{"line":763,"type":"if","locations":[{"start":{"line":763,"column":4},"end":{"line":763,"column":4}},{"start":{"line":763,"column":4},"end":{"line":763,"column":4}}]},"107":{"line":763,"type":"binary-expr","locations":[{"start":{"line":763,"column":8},"end":{"line":763,"column":12}},{"start":{"line":763,"column":16},"end":{"line":763,"column":38}}]},"108":{"line":766,"type":"cond-expr","locations":[{"start":{"line":768,"column":10},"end":{"line":768,"column":17}},{"start":{"line":768,"column":20},"end":{"line":768,"column":35}}]},"109":{"line":766,"type":"binary-expr","locations":[{"start":{"line":766,"column":16},"end":{"line":766,"column":42}},{"start":{"line":767,"column":10},"end":{"line":767,"column":55}}]},"110":{"line":774,"type":"if","locations":[{"start":{"line":774,"column":8},"end":{"line":774,"column":8}},{"start":{"line":774,"column":8},"end":{"line":774,"column":8}}]},"111":{"line":801,"type":"binary-expr","locations":[{"start":{"line":801,"column":7},"end":{"line":801,"column":37}},{"start":{"line":801,"column":41},"end":{"line":801,"column":43}}]},"112":{"line":802,"type":"if","locations":[{"start":{"line":802,"column":2},"end":{"line":802,"column":2}},{"start":{"line":802,"column":2},"end":{"line":802,"column":2}}]},"113":{"line":814,"type":"if","locations":[{"start":{"line":814,"column":2},"end":{"line":814,"column":2}},{"start":{"line":814,"column":2},"end":{"line":814,"column":2}}]},"114":{"line":818,"type":"binary-expr","locations":[{"start":{"line":818,"column":7},"end":{"line":818,"column":43}},{"start":{"line":818,"column":47},"end":{"line":818,"column":49}}]},"115":{"line":821,"type":"if","locations":[{"start":{"line":821,"column":2},"end":{"line":821,"column":2}},{"start":{"line":821,"column":2},"end":{"line":821,"column":2}}]},"116":{"line":829,"type":"if","locations":[{"start":{"line":829,"column":2},"end":{"line":829,"column":2}},{"start":{"line":829,"column":2},"end":{"line":829,"column":2}}]}},"code":["module.exports = {","  getUpdatePrompts: getUpdatePrompts,","  getPatchPrompts: getPatchPrompts,","  getIgnorePrompts: getIgnorePrompts,","  getPrompts: getPrompts,","  nextSteps: nextSteps,","  startOver: startOver,","};","","var _ = require('../../../dist/lodash-min');","var semver = require('semver');","var fmt = require('util').format;","var debug = require('debug')('snyk');","var protect = require('../../../lib/protect');","var moduleToObject = require('snyk-module');","var undefsafe = require('undefsafe');","var config = require('../../../lib/config');","var snykPolicy = require('snyk-policy');","","// via http://stackoverflow.com/a/4760279/22617","function sort(prop) {","  var sortOrder = 1;","  if (prop[0] === '-') {","    sortOrder = -1;","    prop = prop.substr(1);","  }","","  return function (a, b) {","    var result = (a[prop] < b[prop]) ? -1 : (a[prop] > b[prop]) ? 1 : 0;","    return result * sortOrder;","  };","}","","function sortUpgradePrompts(a, b) {","  var res = 0;","","  // first sort by module affected","  if (!a.from[1]) {","    return -1;","  }","","  if (!b.from[1]) {","    return 1;","  }","","  var pa = moduleToObject(a.from[1]);","  var pb = moduleToObject(b.from[1]);","  res = sort('name')(pa, pb);","  if (res !== 0) {","    return res;","  }","","  // we should have the same module, so the depth should be the same","  if (a.upgradePath[1] && b.upgradePath[1]) {","    // put upgrades ahead of patches","    if (b.upgradePath[1] === false) {","      return 1;","    }","    var pua = moduleToObject(a.upgradePath[1]);","    var pub = moduleToObject(b.upgradePath[1]);","","    res = semver.compare(pua.version, pub.version) * -1;","","    if (res !== 0) {","      return res;","    }","  } else {","    if (a.upgradePath[1]) {","      return -1;","    }","","    if (b.upgradePath[1]) {","      return 1;","    }","","    // if no upgrade, then hopefully a patch","    res = sort('publicationTime')(b, a);","  }","","  return res;","}","","function sortPatchPrompts(a, b) {","  var res = 0;","","  // first sort by module affected","  var afrom = a.from.slice(1).pop();","  var bfrom = b.from.slice(1).pop();","","  if (!afrom) {","    return -1;","  }","","  if (!bfrom[1]) {","    return 1;","  }","","  var pa = moduleToObject(afrom);","  var pb = moduleToObject(bfrom);","  res = sort('name')(pa, pb);","  if (res !== 0) {","    return res;","  }","","  // if no upgrade, then hopefully a patch","  res = sort('publicationTime')(b, a);","","  return res;","}","","function stripInvalidPatches(vulns) {","  // strip the irrelevant patches from the vulns at the same time, collect","  // the unique package vulns","  return vulns.map(function (vuln) {","    // strip verbose meta","    delete vuln.description;","    delete vuln.credit;","","    if (vuln.patches) {","      vuln.patches = vuln.patches.filter(function (patch) {","        return semver.satisfies(vuln.version, patch.version);","      });","","      // sort by patchModification, then pick the latest one","      vuln.patches = vuln.patches.sort(function (a, b) {","        return b.modificationTime < a.modificationTime ? -1 : 1;","      }).slice(0, 1);","","      // FIXME hack to give all the patches IDs if they don't already","      if (vuln.patches[0] && !vuln.patches[0].id) {","        vuln.patches[0].id = vuln.patches[0].urls[0].split('/').slice(-1).pop();","      }","    }","","    return vuln;","  });","","}","","function getPrompts(vulns, policy) {","  return getUpdatePrompts(vulns, policy)","                  .concat(getPatchPrompts(vulns, policy))","                  .concat(getIgnorePrompts(vulns, policy));","}","","function getPatchPrompts(vulns, policy) {","  debug('getPatchPrompts');","  if (!vulns || vulns.length === 0) {","    return [];","  }","","  var res = stripInvalidPatches(_.cloneDeep(vulns)).filter(function (vuln) {","    // if there's any upgrade available, then remove it","    return canBeUpgraded(vuln) ? false : true;","  });","","  // sort by vulnerable package and the largest version","  res.sort(sortPatchPrompts);","","  // console.log(res.map(_ => `${_.name}@${_.version}`));","","  var copy = {};","  var offset = 0;","  // mutate our objects so we can try to group them","  // note that I use slice first becuase the `res` array will change length","  // and `reduce` _really_ doesn't like when you change the array under","  // it's feet","  res.slice(0).reduce(function (acc, curr, i, all) {","    // var upgrades = curr.upgradePath[1];","    // otherwise it's a patch and that's hidden for now","    if (curr.patches && curr.patches.length) {","      // TODO allow for cross over patches on modules (i.e. patch can work","      // on A-1 and A-2)","      var last = curr.id;","","      if (acc[curr.id]) {","        last = curr.id;","      } else {","        // try to find the right vuln id based on the publication times","        last = (all.filter(function (vuln) {","          var patch = vuln.patches[0];","","          // don't select the one we're looking at","","          if (curr.id === vuln.id) {","            return false;","          }","","          // only look at packages with the same name","          if (curr.name !== vuln.name || !patch) {","            return false;","          }","","          // and ensure the patch can be applied to *our* module version","          if (semver.satisfies(curr.version, patch.version)) {","","            // finally make sure the publicationTime is newer than the curr","            // vulnerability","            if (curr.publicationTime < vuln.publicationTime) {","              debug('found alternative location for %s@%s (%s by %s) in %s',","                curr.name, curr.version, patch.version, curr.id, vuln.id);","              return true;","            }","          }","        }).shift() || curr).id;","","      }","","      if (!acc[last]) {","        // only copy the biggest change","        copy[last] = _.cloneDeep(curr);","        acc[last] = curr;","        return acc;","      }","","      // only happens on the 2nd time around","      if (!acc[last].grouped) {","        acc[last].grouped = {","          affected: moduleToObject(acc[last].name + '@' + acc[last].version),","          main: true,","          id: acc[last].id + '-' + i,","          count: 1,","          upgrades: [{","            // all this information is used when the user selects group patch","            // specifically: in ./tasks.js~42","            from: acc[last].from,","            filename: acc[last].__filename,","            patches: acc[last].patches,","            version: acc[last].version,","          },],","          patch: true,","        };","","        acc[last].grouped.affected.full = acc[last].name;","","        // splice this vuln into the list again so if the user choses to review","        // they'll get this individual vuln and remediation","        copy[last].grouped = {","          main: false,","          requires: acc[last].grouped.id,","        };","","        res.splice(i + offset, 0, copy[last]);","        offset++;","      }","","      acc[last].grouped.count++;","","      curr.grouped = {","        main: false,","        requires: acc[last].grouped.id,","      };","","      // add the from path to our group upgrades if we don't have it already","      var have = !!acc[last].grouped.upgrades.filter(function (upgrade) {","        return upgrade.from.join(' ') === curr.from.join(' ');","      }).length;","","      if (!have) {","        acc[last].grouped.upgrades.push({","          from: curr.from,","          filename: curr.__filename,","          patches: curr.patches,","          version: curr.version,","        });","      } else {","        if (!acc[last].grouped.includes) {","          acc[last].grouped.includes = [];","        }","        acc[last].grouped.includes.push(curr.id);","      }","    }","","    return acc;","  }, {});","","  // FIXME this should not just strip those that have an upgrade path, but","  // take into account the previous answers, and if the package has been","  // upgraded, it should be left *out* of our list.","  res = res.filter(function (curr) {","    // if (curr.upgradePath[1]) {","    //   return false;","    // }","","    if (!curr.patches || curr.patches.length === 0) {","      return false;","    }","","    return true;","  });","","  // console.log(res.map(_ => _.grouped));","  var prompts = generatePrompt(res, policy, 'p');","","","  return prompts;","","}","","function getIgnorePrompts(vulns, policy) {","  debug('getIgnorePrompts');","  if (!vulns || vulns.length === 0) {","    return [];","  }","","  var res = stripInvalidPatches(_.cloneDeep(vulns)).filter(function (vuln) {","    // remove all patches and updates","","    // if there's any upgrade available","    if (canBeUpgraded(vuln)) {","      return false;","    }","","    if (vuln.patches && vuln.patches.length) {","      return false;","    }","","    return true;","  });","","  var prompts = generatePrompt(res, policy, 'i');","","  return prompts;","","}","","function getUpdatePrompts(vulns, policy) {","  debug('getUpdatePrompts');","  if (!vulns || vulns.length === 0) {","    return [];","  }","","  var res = stripInvalidPatches(_.cloneDeep(vulns)).filter(function (vuln) {","    // only keep upgradeable","    return canBeUpgraded(vuln);","  });","","  // sort by vulnerable package and the largest version","  res.sort(sortUpgradePrompts);","","  var copy = null;","  var offset = 0;","  // mutate our objects so we can try to group them","  // note that I use slice first becuase the `res` array will change length","  // and `reduce` _really_ doesn't like when you change the array under","  // it's feet","  res.slice(0).reduce(function (acc, curr, i) {","    var from = curr.from[1];","","    if (!acc[from]) {","      // only copy the biggest change","      copy = _.cloneDeep(curr);","      acc[from] = curr;","      return acc;","    }","","    var upgrades = curr.upgradePath.slice(-1).shift();","    // otherwise it's a patch and that's hidden for now","    if (upgrades && curr.upgradePath[1]) {","      if (!acc[from].grouped) {","        acc[from].grouped = {","          affected: moduleToObject(from),","          main: true,","          id: acc[from].id + '-' + i,","          count: 1,","          upgrades: [],","        };","        acc[from].grouped.affected.full = from;","","        // splice this vuln into the list again so if the user choses to review","        // they'll get this individual vuln and remediation","        copy.grouped = {","          main: false,","          requires: acc[from].grouped.id,","        };","","        res.splice(i + offset, 0, copy);","        offset++;","      }","","      acc[from].grouped.count++;","","      curr.grouped = {","        main: false,","        requires: acc[from].grouped.id,","      };","","      var p = moduleToObject(upgrades);","      if (p.name !== acc[from].grouped.affected.name &&","        (' ' + acc[from].grouped.upgrades.join(' ') + ' ')","          .indexOf(p.name + '@') === -1) {","        debug('+ adding %s to upgrades', upgrades);","        acc[from].grouped.upgrades.push(upgrades);","      }","    }","","    return acc;","  }, {});","","  // now strip anything that doesn't have an upgrade path","  res = res.filter(function (curr) {","    return !!curr.upgradePath[1];","  });","","  var prompts = generatePrompt(res, policy, 'u');","","  return prompts;","}","","function canBeUpgraded(vuln) {","  if (vuln.bundled) {","    return false;","  }","","  if (vuln.shrinkwrap) {","    return false;","  }","","  return vuln.upgradePath.some(function (pkg, i) {","    // if the upgade path is to upgrade the module to the same range the","    // user already asked for, then it means we need to just blow that","    // module away and re-install","    if (vuln.from.length > i && pkg === vuln.from[i]) {","      return true;","    }","","    // if the upgradePath contains the first two elements, that is","    // the project itself (i.e. jsbin) then the direct dependency can be","    // upgraded. Note that if the first two elements","    if (vuln.upgradePath.slice(0, 2).filter(Boolean).length) {","      return true;","    }","  });","}","","function generatePrompt(vulns, policy, prefix) {","  if (!prefix) {","    prefix = '';","  }","  if (!vulns) {","    vulns = []; // being defensive, but maybe we should throw an error?","  }","","  var skipAction = {","    value: 'skip', // the value that we get in our callback","    key: 's',","    name: 'Skip', // the text the user sees","  };","","  var ignoreAction = {","    value: 'ignore',","    key: 'i',","    meta: { // arbitrary data that we'll merged into the `value` later on","      days: 30,","    },","    short: 'Ignore',","    name: 'Set to ignore for 30 days (updates policy)',","  };","","  var patchAction = {","    value: 'patch',","    key: 'p',","    short: 'Patch',","    name: 'Patch (modifies files locally, updates policy for `snyk protect` ' +","      'runs)',","  };","","  var updateAction = {","    value: 'update',","    key: 'u',","    short: 'Upgrade',","    name: null, // updated below to the name of the package to update","  };","","  var prompts = vulns.map(function (vuln, i) {","    var id = vuln.id || ('node-' + vuln.name + '@' + vuln.below);","","    id += '-' + prefix + i;","","    // make complete copies of the actions, otherwise we'll mutate the object","    var ignore = _.cloneDeep(ignoreAction);","    var skip = _.cloneDeep(skipAction);","    var patch = _.cloneDeep(patchAction);","    var update = _.cloneDeep(updateAction);","    var review = {","      value: 'review',","      short: 'Review',","      name: 'Review issues separately',","    };","","    var choices = [];","","    var from = vuln.from.slice(1).filter(Boolean).shift();","","    // FIXME this should be handled a litle more gracefully","    if (vuln.from.length === 1) {","      console.log('');","      var error = new Error(vuln.upgradePath[0]);","      error.code = 'updatepackage';","      throw error;","    }","    var vulnIn = vuln.from.slice(-1).pop();","    var severity = vuln.severity[0].toUpperCase() + vuln.severity.slice(1);","","    var infoLink = '- info: ' + config.ROOT;","    var messageIntro;","    var fromText = false;","    var group = vuln.grouped && vuln.grouped.main ? vuln.grouped : false;","","    if (group) {","      infoLink += '/package/npm/' + group.affected.name + '/' +","        group.affected.version;","      var joiningText = group.patch ? 'in' : 'via';","      var issues = vuln.type === 'license' ? 'issues' : 'vulnerabilities';","      messageIntro = fmt(","        '%s %s introduced %s %s',","        group.count, issues, joiningText, group.affected.full);","    } else {","      infoLink += '/vuln/' + vuln.id;","      messageIntro = fmt(","        '%s severity %s found in %s, introduced via',","        severity, vuln.type === 'license' ? 'issue' : 'vuln', vulnIn, from);","      messageIntro += '\\n- desc: ' + vuln.title;","      fromText = (from !== vuln.from.slice(1).join(' > ') ?","          '- from: ' + vuln.from.slice(1).join(' > ') : '');","    }","","    var note = false;","    if (vuln.note) {","      if (group && group.patch) {","","      } else {","        note = '- note: ' + vuln.note;","      }","    }","","    var res = {","      when: function (answers) {","        var res = true;","        // only show this question if the user choose to review the details","        // of the vuln","        if (vuln.grouped && !vuln.grouped.main) {","          // find how they answered on the top level question","          var groupAnswer = Object.keys(answers).map(function (key) {","            if (answers[key].meta) {","              // this meta.groupId only appears on a \"review\" choice, and thus","              // this map will pick out those vulns that are specifically","              // associated with this review group.","              if (answers[key].meta.groupId === vuln.grouped.requires) {","                if (answers[key].choice === 'ignore' &&","                    answers[key].meta.review) {","                  answers[key].meta.vulnsInGroup.push({","                    id: vuln.id,","                    from: vuln.from,","                  });","                  return false;","                }","","                return answers[key];","              }","            }","            return false;","          }).filter(Boolean);","","          if (!groupAnswer.length) {","            debug('no group answer: show %s when %s', vuln.id, false);","            return false;","          }","","          // if we've upgraded, then stop asking","          var updatedTo = null;","          res = groupAnswer.filter(function (answer) {","            if (answer.choice === 'update') {","              updatedTo = answer;","              return true;","            }","          }).length === 0;","","          if (!res) {","            // echo out what would be upgraded","            var via = 'Fixed through previous upgrade instruction to ' +","              updatedTo.vuln.upgradePath[1];","            console.log(['', messageIntro, infoLink, via].join('\\n'));","          }","        }","","        if (res) {","          console.log(''); // blank line between prompts...kinda lame, sorry","        }","","        debug('final show %s when %s', vuln.id, res);","","        return res; // true = show next","      },","      name: id,","      type: 'list',","      message: [messageIntro, infoLink, fromText, note, '  Remediation options']","        .filter(Boolean).join('\\n'),","    };","","    var upgradeAvailable = canBeUpgraded(vuln);","","    // note: the language presented the user is \"upgrade\" rather than \"update\"","    // this change came long after all this code was written. I've decided","    // *not* to update all the variables referring to `update`, but just","    // to warn my dear code-reader that this is intentional.","    if (upgradeAvailable) {","      choices.push(update);","      var toPackage = vuln.upgradePath.filter(Boolean).shift();","","      var word = toPackage === from ? 'Re-install ' : 'Upgrade to ';","","      update.short = word + toPackage;","      var out = word + toPackage;","      var toPackageVersion = moduleToObject(toPackage).version;","      var diff = semver.diff(moduleToObject(from).version, toPackageVersion);","      var lead = '';","      var breaking = 'potentially breaking change';","      if (diff === 'major') {","        lead = ' (' + breaking + ', ';","      } else {","        lead = ' (';","      }","","      lead += 'triggers upgrade to ';","      if (group && group.upgrades.length) {","        out += lead + group.upgrades.join(', ') + ')';","      } else {","        var last = vuln.upgradePath.slice(-1).shift();","        if (toPackage !== last) {","          out += lead + last + ')';","        } else if (diff === 'major') {","          out += ' (' + breaking + ')';","        }","      }","      update.name = out;","    } else {","      // No upgrade available (as per no patch)","      var reason = '';","","      if (vuln.shrinkwrap) {","        reason = fmt('upgrade unavailable as %s@%s is shrinkwrapped by %s',","          vuln.name, vuln.version, vuln.shrinkwrap);","      } else if (vuln.bundled) {","        reason = fmt('upgrade unavailable as %s is bundled in vulnerable %s',","          vuln.bundled.slice(-1).pop(), vuln.name);","      } else {","        reason = 'no sufficient upgrade available we\\'ll notify you when ' +","          'there is one';","      }","","      choices.push({","        value: 'skip',","        key: 'u',","        short: 'Upgrade (none available)',","        name: 'Upgrade (' + reason + ')',","      });","    }","","    var patches = null;","","    if (upgradeAvailable && group) {","","    } else {","      if (vuln.patches && vuln.patches.length) {","        // check that the version we have has a patch available","        patches = protect.patchesForPackage(vuln);","","        if (patches !== null) {","          if (!upgradeAvailable) {","            patch.default = true;","          }","          res.patches = patches;","","          if (group) {","            patch.name = fmt('Patch the %s vulnerabilities', group.count);","          }","","          choices.push(patch);","        }","      }","    }","","    // only show patch option if this is NOT a grouped upgrade","    if (upgradeAvailable === false || !group) {","      if (patches === null) {","        // add a disabled option saying that patch isn't available","        // note that adding `disabled: true` does nothing, so the user can","        // actually select this option. I'm not 100% it's the right thing,","        // but we'll keep a keen eye on user feedback.","        choices.push({","          value: 'skip',","          key: 'p',","          short: 'Patch (none available)',","          name: 'Patch (no patch available, we\\'ll notify you when ' +","            'there is one)',","        });","      }","    }","","    if (group) {","      review.meta = {","        groupId: group.id,","        review: true,","      };","      choices.push(review);","","      ignore.meta.review = true;","      ignore.meta.groupId = group.id;","      ignore.meta.vulnsInGroup = [];","    }","","","    if (patches === null && !upgradeAvailable) {","      ignore.default = true;","    }","","    choices.push(ignore);","    choices.push(skip);","","    // look for a default - the `res.default` needs to be the index","    // of the choice, so we remap the choices to include the index, value of","    // choice and whether it was supposed to be a default. If the user is","    // updating their policy options, then we select the choice they had","    // before, otherwise we select the default","    res.default = (choices.map(function (choice, i) {","      return { i: i, default: choice.default };","    }).filter(function (choice) {","      return choice.default;","    }).shift() || { i: 0 }).i;","","    // kludge to make sure that we get the vuln in the user selection","    res.choices = choices.map(function (choice) {","      var value = choice.value;","      // this allows us to pass more data into the inquirer results","      if (vuln.grouped && !vuln.grouped.main) {","        if (!choice.meta) {","          choice.meta = {};","        }","        choice.meta.groupId = vuln.grouped.requires;","      }","      choice.value = {","        meta: choice.meta,","        vuln: vuln,","        choice: value, // this is the string \"update\", \"ignore\", etc","      };","      return choice;","    });","","    res.vuln = vuln;","","    return res;","  });","","  // zip together every prompt and a prompt asking \"why\", note that the `when`","  // callback controls whether not to prompt the user with this question,","  // in this case, we always show if the user choses to ignore.","  prompts = prompts.reduce(function (acc, curr) {","    acc.push(curr);","    // console.log(curr.choices[0].value.vuln);","    var rule = snykPolicy.getByVuln(policy, curr.choices[0].value.vuln);","    var defaultAnswer = 'None given';","    if (rule && rule.type === 'ignore') {","      defaultAnswer = rule.reason;","    }","    var issue = curr.choices[0].value.vuln &&","          curr.choices[0].value.vuln.type === 'license' ?","          'issue' : 'vulnerability';","    acc.push({","      name: curr.name + '-reason',","      message: '[audit] Reason for ignoring ' + issue + '?',","      default: defaultAnswer,","      when: function (answers) {","        if (!answers[curr.name]) {","          return false;","        }","        return answers[curr.name].choice === 'ignore';","      },","    });","    return acc;","  }, []);","","  return prompts;","}","","function startOver() {","  return {","    name: 'misc-start-over',","    message: 'Do you want to revisit your existing policy [y] or only update ' +","      'it [N]?',","    type: 'confirm',","    default: false,","  };","}","","function nextSteps(pkg, prevAnswers) {","  var skipProtect = false;","  var prompts = [];","  var i;","","  i = (undefsafe(pkg, 'scripts.test') || '').indexOf('snyk test');","  if (i === -1) {","    prompts.push({","      name: 'misc-add-test',","      message: 'Add `snyk test` to package.json file to fail test on newly ' +","        'disclosed vulnerabilities?\\n' +","        'This will require authentication via `snyk auth` when running tests.',","      type: 'confirm',","      default: false,","    });","  }","","  // early exit if prevAnswers is false (when snyk test.ok === true)","  if (prevAnswers === false) {","    return prompts;","  }","","  i = (undefsafe(pkg, 'scripts.prepublish') || '').indexOf('snyk-pro');","","  // if `snyk protect` doesn't already appear, then check if we need to add it","  if (i === -1) {","    skipProtect = Object.keys(prevAnswers).every(function (key) {","      return prevAnswers[key].choice !== 'patch';","    });","  } else {","    skipProtect = true;","  }","","  if (!skipProtect) {","    prompts.push({","      name: 'misc-add-protect',","      message: 'Add `snyk protect` as a package.json installation hook to ' +","        'apply chosen patches on install?',","      type: 'confirm',","      default: true,","    });","  }","","  return prompts;","}",""],"l":{"1":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"21":1,"22":0,"23":0,"24":0,"25":0,"28":0,"29":0,"30":0,"34":1,"35":0,"38":0,"39":0,"42":0,"43":0,"46":0,"47":0,"48":0,"49":0,"50":0,"54":0,"56":0,"57":0,"59":0,"60":0,"62":0,"64":0,"65":0,"68":0,"69":0,"72":0,"73":0,"77":0,"80":0,"83":1,"84":0,"87":0,"88":0,"90":0,"91":0,"94":0,"95":0,"98":0,"99":0,"100":0,"101":0,"102":0,"106":0,"108":0,"111":1,"114":0,"116":0,"117":0,"119":0,"120":0,"121":0,"125":0,"126":0,"130":0,"131":0,"135":0,"140":1,"141":0,"146":1,"147":0,"148":0,"149":0,"152":0,"154":0,"158":0,"162":0,"163":0,"168":0,"171":0,"174":0,"176":0,"177":0,"180":0,"181":0,"185":0,"186":0,"190":0,"191":0,"195":0,"199":0,"200":0,"202":0,"209":0,"211":0,"212":0,"213":0,"217":0,"218":0,"234":0,"238":0,"243":0,"244":0,"247":0,"249":0,"255":0,"256":0,"259":0,"260":0,"267":0,"268":0,"270":0,"274":0,"280":0,"285":0,"286":0,"289":0,"293":0,"296":0,"300":1,"301":0,"302":0,"303":0,"306":0,"310":0,"311":0,"314":0,"315":0,"318":0,"321":0,"323":0,"327":1,"328":0,"329":0,"330":0,"333":0,"335":0,"339":0,"341":0,"342":0,"347":0,"348":0,"350":0,"352":0,"353":0,"354":0,"357":0,"359":0,"360":0,"361":0,"368":0,"372":0,"377":0,"378":0,"381":0,"383":0,"388":0,"389":0,"392":0,"393":0,"397":0,"401":0,"402":0,"405":0,"407":0,"410":1,"411":0,"412":0,"415":0,"416":0,"419":0,"423":0,"424":0,"430":0,"431":0,"436":1,"437":0,"438":0,"440":0,"441":0,"444":0,"450":0,"460":0,"468":0,"475":0,"476":0,"478":0,"481":0,"482":0,"483":0,"484":0,"485":0,"491":0,"493":0,"496":0,"497":0,"498":0,"499":0,"500":0,"502":0,"503":0,"505":0,"506":0,"507":0,"508":0,"510":0,"511":0,"513":0,"514":0,"515":0,"519":0,"520":0,"523":0,"524":0,"528":0,"529":0,"530":0,"533":0,"537":0,"539":0,"542":0,"544":0,"545":0,"549":0,"550":0,"552":0,"556":0,"559":0,"562":0,"565":0,"566":0,"567":0,"571":0,"572":0,"573":0,"574":0,"575":0,"579":0,"581":0,"583":0,"587":0,"588":0,"591":0,"593":0,"601":0,"607":0,"608":0,"609":0,"611":0,"613":0,"614":0,"615":0,"616":0,"617":0,"618":0,"619":0,"620":0,"622":0,"625":0,"626":0,"627":0,"629":0,"630":0,"631":0,"632":0,"633":0,"636":0,"639":0,"641":0,"642":0,"644":0,"645":0,"648":0,"652":0,"660":0,"662":0,"665":0,"667":0,"669":0,"670":0,"671":0,"673":0,"675":0,"676":0,"679":0,"685":0,"686":0,"691":0,"701":0,"702":0,"706":0,"708":0,"709":0,"710":0,"714":0,"715":0,"718":0,"719":0,"726":0,"727":0,"729":0,"733":0,"734":0,"736":0,"737":0,"738":0,"740":0,"742":0,"747":0,"750":0,"752":0,"758":0,"759":0,"761":0,"762":0,"763":0,"764":0,"766":0,"769":0,"774":0,"775":0,"777":0,"780":0,"783":0,"786":1,"787":0,"796":1,"797":0,"798":0,"799":0,"801":0,"802":0,"803":0,"814":0,"815":0,"818":0,"821":0,"822":0,"823":0,"826":0,"829":0,"830":0,"839":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"generatePolicy","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":61}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":54},"end":{"line":14,"column":70}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":9},"end":{"line":16,"column":25}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":36},"end":{"line":20,"column":51}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":2}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":45}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}},"5":{"start":{"line":13,"column":0},"end":{"line":34,"column":1}},"6":{"start":{"line":14,"column":2},"end":{"line":18,"column":5}},"7":{"start":{"line":15,"column":4},"end":{"line":15,"column":30}},"8":{"start":{"line":17,"column":4},"end":{"line":17,"column":60}},"9":{"start":{"line":20,"column":2},"end":{"line":33,"column":5}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":53}},"11":{"start":{"line":27,"column":4},"end":{"line":27,"column":28}},"12":{"start":{"line":28,"column":4},"end":{"line":28,"column":46}},"13":{"start":{"line":30,"column":4},"end":{"line":30,"column":44}},"14":{"start":{"line":32,"column":4},"end":{"line":32,"column":21}}},"branchMap":{},"code":["var protect = module.exports = {","  ignore: require('./ignore'),","  update: require('./update'),","  patch: require('./patch'),","  patchesForPackage: require('./patches-for-package'),","  generatePolicy: generatePolicy,","};","","var debug = require('debug')('snyk');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var _ = require('../../dist/lodash-min');","","function generatePolicy(policy, tasks, live, packageManager) {","  var promises = ['ignore', 'update', 'patch'].filter(function (task) {","    return tasks[task].length;","  }).map(function (task) {","    return protect[task](tasks[task], live, packageManager);","  });","","  return Promise.all(promises).then(function (res) {","    // we're squashing the arrays of arrays into a flat structure","    // with only non-false values","    var results = _.flattenDeep(res).filter(Boolean);","","    // then we merge the configs together using the original config","    // as the baseline (this lets us retain the user's existing config)","    results.unshift(policy);","    var newPolicy = _.merge.apply(_, results);","","    debug(JSON.stringify(newPolicy, '', 2));","","    return newPolicy;","  });","}",""],"l":{"1":1,"9":1,"10":1,"11":1,"13":1,"14":0,"15":0,"17":0,"20":0,"23":0,"27":0,"28":0,"30":0,"32":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/ignore.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/ignore.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"ignore","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":22}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":40}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":44}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":14},"end":{"line":21,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"6":{"start":{"line":8,"column":0},"end":{"line":38,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":37,"column":5}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"9":{"start":{"line":11,"column":4},"end":{"line":31,"column":11}},"10":{"start":{"line":12,"column":6},"end":{"line":12,"column":26}},"11":{"start":{"line":13,"column":6},"end":{"line":13,"column":37}},"12":{"start":{"line":14,"column":6},"end":{"line":14,"column":26}},"13":{"start":{"line":15,"column":6},"end":{"line":18,"column":8}},"14":{"start":{"line":19,"column":6},"end":{"line":19,"column":34}},"15":{"start":{"line":20,"column":6},"end":{"line":20,"column":24}},"16":{"start":{"line":22,"column":6},"end":{"line":24,"column":7}},"17":{"start":{"line":23,"column":8},"end":{"line":23,"column":30}},"18":{"start":{"line":26,"column":6},"end":{"line":26,"column":27}},"19":{"start":{"line":27,"column":6},"end":{"line":27,"column":25}},"20":{"start":{"line":28,"column":6},"end":{"line":28,"column":25}},"21":{"start":{"line":30,"column":6},"end":{"line":30,"column":17}},"22":{"start":{"line":34,"column":4},"end":{"line":34,"column":35}},"23":{"start":{"line":36,"column":4},"end":{"line":36,"column":20}}},"branchMap":{"1":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":17},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":36}}]},"2":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":6}},{"start":{"line":22,"column":6},"end":{"line":22,"column":6}}]}},"code":["module.exports = ignore;","","var debug = require('debug')('snyk');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var stripVersions = require('./strip-versions');","var oneDay = 1000 * 60 * 60 * 24;","","function ignore(data) {","  return new Promise(function (resolve) {","    var config = {};","    config.ignore = data.map(function (res) {","      var vuln = res.vuln;","      var days = res.meta.days || 30;","      var ignoreRule = {};","      ignoreRule[stripVersions(vuln.from.slice(1)).join(' > ')] = {","        reason: res.meta.reason,","        expires: new Date(Date.now() + (oneDay * days)).toJSON(),","      };","      ignoreRule.vulnId = vuln.id;","      return ignoreRule;","    }).reduce(function (acc, curr) {","      if (!acc[curr.vulnId]) {","        acc[curr.vulnId] = [];","      }","","      var id = curr.vulnId;","      delete curr.vulnId;","      acc[id].push(curr);","","      return acc;","    }, {});","","    // final format looks like test/fixtures/protect-interactive-config.json","    debug('ignore config', config);","","    resolve(config);","  });","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"19":0,"20":0,"22":0,"23":0,"26":0,"27":0,"28":0,"30":0,"34":0,"36":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/strip-versions.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/strip-versions.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"stripVersions","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":22},"end":{"line":6,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"3":{"start":{"line":5,"column":0},"end":{"line":9,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":8,"column":5}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":36}}},"branchMap":{},"code":["module.exports = stripVersions;","","var moduleToObject = require('snyk-module');","","function stripVersions(packages) {","  return packages.map(function (pkg) {","    return moduleToObject(pkg).name;","  });","}"],"l":{"1":1,"3":1,"5":1,"6":0,"7":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/update.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/update.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":1,"45":0,"46":1,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"update","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":44}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":27},"end":{"line":18,"column":39}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":25}}},"4":{"name":"(anonymous_4)","line":33,"loc":{"start":{"line":33,"column":12},"end":{"line":33,"column":33}}},"5":{"name":"(anonymous_5)","line":49,"loc":{"start":{"line":49,"column":10},"end":{"line":49,"column":22}}},"6":{"name":"(anonymous_6)","line":53,"loc":{"start":{"line":53,"column":15},"end":{"line":53,"column":28}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":15},"end":{"line":60,"column":28}}},"8":{"name":"(anonymous_8)","line":65,"loc":{"start":{"line":65,"column":12},"end":{"line":65,"column":31}}},"9":{"name":"(anonymous_9)","line":72,"loc":{"start":{"line":72,"column":8},"end":{"line":72,"column":23}}},"10":{"name":"install","line":80,"loc":{"start":{"line":80,"column":0},"end":{"line":80,"column":45}}},"11":{"name":"installDev","line":86,"loc":{"start":{"line":86,"column":0},"end":{"line":86,"column":48}}},"12":{"name":"uninstall","line":92,"loc":{"start":{"line":92,"column":0},"end":{"line":92,"column":50}}},"13":{"name":"findUpgrades","line":98,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":32}}},"14":{"name":"(anonymous_14)","line":101,"loc":{"start":{"line":101,"column":10},"end":{"line":101,"column":31}}},"15":{"name":"(anonymous_15)","line":102,"loc":{"start":{"line":102,"column":26},"end":{"line":102,"column":41}}},"16":{"name":"(anonymous_16)","line":116,"loc":{"start":{"line":116,"column":7},"end":{"line":116,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":28}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":30}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}},"11":{"start":{"line":13,"column":0},"end":{"line":78,"column":1}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":35}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":59}},"14":{"start":{"line":16,"column":2},"end":{"line":16,"column":20}},"15":{"start":{"line":18,"column":2},"end":{"line":77,"column":5}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":36}},"17":{"start":{"line":23,"column":4},"end":{"line":39,"column":11}},"18":{"start":{"line":25,"column":6},"end":{"line":25,"column":60}},"19":{"start":{"line":26,"column":6},"end":{"line":26,"column":66}},"20":{"start":{"line":28,"column":6},"end":{"line":31,"column":8}},"21":{"start":{"line":34,"column":6},"end":{"line":36,"column":7}},"22":{"start":{"line":35,"column":8},"end":{"line":35,"column":28}},"23":{"start":{"line":37,"column":6},"end":{"line":37,"column":44}},"24":{"start":{"line":38,"column":6},"end":{"line":38,"column":17}},"25":{"start":{"line":41,"column":4},"end":{"line":41,"column":33}},"26":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"27":{"start":{"line":44,"column":6},"end":{"line":44,"column":13}},"28":{"start":{"line":47,"column":4},"end":{"line":47,"column":55}},"29":{"start":{"line":48,"column":4},"end":{"line":68,"column":7}},"30":{"start":{"line":50,"column":6},"end":{"line":56,"column":11}},"31":{"start":{"line":54,"column":10},"end":{"line":54,"column":20}},"32":{"start":{"line":55,"column":10},"end":{"line":55,"column":23}},"33":{"start":{"line":57,"column":6},"end":{"line":63,"column":11}},"34":{"start":{"line":61,"column":10},"end":{"line":61,"column":20}},"35":{"start":{"line":62,"column":10},"end":{"line":62,"column":23}},"36":{"start":{"line":64,"column":6},"end":{"line":67,"column":9}},"37":{"start":{"line":66,"column":8},"end":{"line":66,"column":40}},"38":{"start":{"line":69,"column":4},"end":{"line":69,"column":19}},"39":{"start":{"line":73,"column":4},"end":{"line":75,"column":5}},"40":{"start":{"line":74,"column":6},"end":{"line":74,"column":54}},"41":{"start":{"line":76,"column":4},"end":{"line":76,"column":15}},"42":{"start":{"line":80,"column":0},"end":{"line":84,"column":1}},"43":{"start":{"line":81,"column":2},"end":{"line":83,"column":35}},"44":{"start":{"line":86,"column":0},"end":{"line":90,"column":1}},"45":{"start":{"line":87,"column":2},"end":{"line":89,"column":57}},"46":{"start":{"line":92,"column":0},"end":{"line":96,"column":1}},"47":{"start":{"line":93,"column":2},"end":{"line":95,"column":40}},"48":{"start":{"line":98,"column":0},"end":{"line":119,"column":1}},"49":{"start":{"line":99,"column":2},"end":{"line":118,"column":5}},"50":{"start":{"line":102,"column":4},"end":{"line":104,"column":13}},"51":{"start":{"line":103,"column":6},"end":{"line":103,"column":36}},"52":{"start":{"line":106,"column":4},"end":{"line":112,"column":5}},"53":{"start":{"line":107,"column":6},"end":{"line":109,"column":7}},"54":{"start":{"line":108,"column":8},"end":{"line":108,"column":36}},"55":{"start":{"line":111,"column":6},"end":{"line":111,"column":21}},"56":{"start":{"line":114,"column":4},"end":{"line":114,"column":15}},"57":{"start":{"line":117,"column":4},"end":{"line":117,"column":40}}},"branchMap":{"1":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":15},"end":{"line":14,"column":25}},{"start":{"line":14,"column":29},"end":{"line":14,"column":34}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":14},"end":{"line":30,"column":32}},{"start":{"line":30,"column":36},"end":{"line":30,"column":42}}]},"3":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":6},"end":{"line":34,"column":6}},{"start":{"line":34,"column":6},"end":{"line":34,"column":6}}]},"4":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":4}},{"start":{"line":43,"column":4},"end":{"line":43,"column":4}}]},"5":{"line":50,"type":"cond-expr","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":61}},{"start":{"line":52,"column":8},"end":{"line":52,"column":29}}]},"6":{"line":57,"type":"cond-expr","locations":[{"start":{"line":58,"column":8},"end":{"line":58,"column":63}},{"start":{"line":59,"column":8},"end":{"line":59,"column":29}}]},"7":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":15},"end":{"line":66,"column":25}},{"start":{"line":66,"column":29},"end":{"line":66,"column":39}}]},"8":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"9":{"line":81,"type":"cond-expr","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":31}},{"start":{"line":83,"column":4},"end":{"line":83,"column":34}}]},"10":{"line":87,"type":"cond-expr","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":48}},{"start":{"line":89,"column":4},"end":{"line":89,"column":56}}]},"11":{"line":93,"type":"cond-expr","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":37}},{"start":{"line":95,"column":4},"end":{"line":95,"column":39}}]},"12":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":4},"end":{"line":106,"column":4}},{"start":{"line":106,"column":4},"end":{"line":106,"column":4}}]},"13":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":6},"end":{"line":107,"column":6}},{"start":{"line":107,"column":6},"end":{"line":107,"column":6}}]}},"code":["module.exports = update;","","var debug = require('debug')('snyk');","var chalk = require('chalk');","var _ = require('../../dist/lodash-min');","var moduleToObject = require('snyk-module');","var semver = require('semver');","var errors = require('../error');","var npm = require('../npm');","var yarn = require('../yarn');","var spinner = require('../spinner');","","function update(packages, live, pkgManager) {","  pkgManager = pkgManager || 'npm';","  var lbl = 'Applying updates using ' + pkgManager + '...';","  var error = false;","","  return spinner(lbl).then(function () {","    // the uninstall doesn't need versions in the strings","    // but install *does* so we build up arrays of both","    var upgradeWithoutVersions = [];","","    var upgrade = packages","    .map(function (vuln) {","      var remediation = vuln.upgradePath.filter(Boolean)[0];","      upgradeWithoutVersions.push(remediation.split('@').shift());","","      return {","        remediation: remediation,","        type: vuln.parentDepType || 'prod',","      };","    })","    .reduce(function (ups, vuln) {","      if (!ups[vuln.type]) {","        ups[vuln.type] = [];","      }","      ups[vuln.type].push(vuln.remediation);","      return ups;","    }, {});","","    debug('to upgrade', upgrade);","","    if (upgrade.length === 0) {","      return;","    }","","    var toUninstall = _.unique(upgradeWithoutVersions);","    var promise = uninstall(pkgManager, toUninstall, live)","    .then(function () {","      var prodUpdate = (upgrade.prod ?","        install(pkgManager, findUpgrades(upgrade.prod), live) :","        Promise.resolve(true))","        .catch(function (e) {","          error = e;","          return false;","        });","      var devUpdate = (upgrade.dev ?","        installDev(pkgManager, findUpgrades(upgrade.dev), live) :","        Promise.resolve(true))","        .catch(function (e) {","          error = e;","          return false;","        });","      return Promise.all([prodUpdate, devUpdate])","      .then(function (results) {","        return results[0] && results[1];","      });","    });","    return promise;","  })","  .then(spinner.clear(lbl))","  .then(function (res) {","    if (error) {","      console.error(chalk.red(errors.message(error)));","    }","    return res;","  });","}","","function install(pkgManager, upgrades, live) {","  return pkgManager === 'yarn' ?","    yarn('add', upgrades, live) :","    npm('install', upgrades, live);","}","","function installDev(pkgManager, upgrades, live) {","  return pkgManager === 'yarn' ?","    yarn('add', upgrades, live, null, ['--dev']) :","    npm('install', upgrades, live, null, ['--save-dev']);","}","","function uninstall(pkgManager, toUninstall, live) {","  return pkgManager === 'yarn' ?","    yarn('remove', toUninstall, live) :","    npm('uninstall', toUninstall, live);","}","","function findUpgrades(packages) {","  return packages","  .map(moduleToObject)","  .reduce(function (acc, curr) {","    var have = acc.filter(function (pkg) {","      return pkg.name === curr.name;","    }).pop();","","    if (have) {","      if (semver.gt(curr.version, have.version)) {","        have.version = curr.version;","      }","    } else {","      acc.push(curr);","    }","","    return acc;","  }, [])","  .map(function (pkg) {","    return pkg.name + '@' + pkg.version;","  });","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":0,"15":0,"16":0,"18":0,"21":0,"23":0,"25":0,"26":0,"28":0,"34":0,"35":0,"37":0,"38":0,"41":0,"43":0,"44":0,"47":0,"48":0,"50":0,"54":0,"55":0,"57":0,"61":0,"62":0,"64":0,"66":0,"69":0,"73":0,"74":0,"76":0,"80":1,"81":0,"86":1,"87":0,"92":1,"93":0,"98":1,"99":0,"102":0,"103":0,"106":0,"107":0,"108":0,"111":0,"114":0,"117":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/patch.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/patch.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":1,"115":0,"116":0,"117":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"fnMap":{"1":{"name":"patch","line":25,"loc":{"start":{"line":25,"column":0},"end":{"line":25,"column":33}}},"2":{"name":"(anonymous_2)","line":35,"loc":{"start":{"line":35,"column":25},"end":{"line":35,"column":46}}},"3":{"name":"(anonymous_3)","line":48,"loc":{"start":{"line":48,"column":53},"end":{"line":48,"column":65}}},"4":{"name":"(anonymous_4)","line":50,"loc":{"start":{"line":50,"column":18},"end":{"line":50,"column":34}}},"5":{"name":"(anonymous_5)","line":59,"loc":{"start":{"line":59,"column":43},"end":{"line":59,"column":64}}},"6":{"name":"(anonymous_6)","line":60,"loc":{"start":{"line":60,"column":22},"end":{"line":60,"column":37}}},"7":{"name":"(anonymous_7)","line":77,"loc":{"start":{"line":77,"column":40},"end":{"line":77,"column":55}}},"8":{"name":"(anonymous_8)","line":79,"loc":{"start":{"line":79,"column":53},"end":{"line":79,"column":70}}},"9":{"name":"(anonymous_9)","line":81,"loc":{"start":{"line":81,"column":40},"end":{"line":81,"column":58}}},"10":{"name":"(anonymous_10)","line":85,"loc":{"start":{"line":85,"column":20},"end":{"line":85,"column":38}}},"11":{"name":"(anonymous_11)","line":91,"loc":{"start":{"line":91,"column":33},"end":{"line":91,"column":60}}},"12":{"name":"(anonymous_12)","line":92,"loc":{"start":{"line":92,"column":39},"end":{"line":92,"column":63}}},"13":{"name":"(anonymous_13)","line":97,"loc":{"start":{"line":97,"column":51},"end":{"line":97,"column":67}}},"14":{"name":"(anonymous_14)","line":99,"loc":{"start":{"line":99,"column":25},"end":{"line":99,"column":41}}},"15":{"name":"(anonymous_15)","line":104,"loc":{"start":{"line":104,"column":22},"end":{"line":104,"column":34}}},"16":{"name":"(anonymous_16)","line":108,"loc":{"start":{"line":108,"column":18},"end":{"line":108,"column":35}}},"17":{"name":"(anonymous_17)","line":116,"loc":{"start":{"line":116,"column":54},"end":{"line":116,"column":66}}},"18":{"name":"(anonymous_18)","line":118,"loc":{"start":{"line":118,"column":15},"end":{"line":118,"column":28}}},"19":{"name":"(anonymous_19)","line":121,"loc":{"start":{"line":121,"column":20},"end":{"line":121,"column":34}}},"20":{"name":"(anonymous_20)","line":127,"loc":{"start":{"line":127,"column":42},"end":{"line":127,"column":60}}},"21":{"name":"(anonymous_21)","line":134,"loc":{"start":{"line":134,"column":32},"end":{"line":134,"column":47}}},"22":{"name":"(anonymous_22)","line":143,"loc":{"start":{"line":143,"column":12},"end":{"line":143,"column":31}}},"23":{"name":"(anonymous_23)","line":144,"loc":{"start":{"line":144,"column":31},"end":{"line":144,"column":52}}},"24":{"name":"(anonymous_24)","line":148,"loc":{"start":{"line":148,"column":39},"end":{"line":148,"column":55}}},"25":{"name":"(anonymous_25)","line":165,"loc":{"start":{"line":165,"column":49},"end":{"line":165,"column":73}}},"26":{"name":"(anonymous_26)","line":168,"loc":{"start":{"line":168,"column":40},"end":{"line":168,"column":54}}},"27":{"name":"(anonymous_27)","line":180,"loc":{"start":{"line":180,"column":35},"end":{"line":180,"column":56}}},"28":{"name":"(anonymous_28)","line":198,"loc":{"start":{"line":198,"column":35},"end":{"line":198,"column":50}}},"29":{"name":"(anonymous_29)","line":200,"loc":{"start":{"line":200,"column":24},"end":{"line":200,"column":41}}},"30":{"name":"patchRule","line":210,"loc":{"start":{"line":210,"column":0},"end":{"line":210,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":21}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":50}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":35}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":28}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":27}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":42}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":48}},"13":{"start":{"line":15,"column":0},"end":{"line":15,"column":49}},"14":{"start":{"line":16,"column":0},"end":{"line":16,"column":41}},"15":{"start":{"line":17,"column":0},"end":{"line":17,"column":51}},"16":{"start":{"line":18,"column":0},"end":{"line":18,"column":36}},"17":{"start":{"line":19,"column":0},"end":{"line":19,"column":33}},"18":{"start":{"line":20,"column":0},"end":{"line":20,"column":40}},"19":{"start":{"line":21,"column":0},"end":{"line":21,"column":44}},"20":{"start":{"line":22,"column":0},"end":{"line":22,"column":50}},"21":{"start":{"line":25,"column":0},"end":{"line":208,"column":1}},"22":{"start":{"line":26,"column":2},"end":{"line":26,"column":34}},"23":{"start":{"line":33,"column":2},"end":{"line":33,"column":27}},"24":{"start":{"line":34,"column":2},"end":{"line":45,"column":3}},"25":{"start":{"line":35,"column":4},"end":{"line":44,"column":11}},"26":{"start":{"line":36,"column":6},"end":{"line":36,"column":48}},"27":{"start":{"line":37,"column":6},"end":{"line":42,"column":7}},"28":{"start":{"line":38,"column":8},"end":{"line":38,"column":34}},"29":{"start":{"line":39,"column":8},"end":{"line":39,"column":23}},"30":{"start":{"line":41,"column":8},"end":{"line":41,"column":40}},"31":{"start":{"line":43,"column":6},"end":{"line":43,"column":17}},"32":{"start":{"line":47,"column":2},"end":{"line":47,"column":21}},"33":{"start":{"line":48,"column":2},"end":{"line":207,"column":5}},"34":{"start":{"line":50,"column":4},"end":{"line":52,"column":7}},"35":{"start":{"line":51,"column":6},"end":{"line":51,"column":51}},"36":{"start":{"line":54,"column":4},"end":{"line":54,"column":32}},"37":{"start":{"line":55,"column":4},"end":{"line":55,"column":50}},"38":{"start":{"line":59,"column":4},"end":{"line":132,"column":41}},"39":{"start":{"line":60,"column":6},"end":{"line":131,"column":9}},"40":{"start":{"line":61,"column":8},"end":{"line":61,"column":35}},"41":{"start":{"line":63,"column":8},"end":{"line":67,"column":9}},"42":{"start":{"line":64,"column":10},"end":{"line":64,"column":53}},"43":{"start":{"line":65,"column":10},"end":{"line":65,"column":68}},"44":{"start":{"line":66,"column":10},"end":{"line":66,"column":21}},"45":{"start":{"line":69,"column":8},"end":{"line":69,"column":63}},"46":{"start":{"line":72,"column":8},"end":{"line":72,"column":52}},"47":{"start":{"line":73,"column":8},"end":{"line":73,"column":78}},"48":{"start":{"line":74,"column":8},"end":{"line":74,"column":78}},"49":{"start":{"line":77,"column":8},"end":{"line":125,"column":11}},"50":{"start":{"line":78,"column":10},"end":{"line":78,"column":68}},"51":{"start":{"line":79,"column":10},"end":{"line":124,"column":13}},"52":{"start":{"line":81,"column":12},"end":{"line":107,"column":15}},"53":{"start":{"line":84,"column":14},"end":{"line":84,"column":50}},"54":{"start":{"line":86,"column":14},"end":{"line":88,"column":15}},"55":{"start":{"line":87,"column":16},"end":{"line":87,"column":29}},"56":{"start":{"line":91,"column":14},"end":{"line":106,"column":17}},"57":{"start":{"line":92,"column":16},"end":{"line":103,"column":19}},"58":{"start":{"line":93,"column":18},"end":{"line":95,"column":19}},"59":{"start":{"line":94,"column":20},"end":{"line":94,"column":41}},"60":{"start":{"line":97,"column":18},"end":{"line":102,"column":23}},"61":{"start":{"line":98,"column":20},"end":{"line":98,"column":54}},"62":{"start":{"line":100,"column":20},"end":{"line":101,"column":56}},"63":{"start":{"line":105,"column":16},"end":{"line":105,"column":29}},"64":{"start":{"line":109,"column":12},"end":{"line":112,"column":13}},"65":{"start":{"line":110,"column":14},"end":{"line":110,"column":51}},"66":{"start":{"line":111,"column":14},"end":{"line":111,"column":26}},"67":{"start":{"line":114,"column":12},"end":{"line":114,"column":79}},"68":{"start":{"line":116,"column":12},"end":{"line":123,"column":15}},"69":{"start":{"line":117,"column":14},"end":{"line":117,"column":26}},"70":{"start":{"line":119,"column":14},"end":{"line":119,"column":32}},"71":{"start":{"line":120,"column":14},"end":{"line":120,"column":27}},"72":{"start":{"line":122,"column":14},"end":{"line":122,"column":39}},"73":{"start":{"line":127,"column":8},"end":{"line":130,"column":11}},"74":{"start":{"line":128,"column":10},"end":{"line":128,"column":27}},"75":{"start":{"line":129,"column":10},"end":{"line":129,"column":21}},"76":{"start":{"line":134,"column":4},"end":{"line":195,"column":7}},"77":{"start":{"line":135,"column":6},"end":{"line":135,"column":51}},"78":{"start":{"line":137,"column":6},"end":{"line":140,"column":7}},"79":{"start":{"line":138,"column":8},"end":{"line":138,"column":38}},"80":{"start":{"line":139,"column":8},"end":{"line":139,"column":23}},"81":{"start":{"line":142,"column":6},"end":{"line":142,"column":70}},"82":{"start":{"line":144,"column":6},"end":{"line":156,"column":13}},"83":{"start":{"line":145,"column":8},"end":{"line":145,"column":50}},"84":{"start":{"line":147,"column":8},"end":{"line":151,"column":9}},"85":{"start":{"line":148,"column":10},"end":{"line":150,"column":13}},"86":{"start":{"line":149,"column":12},"end":{"line":149,"column":27}},"87":{"start":{"line":153,"column":8},"end":{"line":153,"column":23}},"88":{"start":{"line":155,"column":8},"end":{"line":155,"column":19}},"89":{"start":{"line":158,"column":6},"end":{"line":158,"column":22}},"90":{"start":{"line":165,"column":6},"end":{"line":178,"column":13}},"91":{"start":{"line":166,"column":8},"end":{"line":166,"column":30}},"92":{"start":{"line":167,"column":8},"end":{"line":173,"column":9}},"93":{"start":{"line":168,"column":10},"end":{"line":172,"column":13}},"94":{"start":{"line":169,"column":12},"end":{"line":169,"column":41}},"95":{"start":{"line":170,"column":12},"end":{"line":170,"column":29}},"96":{"start":{"line":171,"column":12},"end":{"line":171,"column":27}},"97":{"start":{"line":175,"column":8},"end":{"line":175,"column":23}},"98":{"start":{"line":177,"column":8},"end":{"line":177,"column":19}},"99":{"start":{"line":180,"column":6},"end":{"line":190,"column":13}},"100":{"start":{"line":181,"column":8},"end":{"line":183,"column":9}},"101":{"start":{"line":182,"column":10},"end":{"line":182,"column":32}},"102":{"start":{"line":185,"column":8},"end":{"line":185,"column":29}},"103":{"start":{"line":186,"column":8},"end":{"line":186,"column":27}},"104":{"start":{"line":187,"column":8},"end":{"line":187,"column":27}},"105":{"start":{"line":189,"column":8},"end":{"line":189,"column":19}},"106":{"start":{"line":192,"column":6},"end":{"line":192,"column":31}},"107":{"start":{"line":194,"column":6},"end":{"line":194,"column":20}},"108":{"start":{"line":197,"column":4},"end":{"line":197,"column":19}},"109":{"start":{"line":199,"column":4},"end":{"line":204,"column":5}},"110":{"start":{"line":200,"column":6},"end":{"line":202,"column":9}},"111":{"start":{"line":201,"column":8},"end":{"line":201,"column":54}},"112":{"start":{"line":203,"column":6},"end":{"line":203,"column":80}},"113":{"start":{"line":206,"column":4},"end":{"line":206,"column":15}},"114":{"start":{"line":210,"column":0},"end":{"line":218,"column":1}},"115":{"start":{"line":211,"column":2},"end":{"line":213,"column":4}},"116":{"start":{"line":214,"column":2},"end":{"line":216,"column":4}},"117":{"start":{"line":217,"column":2},"end":{"line":217,"column":14}}},"branchMap":{"1":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"2":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":6},"end":{"line":37,"column":6}},{"start":{"line":37,"column":6},"end":{"line":37,"column":6}}]},"3":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"4":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":21},"end":{"line":84,"column":27}},{"start":{"line":84,"column":31},"end":{"line":84,"column":49}}]},"5":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":14},"end":{"line":86,"column":14}},{"start":{"line":86,"column":14},"end":{"line":86,"column":14}}]},"6":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":18},"end":{"line":93,"column":18}},{"start":{"line":93,"column":18},"end":{"line":93,"column":18}}]},"7":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":12},"end":{"line":109,"column":12}},{"start":{"line":109,"column":12},"end":{"line":109,"column":12}}]},"8":{"line":122,"type":"cond-expr","locations":[{"start":{"line":122,"column":26},"end":{"line":122,"column":30}},{"start":{"line":122,"column":33},"end":{"line":122,"column":38}}]},"9":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":6},"end":{"line":137,"column":6}},{"start":{"line":137,"column":6},"end":{"line":137,"column":6}}]},"10":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":8},"end":{"line":147,"column":8}},{"start":{"line":147,"column":8},"end":{"line":147,"column":8}}]},"11":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":8},"end":{"line":167,"column":8}},{"start":{"line":167,"column":8},"end":{"line":167,"column":8}}]},"12":{"line":167,"type":"binary-expr","locations":[{"start":{"line":167,"column":12},"end":{"line":167,"column":24}},{"start":{"line":167,"column":28},"end":{"line":167,"column":49}}]},"13":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":8},"end":{"line":181,"column":8}},{"start":{"line":181,"column":8},"end":{"line":181,"column":8}}]},"14":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":4},"end":{"line":199,"column":4}},{"start":{"line":199,"column":4},"end":{"line":199,"column":4}}]}},"code":["module.exports = patch;","","var now = new Date();","","var debug = require('debug')('snyk');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var chalk = require('chalk');","var recursive = require('snyk-recursive-readdir');","var tempfile = require('tempfile');","var fs = require('then-fs');","var path = require('path');","var _ = require('../../dist/lodash-min');","var applyPatch = require('./apply-patch');","var stripVersions = require('./strip-versions');","var getVulnSource = require('./get-vuln-source');","var dedupe = require('./dedupe-patches');","var writePatchFlag = require('./write-patch-flag');","var spinner = require('../spinner');","var errors = require('../error');","var analytics = require('../analytics');","var getPatchFile = require('./fetch-patch');","var ensurePatchExists = require('./ensure-patch');","","// note: cwd is optional and mostly used for testing","function patch(vulns, live, cwd) {","  var lbl = 'Applying patches...';","","  // we also need to normalise the patches. specifically, using the __filename","  // as the identifier, we'll ensure the vuln.id is unique, so we don't have","  // multiple attempts to patch the same location (which leads to failed patch","  // due to \"Reversed (or previously applied)\").","","  var noPatchRequired = {};","  if (vulns.length) {","    vulns = vulns.reduce(function (acc, curr) {","      var key = curr.id + ':' + curr.__filename;","      if (!noPatchRequired[key]) {","        noPatchRequired[key] = [];","        acc.push(curr);","      } else {","        noPatchRequired[key].push(curr);","      }","      return acc;","    }, []);","  }","","  var errorList = [];","  return ensurePatchExists().then(spinner(lbl)).then(function () {","    // the target directory where our module name will live","    vulns.forEach(function (vuln) {","      vuln.source = getVulnSource(vuln, cwd, live);","    });","","    var deduped = dedupe(vulns);","    debug('patching %s', deduped.packages.length);","","    // find the patches, pull them down off the web, save them in a temp file","    // then apply each individual patch - but do it one at a time (via reduce)","    var promises = deduped.packages.reduce(function (acc, vuln) {","      return acc.then(function (res) {","        var patches = vuln.patches; // this is also deduped in `dedupe`","","        if (patches === null) {","          debug('no patch available for ' + vuln.id);","          analytics.add('no-patch', vuln.from.slice(1).join(' > '));","          return res;","        }","","        analytics.add('patch', vuln.from.slice(1).join(' > '));","","        // the colon doesn't like Windows, ref: https://git.io/vw2iO","        var fileSafeId = vuln.id.replace(/:/g, '-');","        var flag = path.resolve(vuln.source, '.snyk-' + fileSafeId + '.flag');","        var oldFlag = path.resolve(vuln.source, '.snyk-' + vuln.id + '.flag');","","        // get the patches on the local fs","        var promises = patches.urls.map(function (url) {","          var filename = tempfile('.' + fileSafeId + '.snyk-patch');","          return getPatchFile(url, filename, 1).then(function (patch) {","            // check whether there's a trace of us having patched before","            return fs.exists(flag).then(function (exists) {","              // if the file doesn't exist, look for the old style filename","              // in case and for backward compat","              return exists || fs.exists(oldFlag);","            }).then(function (exists) {","              if (!exists) {","                return patch;","              }","","              // else revert the patch","              return new Promise(function (resolve, reject) {","                recursive(vuln.source, function (error, files) {","                  if (error) {","                    return reject(error);","                  }","","                  resolve(Promise.all(files.filter(function (file) {","                    return file.slice(-5) === '.orig';","                  }).map(function (file) {","                    return fs.rename(file, path.dirname(file) + '/' +","                      path.basename(file).slice(0, -5));","                  })));","                });","              }).then(function () {","                return patch;","              });","            });","          }).then(function (patch) {","            if (patch === false) {","              debug('already patched %s', vuln.id);","              return vuln;","            }","","            debug('applying patch file for %s: \\n%s\\n%s', vuln.id, url, patch);","","            return applyPatch(patch, vuln, live).then(function () {","              return true;","            }, function (e) {","              errorList.push(e);","              return false;","            }).then(function (ok) {","              return ok ? vuln : false;","            });","          });","        });","","        return Promise.all(promises).then(function (result) {","          res.push(result);","          return res; // this is what makes the waterfall reduce chain work","        });","      });","    }, Promise.resolve(deduped.removed));","","    var promise = promises.then(function (res) {","      var patched = _.flatten(res).filter(Boolean);","","      if (!live) {","        debug('[skipping - dry run]');","        return patched;","      }","","      return Promise.all(patched.map(writePatchFlag.bind(null, now)));","    }).then(function (patched) {","      patched = patched.reduce(function (acc, curr) {","        var key = curr.id + ':' + curr.__filename;","","        if (noPatchRequired[key]) {","          noPatchRequired[key].forEach(function (vuln) {","            acc.push(vuln);","          });","        }","","        acc.push(curr);","","        return acc;","      }, []);","","      var config = {};","","      // this reduce function will look to see if the patch actually resolves","      // more than one vulnerability, and if it does, it'll replicate the","      // patch rule against the *other* vuln.ids. This will happen when the user","      // runs the wizard and selects to apply a patch that fixes more than one","      // vuln.","      var mapped = patched.map(patchRule).reduce(function (acc, curr, i) {","        var vuln = patched[i];","        if (vuln.grouped && vuln.grouped.includes) {","          vuln.grouped.includes.forEach(function (id) {","            var rule = _.cloneDeep(curr);","            rule.vulnId = id;","            acc.push(rule);","          });","        }","","        acc.push(curr);","","        return acc;","      }, []);","","      config.patch = mapped.reduce(function (acc, curr) {","        if (!acc[curr.vulnId]) {","          acc[curr.vulnId] = [];","        }","","        var id = curr.vulnId;","        delete curr.vulnId;","        acc[id].push(curr);","","        return acc;","      }, {});","","      debug('patched', config);","","      return config;","    });","","    return promise;","  }).then(spinner.clear(lbl)).then(function (res) {","    if (errorList.length) {","      errorList.forEach(function (error) {","        console.log(chalk.red(errors.message(error)));","      });","      throw new Error('Please email support@snyk.io if this problem persists.');","    }","","    return res;","  });","}","","function patchRule(vuln) {","  var rule = {","    vulnId: vuln.id,","  };","  rule[stripVersions(vuln.from.slice(1)).join(' > ')] = {","    patched: now.toJSON(),","  };","  return rule;","}",""],"l":{"1":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"25":1,"26":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"41":0,"43":0,"47":0,"48":0,"50":0,"51":0,"54":0,"55":0,"59":0,"60":0,"61":0,"63":0,"64":0,"65":0,"66":0,"69":0,"72":0,"73":0,"74":0,"77":0,"78":0,"79":0,"81":0,"84":0,"86":0,"87":0,"91":0,"92":0,"93":0,"94":0,"97":0,"98":0,"100":0,"105":0,"109":0,"110":0,"111":0,"114":0,"116":0,"117":0,"119":0,"120":0,"122":0,"127":0,"128":0,"129":0,"134":0,"135":0,"137":0,"138":0,"139":0,"142":0,"144":0,"145":0,"147":0,"148":0,"149":0,"153":0,"155":0,"158":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"175":0,"177":0,"180":0,"181":0,"182":0,"185":0,"186":0,"187":0,"189":0,"192":0,"194":0,"197":0,"199":0,"200":0,"201":0,"203":0,"206":0,"210":1,"211":0,"214":0,"217":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-recursive-readdir/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk-recursive-readdir/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"patternMatcher","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":9},"end":{"line":6,"column":31}}},"3":{"name":"toMatcherFunction","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}}},"4":{"name":"readdir","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":42}}},"5":{"name":"(anonymous_5)","line":29,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":40}}},"6":{"name":"(anonymous_6)","line":40,"loc":{"start":{"line":40,"column":18},"end":{"line":40,"column":33}}},"7":{"name":"(anonymous_7)","line":42,"loc":{"start":{"line":42,"column":24},"end":{"line":42,"column":46}}},"8":{"name":"(anonymous_8)","line":47,"loc":{"start":{"line":47,"column":25},"end":{"line":47,"column":43}}},"9":{"name":"(anonymous_9)","line":56,"loc":{"start":{"line":56,"column":37},"end":{"line":56,"column":58}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":9,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":73}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":77}},"8":{"start":{"line":12,"column":0},"end":{"line":18,"column":1}},"9":{"start":{"line":13,"column":2},"end":{"line":17,"column":3}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":22}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":38}},"12":{"start":{"line":20,"column":0},"end":{"line":78,"column":1}},"13":{"start":{"line":21,"column":2},"end":{"line":24,"column":3}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":22}},"15":{"start":{"line":23,"column":4},"end":{"line":23,"column":16}},"16":{"start":{"line":25,"column":2},"end":{"line":25,"column":42}},"17":{"start":{"line":27,"column":2},"end":{"line":27,"column":15}},"18":{"start":{"line":29,"column":2},"end":{"line":77,"column":4}},"19":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"20":{"start":{"line":31,"column":6},"end":{"line":31,"column":26}},"21":{"start":{"line":34,"column":4},"end":{"line":34,"column":30}},"22":{"start":{"line":35,"column":4},"end":{"line":38,"column":5}},"23":{"start":{"line":37,"column":6},"end":{"line":37,"column":33}},"24":{"start":{"line":40,"column":4},"end":{"line":76,"column":6}},"25":{"start":{"line":41,"column":6},"end":{"line":41,"column":39}},"26":{"start":{"line":42,"column":6},"end":{"line":75,"column":8}},"27":{"start":{"line":43,"column":8},"end":{"line":45,"column":9}},"28":{"start":{"line":44,"column":10},"end":{"line":44,"column":31}},"29":{"start":{"line":47,"column":8},"end":{"line":53,"column":9}},"30":{"start":{"line":47,"column":45},"end":{"line":47,"column":77}},"31":{"start":{"line":48,"column":10},"end":{"line":48,"column":22}},"32":{"start":{"line":49,"column":10},"end":{"line":51,"column":11}},"33":{"start":{"line":50,"column":12},"end":{"line":50,"column":39}},"34":{"start":{"line":52,"column":10},"end":{"line":52,"column":21}},"35":{"start":{"line":55,"column":8},"end":{"line":73,"column":9}},"36":{"start":{"line":56,"column":10},"end":{"line":66,"column":12}},"37":{"start":{"line":57,"column":12},"end":{"line":59,"column":13}},"38":{"start":{"line":58,"column":14},"end":{"line":58,"column":36}},"39":{"start":{"line":61,"column":12},"end":{"line":61,"column":35}},"40":{"start":{"line":62,"column":12},"end":{"line":62,"column":24}},"41":{"start":{"line":63,"column":12},"end":{"line":65,"column":13}},"42":{"start":{"line":64,"column":14},"end":{"line":64,"column":41}},"43":{"start":{"line":68,"column":10},"end":{"line":68,"column":29}},"44":{"start":{"line":69,"column":10},"end":{"line":69,"column":22}},"45":{"start":{"line":70,"column":10},"end":{"line":72,"column":11}},"46":{"start":{"line":71,"column":12},"end":{"line":71,"column":39}},"47":{"start":{"line":80,"column":0},"end":{"line":80,"column":24}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":12},"end":{"line":8,"column":31}},{"start":{"line":8,"column":35},"end":{"line":8,"column":49}},{"start":{"line":8,"column":54},"end":{"line":8,"column":77}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":21,"column":2}},{"start":{"line":21,"column":2},"end":{"line":21,"column":2}}]},"4":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"5":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"6":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":8}},{"start":{"line":43,"column":8},"end":{"line":43,"column":8}}]},"7":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"8":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":10},"end":{"line":49,"column":10}},{"start":{"line":49,"column":10},"end":{"line":49,"column":10}}]},"9":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":55,"column":8}},{"start":{"line":55,"column":8},"end":{"line":55,"column":8}}]},"10":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":12}},{"start":{"line":57,"column":12},"end":{"line":57,"column":12}}]},"11":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":12},"end":{"line":63,"column":12}},{"start":{"line":63,"column":12},"end":{"line":63,"column":12}}]},"12":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":10},"end":{"line":70,"column":10}},{"start":{"line":70,"column":10},"end":{"line":70,"column":10}}]}},"code":["var fs = require('fs')","var p = require('path')","var minimatch = require('minimatch')","","function patternMatcher(pattern) {","  return function(path, stats) {","    var minimatcher = new minimatch.Minimatch(pattern, {matchBase: true})","    return (!minimatcher.negate || stats.isFile()) && minimatcher.match(path)","  }","}","","function toMatcherFunction(ignoreEntry) {","  if (typeof ignoreEntry == 'function') {","    return ignoreEntry","  } else {","    return patternMatcher(ignoreEntry)","  }","}","","function readdir(path, ignores, callback) {","  if (typeof ignores == 'function') {","    callback = ignores","    ignores = []","  }","  ignores = ignores.map(toMatcherFunction)","","  var list = []","","  fs.readdir(path, function(err, files) {","    if (err) {","      return callback(err)","    }","","    var pending = files.length","    if (!pending) {","      // we are done, woop woop","      return callback(null, list)","    }","","    files.forEach(function(file) {","      var filePath = p.join(path, file)","      fs.stat(filePath, function(_err, stats) {","        if (_err) {","          return callback(_err)","        }","","        if (ignores.some(function(matcher) { return matcher(filePath, stats) })) {","          pending -= 1","          if (!pending) {","            return callback(null, list)","          }","          return null","        }","","        if (stats.isDirectory()) {","          readdir(filePath, ignores, function(__err, res) {","            if (__err) {","              return callback(__err)","            }","","            list = list.concat(res)","            pending -= 1","            if (!pending) {","              return callback(null, list)","            }","          })","        } else {","          list.push(filePath)","          pending -= 1","          if (!pending) {","            return callback(null, list)","          }","        }","","      })","    })","  })","}","","module.exports = readdir",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"12":1,"13":0,"14":0,"16":0,"20":1,"21":0,"22":0,"23":0,"25":0,"27":0,"29":0,"30":0,"31":0,"34":0,"35":0,"37":0,"40":0,"41":0,"42":0,"43":0,"44":0,"47":0,"48":0,"49":0,"50":0,"52":0,"55":0,"56":0,"57":0,"58":0,"61":0,"62":0,"63":0,"64":0,"68":0,"69":0,"70":0,"71":0,"80":1}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/apply-patch.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/apply-patch.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"applyPatch","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":39}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":21},"end":{"line":11,"column":48}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":7},"end":{"line":29,"column":32}}},"4":{"name":"(anonymous_4)","line":44,"loc":{"start":{"line":44,"column":9},"end":{"line":44,"column":34}}},"5":{"name":"patchError","line":59,"loc":{"start":{"line":59,"column":0},"end":{"line":59,"column":46}}},"6":{"name":"(anonymous_6)","line":65,"loc":{"start":{"line":65,"column":21},"end":{"line":65,"column":48}}},"7":{"name":"(anonymous_7)","line":71,"loc":{"start":{"line":71,"column":7},"end":{"line":71,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":52}},"7":{"start":{"line":9,"column":0},"end":{"line":57,"column":1}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":24}},"9":{"start":{"line":11,"column":2},"end":{"line":56,"column":5}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":56}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":28}},"12":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"13":{"start":{"line":17,"column":6},"end":{"line":17,"column":26}},"14":{"start":{"line":20,"column":4},"end":{"line":20,"column":53}},"15":{"start":{"line":21,"column":4},"end":{"line":21,"column":42}},"16":{"start":{"line":26,"column":4},"end":{"line":55,"column":7}},"17":{"start":{"line":30,"column":6},"end":{"line":30,"column":30}},"18":{"start":{"line":31,"column":6},"end":{"line":34,"column":7}},"19":{"start":{"line":32,"column":8},"end":{"line":32,"column":60}},"20":{"start":{"line":33,"column":8},"end":{"line":33,"column":68}},"21":{"start":{"line":36,"column":6},"end":{"line":38,"column":7}},"22":{"start":{"line":37,"column":8},"end":{"line":37,"column":25}},"23":{"start":{"line":41,"column":6},"end":{"line":54,"column":9}},"24":{"start":{"line":45,"column":8},"end":{"line":45,"column":32}},"25":{"start":{"line":46,"column":8},"end":{"line":49,"column":9}},"26":{"start":{"line":47,"column":10},"end":{"line":47,"column":62}},"27":{"start":{"line":48,"column":10},"end":{"line":48,"column":70}},"28":{"start":{"line":51,"column":8},"end":{"line":51,"column":36}},"29":{"start":{"line":53,"column":8},"end":{"line":53,"column":18}},"30":{"start":{"line":59,"column":0},"end":{"line":102,"column":1}},"31":{"start":{"line":60,"column":2},"end":{"line":63,"column":3}},"32":{"start":{"line":61,"column":4},"end":{"line":61,"column":70}},"33":{"start":{"line":62,"column":4},"end":{"line":62,"column":33}},"34":{"start":{"line":65,"column":2},"end":{"line":101,"column":5}},"35":{"start":{"line":66,"column":4},"end":{"line":66,"column":21}},"36":{"start":{"line":69,"column":4},"end":{"line":100,"column":7}},"37":{"start":{"line":72,"column":6},"end":{"line":72,"column":39}},"38":{"start":{"line":73,"column":6},"end":{"line":73,"column":37}},"39":{"start":{"line":74,"column":6},"end":{"line":74,"column":39}},"40":{"start":{"line":77,"column":6},"end":{"line":90,"column":9}},"41":{"start":{"line":95,"column":6},"end":{"line":95,"column":55}},"42":{"start":{"line":96,"column":6},"end":{"line":96,"column":59}},"43":{"start":{"line":97,"column":6},"end":{"line":97,"column":32}},"44":{"start":{"line":99,"column":6},"end":{"line":99,"column":20}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"2":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":6}},{"start":{"line":31,"column":6},"end":{"line":31,"column":6}}]},"3":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":10},"end":{"line":31,"column":15}},{"start":{"line":31,"column":19},"end":{"line":31,"column":47}}]},"4":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":6},"end":{"line":36,"column":6}},{"start":{"line":36,"column":6},"end":{"line":36,"column":6}}]},"5":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"6":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":12},"end":{"line":46,"column":17}},{"start":{"line":46,"column":21},"end":{"line":46,"column":49}}]},"7":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":2},"end":{"line":60,"column":2}},{"start":{"line":60,"column":2},"end":{"line":60,"column":2}}]},"8":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":6},"end":{"line":60,"column":11}},{"start":{"line":60,"column":15},"end":{"line":60,"column":38}}]}},"code":["module.exports = applyPatch;","","var debug = require('debug')('snyk');","var Promise = require('es6-promise').Promise; // jshint ignore:line","var exec = require('child_process').exec;","var path = require('path');","var errorAnalytics = require('../analytics').single;","","function applyPatch(patch, vuln, live) {","  var cwd = vuln.source;","  return new Promise(function (resolve, reject) {","","    var cmd = 'patch -p1 --backup --verbose < ' + patch;","    var test = ' --dry-run';","","    if (!cwd) {","      cwd = process.cwd();","    }","","    var relative = path.relative(process.cwd(), cwd);","    debug('%s$ %s', relative, cmd + test);","","    // do a dry run first, otherwise the patch can \"succeed\" (exit 0) if it","    // only manages to patch *some* of the chunks (and leave the file partly","    // patched).","    exec(cmd + test, {","      cwd: cwd,","      env: process.env,","    }, function (error, stdout) { // stderr is ignored","      var out = stdout.trim();","      if (error || out.indexOf('FAILED') !== -1) {","        debug('patch command failed', relative, error, out);","        return patchError(error, out, relative, vuln).catch(reject);","      }","","      if (!live) {","        return resolve();","      }","","      // if it was okay, and it wasn't a dry-run, then let's do it for real","      exec(cmd, {","        cwd: cwd,","        env: process.env,","      }, function (error, stdout) {","        var out = stdout.trim();","        if (error || out.indexOf('FAILED') !== -1) {","          debug('patch command failed', relative, error, out);","          return patchError(error, out, relative, vuln).catch(reject);","        }","","        debug('patch succeed', out);","","        resolve();","      });","    });","  });","}","","function patchError(error, stdout, dir, vuln) {","  if (error && error.code === 'ENOENT') {","    error.message = 'Failed to patch: the target could not be found.';","    return Promise.reject(error);","  }","","  return new Promise(function (resolve, reject) {","    var id = vuln.id;","","    // sneaky trick to do two sys calls in one.","    exec('npm -v && patch -v', {","      env: process.env,","    }, function (patchVError, versions) { // stderr is ignored","      var parts = versions.split('\\n');","      var npmVersion = parts.shift();","      var patchVersion = parts.shift();","","      // post the raw error to help diagnose","      errorAnalytics({","        command: 'patch-fail',","        metadata: {","          from: vuln.from.slice(1),","          vulnId: id,","          packageName: vuln.name,","          packageVersion: vuln.version,","          package: vuln.name + '@' + vuln.version,","          error: error,","          stdout: stdout,","          'patch-version': patchVersion,","          'npm-version': npmVersion,","        },","      });","","      // this is a general \"patch failed\", since we already check if the","      // patch was applied via a flag, this means something else went","      // wrong, so we'll ask the user for help to diganose.","      var filename = path.relative(process.cwd(), dir);","      error = new Error('\"' + filename + '\" (' + id + ')');","      error.code = 'FAIL_PATCH';","","      reject(error);","    });","  });","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"9":1,"10":0,"11":0,"13":0,"14":0,"16":0,"17":0,"20":0,"21":0,"26":0,"30":0,"31":0,"32":0,"33":0,"36":0,"37":0,"41":0,"45":0,"46":0,"47":0,"48":0,"51":0,"53":0,"59":1,"60":0,"61":0,"62":0,"65":0,"66":0,"69":0,"72":0,"73":0,"74":0,"77":0,"95":0,"96":0,"97":0,"99":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/get-vuln-source.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/get-vuln-source.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"getVulnSource","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":36},"end":{"line":10,"column":51}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":38}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":38}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":44}},"7":{"start":{"line":9,"column":0},"end":{"line":47,"column":1}},"8":{"start":{"line":10,"column":2},"end":{"line":12,"column":5}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":36}},"10":{"start":{"line":14,"column":2},"end":{"line":18,"column":4}},"11":{"start":{"line":20,"column":2},"end":{"line":22,"column":14}},"12":{"start":{"line":25,"column":2},"end":{"line":44,"column":3}},"13":{"start":{"line":26,"column":4},"end":{"line":26,"column":21}},"14":{"start":{"line":32,"column":4},"end":{"line":42,"column":5}},"15":{"start":{"line":33,"column":6},"end":{"line":33,"column":59}},"16":{"start":{"line":35,"column":6},"end":{"line":37,"column":7}},"17":{"start":{"line":36,"column":8},"end":{"line":36,"column":16}},"18":{"start":{"line":43,"column":4},"end":{"line":43,"column":57}},"19":{"start":{"line":46,"column":2},"end":{"line":46,"column":16}}},"branchMap":{"1":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":7}},{"start":{"line":15,"column":11},"end":{"line":15,"column":24}}]},"2":{"line":20,"type":"cond-expr","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":35}},{"start":{"line":22,"column":6},"end":{"line":22,"column":13}}]},"3":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":6},"end":{"line":35,"column":6}},{"start":{"line":35,"column":6},"end":{"line":35,"column":6}}]}},"code":["module.exports = getVulnSource;","","var debug = require('debug')('snyk');","var resolve = require('snyk-resolve');","var path = require('path');","var statSync = require('fs').statSync;","var moduleToObject = require('snyk-module');","","function getVulnSource(vuln, cwd, live) {","  var from = vuln.from.slice(1).map(function (pkg) {","    return moduleToObject(pkg).name;","  });","","  var viaPath = path.resolve(","    cwd || process.cwd(),","    'node_modules',","    from.join('/node_modules/')","  );","","  var source = vuln.__filename ?","      path.dirname(vuln.__filename) :","      viaPath;","","  // try to stat the directory, if it throws, it doesn't exist...","  try {","    statSync(source);","  } catch (e) {","    // ...which means the package is located in a parent path (from an","    // npm dedupe process), so we remove the module name from the path","    // and use the `resolve` package to navigate the node_modules up","    // through parent directories.","    try {","      source = resolve.sync(from.slice(-1).pop(), viaPath);","    } catch (e) {","      if (live) {","        throw e;","      }","","      // otherwise this is a dry run so we don't mind that it won't be","      // able to patch - likely a scenario run, so it's fine that the","      // patch target won't be found","    }","    debug('found better source for package: %s', source);","  }","","  return source;","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"7":1,"9":1,"10":0,"11":0,"14":0,"20":0,"25":0,"26":0,"32":0,"33":0,"35":0,"36":0,"43":0,"46":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/dedupe-patches.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/dedupe-patches.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"dedupe","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":28},"end":{"line":9,"column":49}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":40},"end":{"line":35,"column":55}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":57}},"4":{"start":{"line":6,"column":0},"end":{"line":43,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":19}},"6":{"start":{"line":9,"column":2},"end":{"line":32,"column":9}},"7":{"start":{"line":10,"column":4},"end":{"line":13,"column":5}},"8":{"start":{"line":12,"column":6},"end":{"line":12,"column":45}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":61}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":25}},"11":{"start":{"line":18,"column":4},"end":{"line":29,"column":5}},"12":{"start":{"line":19,"column":6},"end":{"line":19,"column":56}},"13":{"start":{"line":20,"column":6},"end":{"line":26,"column":7}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":40}},"15":{"start":{"line":22,"column":8},"end":{"line":22,"column":28}},"16":{"start":{"line":23,"column":8},"end":{"line":23,"column":24}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":27}},"18":{"start":{"line":28,"column":6},"end":{"line":28,"column":22}},"19":{"start":{"line":31,"column":4},"end":{"line":31,"column":15}},"20":{"start":{"line":35,"column":2},"end":{"line":37,"column":5}},"21":{"start":{"line":36,"column":4},"end":{"line":36,"column":22}},"22":{"start":{"line":39,"column":2},"end":{"line":42,"column":4}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"3":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":6},"end":{"line":20,"column":6}},{"start":{"line":20,"column":6},"end":{"line":20,"column":6}}]}},"code":["module.exports = dedupe;","","var debug = require('debug')('snyk:patch');","var patchesForPackage = require('./patches-for-package');","","function dedupe(source) {","  var removed = [];","","  var names = source.reduce(function (acc, vuln) {","    if (Array.isArray(vuln.patches)) {","      // strip down to the only paches that can be applied","      vuln.patches = patchesForPackage(vuln);","    }","","    var key = vuln.name + vuln.version + vuln.from.join('>');","","    var other = acc[key];","    if (other) {","      debug('dupe found on %s & %s', vuln.id, other.id);","      if (vuln.publicationTime > other.publicationTime) {","        debug('stripping %s', other.id);","        removed.push(other);","        acc[key] = vuln;","      } else {","        removed.push(vuln);","      }","    } else {","      acc[key] = vuln;","    }","","    return acc;","  }, {});","","  // turn back into an array","  var packages = Object.keys(names).map(function (key) {","    return names[key];","  });","","  return {","    packages: packages,","    removed: removed,","  };","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"9":0,"10":0,"12":0,"15":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"25":0,"28":0,"31":0,"35":0,"36":0,"39":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/patches-for-package.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/patches-for-package.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"patchesForPackage","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":29},"end":{"line":6,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":11,"column":16}},"5":{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},"6":{"start":{"line":8,"column":6},"end":{"line":8,"column":55}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":17}}},"branchMap":{"1":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":9},"end":{"line":11,"column":7}},{"start":{"line":11,"column":11},"end":{"line":11,"column":15}}]},"2":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]},"3":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":41},"end":{"line":8,"column":46}},{"start":{"line":8,"column":49},"end":{"line":8,"column":54}}]},"4":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":14},"end":{"line":8,"column":24}},{"start":{"line":8,"column":28},"end":{"line":8,"column":30}}]}},"code":["module.exports = patchesForPackage;","","var semver = require('semver');","","function patchesForPackage(vuln) {","  return vuln.patches.filter(function (patch) {","    if (semver.satisfies(vuln.version, patch.version)) {","      return (patch.urls || []).length ? patch : false;","    }","    return false;","  })[0] || null;","}",""],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"10":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/write-patch-flag.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/write-patch-flag.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"writePatchFlag","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}}},"2":{"name":"(anonymous_2)","line":23,"loc":{"start":{"line":23,"column":34},"end":{"line":23,"column":48}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":22},"end":{"line":34,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"6":{"start":{"line":8,"column":0},"end":{"line":37,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":12,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":15}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":21}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":40}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":14}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":46}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":72}},"14":{"start":{"line":19,"column":2},"end":{"line":32,"column":3}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":58}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":67}},"17":{"start":{"line":22,"column":4},"end":{"line":22,"column":16}},"18":{"start":{"line":23,"column":4},"end":{"line":28,"column":7}},"19":{"start":{"line":24,"column":6},"end":{"line":24,"column":50}},"20":{"start":{"line":25,"column":6},"end":{"line":25,"column":76}},"21":{"start":{"line":26,"column":6},"end":{"line":26,"column":18}},"22":{"start":{"line":27,"column":6},"end":{"line":27,"column":67}},"23":{"start":{"line":29,"column":4},"end":{"line":29,"column":41}},"24":{"start":{"line":31,"column":4},"end":{"line":31,"column":55}},"25":{"start":{"line":34,"column":2},"end":{"line":36,"column":5}},"26":{"start":{"line":35,"column":4},"end":{"line":35,"column":16}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"3":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":18}},{"start":{"line":19,"column":22},"end":{"line":19,"column":43}}]}},"code":["module.exports = writePatchFlag;","","var debug = require('debug')('snyk');","var fs = require('then-fs');","var path = require('path');","var Promise = require ('es6-promise').Promise; // jshint ignore:line","","function writePatchFlag(now, vuln) {","  if (!vuln) {","    vuln = now;","    now = new Date();","  }","","  debug('writing flag for %s', vuln.id);","  var promise;","  // the colon doesn't like Windows, ref: https://git.io/vw2iO","  var fileSafeId = vuln.id.replace(/:/g, '-');","  var flag = path.resolve(vuln.source, '.snyk-' + fileSafeId + '.flag');","  if (vuln.grouped && vuln.grouped.includes) {","    debug('found addition vulns to write flag files for');","    var writePromises = [fs.writeFile(flag, now.toJSON(), 'utf8')];","    debug(flag);","    vuln.grouped.includes.forEach(function (id) {","      var fileSafeId = vuln.id.replace(/:/g, '-');","      var flag = path.resolve(vuln.source, '.snyk-' + fileSafeId + '.flag');","      debug(flag);","      writePromises.push(fs.writeFile(flag, now.toJSON(), 'utf8'));","    });","    promise = Promise.all(writePromises);","  } else {","    promise = fs.writeFile(flag, now.toJSON(), 'utf8');","  }","","  return promise.then(function () {","    return vuln;","  });","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"11":0,"14":0,"15":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"31":0,"34":0,"35":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/fetch-patch.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/fetch-patch.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"getPatchFile","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":47}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":21},"end":{"line":9,"column":48}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":22},"end":{"line":11,"column":42}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":17},"end":{"line":24,"column":29}}},"5":{"name":"(anonymous_5)","line":27,"loc":{"start":{"line":27,"column":19},"end":{"line":27,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}},"6":{"start":{"line":8,"column":0},"end":{"line":39,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":38,"column":5}},"8":{"start":{"line":10,"column":4},"end":{"line":37,"column":44}},"9":{"start":{"line":12,"column":8},"end":{"line":22,"column":9}},"10":{"start":{"line":13,"column":10},"end":{"line":20,"column":11}},"11":{"start":{"line":14,"column":12},"end":{"line":14,"column":62}},"12":{"start":{"line":15,"column":12},"end":{"line":18,"column":15}},"13":{"start":{"line":19,"column":12},"end":{"line":19,"column":31}},"14":{"start":{"line":21,"column":10},"end":{"line":21,"column":68}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":26}},"16":{"start":{"line":28,"column":8},"end":{"line":34,"column":9}},"17":{"start":{"line":29,"column":10},"end":{"line":32,"column":13}},"18":{"start":{"line":33,"column":10},"end":{"line":33,"column":29}},"19":{"start":{"line":35,"column":8},"end":{"line":35,"column":59}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":8}},{"start":{"line":12,"column":8},"end":{"line":12,"column":8}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":10},"end":{"line":13,"column":10}},{"start":{"line":13,"column":10},"end":{"line":13,"column":10}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]}},"code":["module.exports = getPatchFile;","","var Promise = require('es6-promise').Promise; // jshint ignore:line","var request = require('request');","var fs = require('then-fs');","var analytics = require('../analytics');","","function getPatchFile(url, filename, attempts) {","  return new Promise(function (resolve, reject) {","    request(url)","      .on('response', function (response) {","        if (response.statusCode >= 400) {","          if (!attempts) {","            var err = new Error('Failed to fetch patch file');","            analytics.add('patch-fetch-fail', {","              message: err.message,","              code: response.statusCode,","            });","            return reject(err);","          }","          return resolve(getPatchFile(url, filename, attempts - 1));","        }","      })","      .on('end', function () {","        resolve(filename);","      })","      .on('error', function (err) {","        if (!attempts) {","          analytics.add('patch-fetch-fail', {","            message: err.message,","            code: err.code,","          });","          return reject(err);","        }","        resolve(getPatchFile(url, filename, attempts - 1));","      })","      .pipe(fs.createWriteStream(filename));","  });","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"8":1,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"19":0,"21":0,"25":0,"28":0,"29":0,"33":0,"35":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/ensure-patch.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/protect/ensure-patch.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"ensurePatchExists","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":21},"end":{"line":8,"column":48}}},"3":{"name":"(anonymous_3)","line":9,"loc":{"start":{"line":9,"column":27},"end":{"line":9,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"5":{"start":{"line":7,"column":0},"end":{"line":23,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":22,"column":5}},"7":{"start":{"line":9,"column":4},"end":{"line":21,"column":7}},"8":{"start":{"line":10,"column":6},"end":{"line":19,"column":7}},"9":{"start":{"line":11,"column":8},"end":{"line":14,"column":46}},"10":{"start":{"line":15,"column":8},"end":{"line":17,"column":11}},"11":{"start":{"line":18,"column":8},"end":{"line":18,"column":27}},"12":{"start":{"line":20,"column":6},"end":{"line":20,"column":23}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":6}},{"start":{"line":10,"column":6},"end":{"line":10,"column":6}}]}},"code":["module.exports = ensurePatchExists;","","var Promise = require('es6-promise').Promise; // jshint ignore:line","var hasbin = require('hasbin');","var analytics = require('../analytics');","","function ensurePatchExists() {","  return new Promise(function (resolve, reject) {","    return hasbin('patch', function (exists) {","      if (!exists) {","        var err = new Error('Snyk couldn\\'t patch the specified ' +","                            'vulnerabilities because GNU\\'s patch is not ' +","                            'available. Please install \\'patch\\' ' +","                            'and try again.');","        analytics.add('patch-binary-missing', {","          message: err.message,","        });","        return reject(err);","      }","      return resolve();","    });","  });","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"15":0,"18":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/protect/tasks.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/protect/tasks.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"answersToTasks","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":46}}},"3":{"name":"(anonymous_3)","line":42,"loc":{"start":{"line":42,"column":25},"end":{"line":42,"column":44}}},"4":{"name":"(anonymous_4)","line":56,"loc":{"start":{"line":56,"column":41},"end":{"line":56,"column":57}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":44}},"4":{"start":{"line":6,"column":0},"end":{"line":71,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":12,"column":4}},"6":{"start":{"line":14,"column":2},"end":{"line":68,"column":5}},"7":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"8":{"start":{"line":17,"column":6},"end":{"line":17,"column":13}},"9":{"start":{"line":21,"column":4},"end":{"line":23,"column":5}},"10":{"start":{"line":22,"column":6},"end":{"line":22,"column":13}},"11":{"start":{"line":25,"column":4},"end":{"line":25,"column":30}},"12":{"start":{"line":26,"column":4},"end":{"line":26,"column":29}},"13":{"start":{"line":27,"column":4},"end":{"line":30,"column":5}},"14":{"start":{"line":29,"column":6},"end":{"line":29,"column":13}},"15":{"start":{"line":32,"column":4},"end":{"line":32,"column":27}},"16":{"start":{"line":34,"column":4},"end":{"line":50,"column":5}},"17":{"start":{"line":36,"column":6},"end":{"line":38,"column":22}},"18":{"start":{"line":40,"column":6},"end":{"line":40,"column":54}},"19":{"start":{"line":42,"column":6},"end":{"line":49,"column":9}},"20":{"start":{"line":43,"column":8},"end":{"line":43,"column":37}},"21":{"start":{"line":44,"column":8},"end":{"line":44,"column":33}},"22":{"start":{"line":45,"column":8},"end":{"line":45,"column":43}},"23":{"start":{"line":46,"column":8},"end":{"line":46,"column":39}},"24":{"start":{"line":47,"column":8},"end":{"line":47,"column":39}},"25":{"start":{"line":48,"column":8},"end":{"line":48,"column":31}},"26":{"start":{"line":52,"column":4},"end":{"line":67,"column":5}},"27":{"start":{"line":53,"column":6},"end":{"line":53,"column":52}},"28":{"start":{"line":54,"column":6},"end":{"line":64,"column":7}},"29":{"start":{"line":56,"column":8},"end":{"line":61,"column":11}},"30":{"start":{"line":57,"column":10},"end":{"line":60,"column":13}},"31":{"start":{"line":63,"column":8},"end":{"line":63,"column":33}},"32":{"start":{"line":66,"column":6},"end":{"line":66,"column":29}},"33":{"start":{"line":70,"column":2},"end":{"line":70,"column":15}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"4":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":25}},{"start":{"line":27,"column":29},"end":{"line":27,"column":44}}]},"5":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":4}},{"start":{"line":34,"column":4},"end":{"line":34,"column":4}}]},"6":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":8},"end":{"line":34,"column":24}},{"start":{"line":34,"column":28},"end":{"line":34,"column":40}},{"start":{"line":34,"column":44},"end":{"line":34,"column":65}}]},"7":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"8":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":6}},{"start":{"line":54,"column":6},"end":{"line":54,"column":6}}]}},"code":["module.exports = answersToTasks;","","var debug = require('debug')('snyk');","var _ = require('../../../dist/lodash-min');","","function answersToTasks(answers) {","  var tasks = {","    ignore: [],","    update: [],","    patch: [],","    skip: [],","  };","","  Object.keys(answers).forEach(function (key) {","    // if we're looking at a reason, skip it","    if (key.indexOf('-reason') !== -1) {","      return;","    }","","    // ignore misc questions, like \"add snyk test to package?\"","    if (key.indexOf('misc-') === 0) {","      return;","    }","","    var answer = answers[key];","    var task = answer.choice;","    if (task === 'review' || task === 'skip') {","      // task = 'skip';","      return;","    }","","    var vuln = answer.vuln;","","    if (task === 'patch' && vuln.grouped && vuln.grouped.upgrades) {","      // ignore the first as it's the same one as this particular answer","      debug('additional answers required: %s',","        vuln.grouped.count - 1,","        vuln.grouped);","","      var additional = vuln.grouped.upgrades.slice(1);","","      additional.forEach(function (upgrade) {","        var copy = _.cloneDeep(vuln);","        copy.from = upgrade.from;","        copy.__filename = upgrade.filename;","        copy.patches = upgrade.patches;","        copy.version = upgrade.version;","        tasks[task].push(copy);","      });","    }","","    if (task === 'ignore') {","      answer.meta.reason = answers[key + '-reason'];","      if (answer.meta.vulnsInGroup) {","        // also ignore any in the group","        answer.meta.vulnsInGroup.forEach(function (vuln) {","          tasks[task].push({","            meta: answer.meta,","            vuln: vuln,","          });","        });","      } else {","        tasks[task].push(answer);","      }","    } else {","      tasks[task].push(vuln);","    }","  });","","  return tasks;","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"14":0,"16":0,"17":0,"21":0,"22":0,"25":0,"26":0,"27":0,"29":0,"32":0,"34":0,"36":0,"40":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"52":0,"53":0,"54":0,"56":0,"57":0,"63":0,"66":0,"70":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/unpublished/prune.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/unpublished/prune.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"prune","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":25},"end":{"line":12,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":23,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":32}},"4":{"start":{"line":5,"column":2},"end":{"line":7,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":26}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":49}},"7":{"start":{"line":11,"column":2},"end":{"line":20,"column":3}},"8":{"start":{"line":12,"column":4},"end":{"line":18,"column":14}},"9":{"start":{"line":13,"column":6},"end":{"line":16,"column":7}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":38}},"11":{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},"12":{"start":{"line":17,"column":6},"end":{"line":17,"column":18}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":26}},"14":{"start":{"line":22,"column":2},"end":{"line":22,"column":16}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]},"2":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":25},"end":{"line":9,"column":41}},{"start":{"line":9,"column":45},"end":{"line":9,"column":47}}]},"3":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"4":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":6},"end":{"line":13,"column":6}},{"start":{"line":13,"column":6},"end":{"line":13,"column":6}}]}},"code":["module.exports = prune;","","function prune(pkg, shouldPrune) {","  var remove = shouldPrune(pkg);","  if (!remove) {","    pkg.dependencies = {};","  }","","  var deps = Object.keys(pkg.dependencies || {});","","  if (deps.length) {","    remove = deps.filter(function (name) {","      if (prune(pkg.dependencies[name], shouldPrune)) {","        delete pkg.dependencies[name];","        return false;","      }","      return true;","    }).length;","    remove = remove === 0;","  }","","  return remove;","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"9":0,"11":0,"12":0,"13":0,"14":0,"15":0,"17":0,"19":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/unpublished/walk.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/cli/commands/unpublished/walk.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"walk","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":21},"end":{"line":5,"column":40}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":41},"end":{"line":15,"column":57}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":25},"end":{"line":16,"column":44}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":14},"end":{"line":18,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":27,"column":1}},"4":{"start":{"line":5,"column":2},"end":{"line":26,"column":5}},"5":{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},"6":{"start":{"line":8,"column":6},"end":{"line":8,"column":25}},"7":{"start":{"line":11,"column":4},"end":{"line":13,"column":5}},"8":{"start":{"line":12,"column":6},"end":{"line":12,"column":31}},"9":{"start":{"line":15,"column":4},"end":{"line":23,"column":7}},"10":{"start":{"line":16,"column":6},"end":{"line":22,"column":9}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":55}},"12":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"13":{"start":{"line":20,"column":10},"end":{"line":20,"column":55}},"14":{"start":{"line":25,"column":4},"end":{"line":25,"column":35}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"2":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"4":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":16}},{"start":{"line":19,"column":20},"end":{"line":19,"column":30}},{"start":{"line":19,"column":34},"end":{"line":19,"column":48}}]}},"code":["module.exports = walk;","var Promise = require('es6-promise').Promise; // jshint ignore:line","","function walk(deps, filter) {","  return new Promise(function (resolve) {","    if (!deps) {","","      return resolve([]);","    }","","    if (deps.dependencies) {","      deps = deps.dependencies;","    }","","    var promises = Object.keys(deps).map(function (name) {","      return new Promise(function (resolve) {","        return resolve(filter(deps[name], name, deps));","      }).then(function (res) {","        if (!res && deps[name] && deps[name].dep) {","          return walk(deps[name].dependencies, filter);","        }","      });","    });","","    resolve(Promise.all(promises));","  });","}",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"8":0,"11":0,"12":0,"15":0,"16":0,"17":0,"19":0,"20":0,"25":0}},"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/module-info/maven/mvn-tree-parse.js":{"path":"/home/travis/build/npmtest/node-npmtest-snyk/node_modules/snyk/lib/module-info/maven/mvn-tree-parse.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"parseTree","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}}},"2":{"name":"getRootProject","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":30}}},"3":{"name":"getProject","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":41}}},"4":{"name":"assemblePackage","line":42,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":54}}},"5":{"name":"createPackage","line":54,"loc":{"start":{"line":54,"column":0},"end":{"line":54,"column":39}}},"6":{"name":"dequote","line":81,"loc":{"start":{"line":81,"column":0},"end":{"line":81,"column":22}}},"7":{"name":"getConstraint","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}},"6":{"start":{"line":10,"column":0},"end":{"line":13,"column":1}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":36}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":30}},"9":{"start":{"line":15,"column":0},"end":{"line":25,"column":1}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":37}},"11":{"start":{"line":17,"column":2},"end":{"line":17,"column":37}},"12":{"start":{"line":19,"column":2},"end":{"line":22,"column":3}},"13":{"start":{"line":20,"column":4},"end":{"line":20,"column":48}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":46}},"15":{"start":{"line":23,"column":2},"end":{"line":23,"column":51}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":14}},"17":{"start":{"line":27,"column":0},"end":{"line":40,"column":1}},"18":{"start":{"line":28,"column":2},"end":{"line":28,"column":41}},"19":{"start":{"line":29,"column":2},"end":{"line":29,"column":35}},"20":{"start":{"line":30,"column":2},"end":{"line":30,"column":16}},"21":{"start":{"line":31,"column":2},"end":{"line":38,"column":3}},"22":{"start":{"line":32,"column":4},"end":{"line":32,"column":24}},"23":{"start":{"line":33,"column":4},"end":{"line":33,"column":40}},"24":{"start":{"line":34,"column":4},"end":{"line":34,"column":35}},"25":{"start":{"line":35,"column":4},"end":{"line":35,"column":35}},"26":{"start":{"line":36,"column":4},"end":{"line":36,"column":38}},"27":{"start":{"line":37,"column":4},"end":{"line":37,"column":30}},"28":{"start":{"line":39,"column":2},"end":{"line":39,"column":49}},"29":{"start":{"line":42,"column":0},"end":{"line":52,"column":1}},"30":{"start":{"line":43,"column":2},"end":{"line":43,"column":52}},"31":{"start":{"line":44,"column":2},"end":{"line":44,"column":39}},"32":{"start":{"line":45,"column":2},"end":{"line":50,"column":3}},"33":{"start":{"line":46,"column":4},"end":{"line":49,"column":5}},"34":{"start":{"line":47,"column":6},"end":{"line":47,"column":75}},"35":{"start":{"line":48,"column":6},"end":{"line":48,"column":49}},"36":{"start":{"line":51,"column":2},"end":{"line":51,"column":23}},"37":{"start":{"line":54,"column":0},"end":{"line":79,"column":1}},"38":{"start":{"line":55,"column":2},"end":{"line":55,"column":36}},"39":{"start":{"line":56,"column":2},"end":{"line":58,"column":3}},"40":{"start":{"line":57,"column":4},"end":{"line":57,"column":54}},"41":{"start":{"line":59,"column":2},"end":{"line":59,"column":32}},"42":{"start":{"line":60,"column":2},"end":{"line":67,"column":4}},"43":{"start":{"line":68,"column":2},"end":{"line":68,"column":59}},"44":{"start":{"line":69,"column":2},"end":{"line":71,"column":14}},"45":{"start":{"line":72,"column":2},"end":{"line":74,"column":3}},"46":{"start":{"line":73,"column":4},"end":{"line":73,"column":28}},"47":{"start":{"line":75,"column":2},"end":{"line":77,"column":3}},"48":{"start":{"line":76,"column":4},"end":{"line":76,"column":23}},"49":{"start":{"line":78,"column":2},"end":{"line":78,"column":16}},"50":{"start":{"line":81,"column":0},"end":{"line":83,"column":1}},"51":{"start":{"line":82,"column":2},"end":{"line":82,"column":63}},"52":{"start":{"line":85,"column":0},"end":{"line":91,"column":1}},"53":{"start":{"line":86,"column":2},"end":{"line":86,"column":54}},"54":{"start":{"line":87,"column":2},"end":{"line":89,"column":3}},"55":{"start":{"line":88,"column":4},"end":{"line":88,"column":16}},"56":{"start":{"line":90,"column":2},"end":{"line":90,"column":53}}},"branchMap":{"1":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":19},"end":{"line":36,"column":31}},{"start":{"line":36,"column":35},"end":{"line":36,"column":37}}]},"2":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]},"3":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":2},"end":{"line":56,"column":2}},{"start":{"line":56,"column":2},"end":{"line":56,"column":2}}]},"4":{"line":69,"type":"cond-expr","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":31}},{"start":{"line":71,"column":4},"end":{"line":71,"column":13}}]},"5":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":2},"end":{"line":72,"column":2}},{"start":{"line":72,"column":2},"end":{"line":72,"column":2}}]},"6":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":75,"column":2}},{"start":{"line":75,"column":2},"end":{"line":75,"column":2}}]},"7":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":2},"end":{"line":87,"column":2}},{"start":{"line":87,"column":2},"end":{"line":87,"column":2}}]}},"code":["module.exports = parseTree;","","var packageFormatVersion = 'mvn:0.0.1';","var newline = /[\\r\\n]+/g;","var logLabel = /^\\[\\w+\\]\\s*/gm;","var digraph = /digraph([\\s\\S]*?)\\}/g;","","// Parse the output from 'mvn dependency:tree -DoutputType=dot'","// Requires Maven >= 2.2","function parseTree(text) {","  text = text.replace(logLabel, '');","  return getRootProject(text);","}","","function getRootProject(text) {","  var projects = text.match(digraph);","  var root = getProject(projects[0]);","  // Add any subsequent projects to the root as dependencies","  for (var i = 1; i < projects.length; i++) {","    var project = getProject(projects[i], root);","    root.dependencies[project.name] = project;","  }","  root.packageFormatVersion = packageFormatVersion;","  return root;","}","","function getProject(projectDump, parent) {","  var lines = projectDump.split(newline);","  var identity = dequote(lines[0]);","  var deps = {};","  for (var i = 1; i < lines.length - 1; i++) {","    var line = lines[i];","    var nodes = line.trim().split('->');","    var source = dequote(nodes[0]);","    var target = dequote(nodes[1]);","    deps[source] = deps[source] || [];","    deps[source].push(target);","  }","  return assemblePackage(identity, deps, parent);","}","","function assemblePackage(source, projectDeps, parent) {","  var sourcePackage = createPackage(source, parent);","  var sourceDeps = projectDeps[source];","  if (sourceDeps) {","    for (var i = 0; i < sourceDeps.length; i++) {","      var pkg = assemblePackage(sourceDeps[i], projectDeps, sourcePackage);","      sourcePackage.dependencies[pkg.name] = pkg;","    }","  }","  return sourcePackage;","}","","function createPackage(pkgStr, parent) {","  var range = getConstraint(pkgStr);","  if (range) {","    pkgStr = pkgStr.substring(0, pkgStr.indexOf(' '));","  }","  var parts = pkgStr.split(':');","  var result = {","    groupId: parts[0],","    artifactId: parts[1],","    packaging: parts[2],","    version: parts[3],","    name: parts[0] + ':' + parts[1],","    dependencies: {},","  };","  var selfPkg = parts[0] + ':' + parts[1] + '@' + parts[3];","  result.from = parent ?","    parent.from.concat(selfPkg) :","    [selfPkg];","  if (parts.length === 5) {","    result.scope = parts[4];","  }","  if (range) {","    result.dep = range;","  }","  return result;","}","","function dequote(str) {","  return str.slice(str.indexOf('\"') + 1, str.lastIndexOf('\"'));","}","","function getConstraint(str) {","  var index = str.indexOf('selected from constraint');","  if (index === -1) {","    return null;","  }","  return str.slice(index + 25, str.lastIndexOf(')'));","}",""],"l":{"1":1,"3":1,"4":1,"5":1,"6":1,"10":1,"11":0,"12":0,"15":1,"16":0,"17":0,"19":0,"20":0,"21":0,"23":0,"24":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"39":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"51":0,"54":1,"55":0,"56":0,"57":0,"59":0,"60":0,"68":0,"69":0,"72":0,"73":0,"75":0,"76":0,"78":0,"81":1,"82":0,"85":1,"86":0,"87":0,"88":0,"90":0}}}